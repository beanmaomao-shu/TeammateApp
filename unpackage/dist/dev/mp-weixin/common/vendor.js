"use strict";const yu=(t,e)=>{const r=t.__vccOpts||t;for(const[i,n]of e)r[i]=n;return r};/**
* @vue/shared v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Gt(t,e){const r=new Set(t.split(","));return e?i=>r.has(i.toLowerCase()):i=>r.has(i)}const ee=Object.freeze({}),Aa=Object.freeze([]),oe=()=>{},vu=()=>!1,hs=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),Ta=t=>t.startsWith("onUpdate:"),Y=Object.assign,cr=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},xu=Object.prototype.hasOwnProperty,H=(t,e)=>xu.call(t,e),U=Array.isArray,pt=t=>ke(t)==="[object Map]",ds=t=>ke(t)==="[object Set]",F=t=>typeof t=="function",Z=t=>typeof t=="string",At=t=>typeof t=="symbol",Q=t=>t!==null&&typeof t=="object",bi=t=>(Q(t)||F(t))&&F(t.then)&&F(t.catch),gs=Object.prototype.toString,ke=t=>gs.call(t),ur=t=>ke(t).slice(8,-1),te=t=>ke(t)==="[object Object]",Rn=t=>Z(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,ps=Gt(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),_u=Gt("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),fr=t=>{const e=Object.create(null);return r=>e[r]||(e[r]=t(r))},bu=/-(\w)/g,Me=fr(t=>t.replace(bu,(e,r)=>r?r.toUpperCase():"")),wu=/\B([A-Z])/g,bt=fr(t=>t.replace(wu,"-$1").toLowerCase()),wt=fr(t=>t.charAt(0).toUpperCase()+t.slice(1)),ft=fr(t=>t?`on${wt(t)}`:""),lt=(t,e)=>!Object.is(t,e),Bi=(t,e)=>{for(let r=0;r<t.length;r++)t[r](e)},Su=(t,e,r)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:r})},Pu=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Ca;const ms=()=>Ca||(Ca=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ys(t){if(U(t)){const e={};for(let r=0;r<t.length;r++){const i=t[r],n=Z(i)?Iu(i):ys(i);if(n)for(const a in n)e[a]=n[a]}return e}else if(Z(t)||Q(t))return t}const Au=/;(?![^(]*\))/g,Tu=/:([^]+)/,Cu=/\/\*[^]*?\*\//g;function Iu(t){const e={};return t.replace(Cu,"").split(Au).forEach(r=>{if(r){const i=r.split(Tu);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function vs(t){let e="";if(Z(t))e=t;else if(U(t))for(let r=0;r<t.length;r++){const i=vs(t[r]);i&&(e+=i+" ")}else if(Q(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const ku=t=>Z(t)?t:t==null?"":U(t)||Q(t)&&(t.toString===gs||!F(t.toString))?JSON.stringify(t,xs,2):String(t),xs=(t,e)=>e&&e.__v_isRef?xs(t,e.value):pt(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[i,n],a)=>(r[Ir(i,a)+" =>"]=n,r),{})}:ds(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>Ir(r))}:At(e)?Ir(e):Q(e)&&!U(e)&&!te(e)?String(e):e,Ir=(t,e="")=>{var r;return At(t)?`Symbol(${(r=t.description)!=null?r:e})`:t},Lu="d",wi="onShow",hr="onHide",_s="onLaunch",dr="onError",bs="onThemeChange",ws="onPageNotFound",Ss="onUnhandledRejection",Ou="onExit",Jt="onLoad",Fn="onReady",$n="onUnload",Ps="onInit",As="onSaveExitState",Ts="onResize",Cs="onBackPress",Is="onPageScroll",Nn="onTabItemTap",Bn="onReachBottom",Un="onPullDownRefresh",ks="onShareTimeline",Hn="onAddToFavorites",Ls="onShareAppMessage",Os="onNavigationBarButtonTap",Ds="onNavigationBarSearchInputClicked",Ms="onNavigationBarSearchInputChanged",Es="onNavigationBarSearchInputConfirmed",Rs="onNavigationBarSearchInputFocusChanged",Du=/:/g;function Mu(t){return Me(t.replace(Du,"-"))}function Eu(t){return t.indexOf("/")===0}function Ru(t){return Eu(t)?t:"/"+t}const Fu=(t,e)=>{let r;for(let i=0;i<t.length;i++)r=t[i](e);return r};function Fs(t,e=null){let r;return(...i)=>(t&&(r=t.apply(e,i),t=null),r)}function $s(t,e){if(!Z(e))return;e=e.replace(/\[(\d+)\]/g,".$1");const r=e.split(".");let i=r[0];return t||(t={}),r.length===1?t[i]:$s(t[i],r.slice(1).join("."))}function Wn(t){let e={};return te(t)&&Object.keys(t).sort().forEach(r=>{const i=r;e[i]=t[i]}),Object.keys(e)?e:t}const $u=encodeURIComponent;function Nu(t,e=$u){const r=t?Object.keys(t).map(i=>{let n=t[i];return typeof n===void 0||n===null?n="":te(n)&&(n=JSON.stringify(n)),e(i)+"="+e(n)}).filter(i=>i.length>0).join("&"):null;return r?`?${r}`:""}const Bu=[Ps,Jt,wi,hr,$n,Cs,Is,Nn,Bn,Un,ks,Ls,Hn,As,Os,Ds,Ms,Es,Rs];function Uu(t){return Bu.indexOf(t)>-1}const Ns=[wi,hr,_s,dr,bs,ws,Ss,Ou,Ps,Jt,Fn,$n,Ts,Cs,Is,Nn,Bn,Un,ks,Hn,Ls,As,Os,Ds,Ms,Es,Rs],en={onPageScroll:1,onShareAppMessage:2,onShareTimeline:4};function Bs(t,e,r=!0){return r&&!F(e)?!1:Ns.indexOf(t)>-1?!0:t.indexOf("on")===0}let tn;const Us=[];function Hu(t){if(tn)return t(tn);Us.push(t)}function Wu(t){tn=t,Us.forEach(e=>e(t))}const ju=Fs((t,e)=>{if(F(t._component.onError))return e(t)}),Hs=function(){};Hs.prototype={on:function(t,e,r){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:r}),this},once:function(t,e,r){var i=this;function n(){i.off(t,n),e.apply(r,arguments)}return n._=e,this.on(t,n,r)},emit:function(t){var e=[].slice.call(arguments,1),r=((this.e||(this.e={}))[t]||[]).slice(),i=0,n=r.length;for(i;i<n;i++)r[i].fn.apply(r[i].ctx,e);return this},off:function(t,e){var r=this.e||(this.e={}),i=r[t],n=[];if(i&&e){for(var a=i.length-1;a>=0;a--)if(i[a].fn===e||i[a].fn._===e){i.splice(a,1);break}n=i}return n.length?r[t]=n:delete r[t],this}};var zu=Hs;const qu=t=>t!==null&&typeof t=="object",Vu=["{","}"];class Ku{constructor(){this._caches=Object.create(null)}interpolate(e,r,i=Vu){if(!r)return[e];let n=this._caches[e];return n||(n=Xu(e,i),this._caches[e]=n),Yu(n,r)}}const Gu=/^(?:\d)+/,Ju=/^(?:\w)+/;function Xu(t,[e,r]){const i=[];let n=0,a="";for(;n<t.length;){let o=t[n++];if(o===e){a&&i.push({type:"text",value:a}),a="";let s="";for(o=t[n++];o!==void 0&&o!==r;)s+=o,o=t[n++];const l=o===r,c=Gu.test(s)?"list":l&&Ju.test(s)?"named":"unknown";i.push({value:s,type:c})}else a+=o}return a&&i.push({type:"text",value:a}),i}function Yu(t,e){const r=[];let i=0;const n=Array.isArray(e)?"list":qu(e)?"named":"unknown";if(n==="unknown")return r;for(;i<t.length;){const a=t[i];switch(a.type){case"text":r.push(a.value);break;case"list":r.push(e[parseInt(a.value,10)]);break;case"named":n==="named"?r.push(e[a.value]):console.warn(`Type of token '${a.type}' and format of value '${n}' don't match!`);break;case"unknown":console.warn("Detect 'unknown' type of token!");break}i++}return r}const kr="zh-Hans",Ia="zh-Hant",rt="en",Qu="fr",Zu="es",ef=Object.prototype.hasOwnProperty,ka=(t,e)=>ef.call(t,e),tf=new Ku;function rf(t,e){return!!e.find(r=>t.indexOf(r)!==-1)}function nf(t,e){return e.find(r=>t.indexOf(r)===0)}function zi(t,e){if(!t)return;if(t=t.trim().replace(/_/g,"-"),e&&e[t])return t;if(t=t.toLowerCase(),t==="chinese")return kr;if(t.indexOf("zh")===0)return t.indexOf("-hans")>-1?kr:t.indexOf("-hant")>-1||rf(t,["-tw","-hk","-mo","-cht"])?Ia:kr;let r=[rt,Qu,Zu];e&&Object.keys(e).length>0&&(r=Object.keys(e));const i=nf(t,r);if(i)return i}class af{constructor({locale:e,fallbackLocale:r,messages:i,watcher:n,formater:a}){this.locale=rt,this.fallbackLocale=rt,this.message={},this.messages={},this.watchers=[],r&&(this.fallbackLocale=r),this.formater=a||tf,this.messages=i||{},this.setLocale(e||rt),n&&this.watchLocale(n)}setLocale(e){const r=this.locale;this.locale=zi(e,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],r!==this.locale&&this.watchers.forEach(i=>{i(this.locale,r)})}getLocale(){return this.locale}watchLocale(e){const r=this.watchers.push(e)-1;return()=>{this.watchers.splice(r,1)}}add(e,r,i=!0){const n=this.messages[e];n?i?Object.assign(n,r):Object.keys(r).forEach(a=>{ka(n,a)||(n[a]=r[a])}):this.messages[e]=r}f(e,r,i){return this.formater.interpolate(e,r,i).join("")}t(e,r,i){let n=this.message;return typeof r=="string"?(r=zi(r,this.messages),r&&(n=this.messages[r])):i=r,ka(n,e)?this.formater.interpolate(n[e],i).join(""):(console.warn(`Cannot translate the value of keypath ${e}. Use the value of keypath as default.`),e)}}function of(t,e){t.$watchLocale?t.$watchLocale(r=>{e.setLocale(r)}):t.$watch(()=>t.$locale,r=>{e.setLocale(r)})}function sf(){return typeof J<"u"&&J.getLocale?J.getLocale():typeof global<"u"&&global.getLocale?global.getLocale():rt}function lf(t,e={},r,i){if(typeof t!="string"){const o=[e,t];t=o[0],e=o[1]}typeof t!="string"&&(t=sf()),typeof r!="string"&&(r=typeof __uniConfig<"u"&&__uniConfig.fallbackLocale||rt);const n=new af({locale:t,fallbackLocale:r,messages:e,watcher:i});let a=(o,s)=>{if(typeof getApp!="function")a=function(l,c){return n.t(l,c)};else{let l=!1;a=function(c,u){const f=getApp().$vm;return f&&(f.$locale,l||(l=!0,of(f,n))),n.t(c,u)}}return a(o,s)};return{i18n:n,f(o,s,l){return n.f(o,s,l)},t(o,s){return a(o,s)},add(o,s,l=!0){return n.add(o,s,l)},watch(o){return n.watchLocale(o)},getLocale(){return n.getLocale()},setLocale(o){return n.setLocale(o)}}}function cf(){return wx.getSystemInfoSync()}function uf(t,e){console.warn(`${t}: ${e}`)}function La(t,e,r,i){i||(i=uf);for(const n in r){const a=hf(n,e[n],r[n],!H(e,n));Z(a)&&i(t,a)}}function ff(t,e,r,i){if(!r)return;if(!U(r))return La(t,e[0]||Object.create(null),r,i);const n=r.length,a=e.length;for(let o=0;o<n;o++){const s=r[o],l=Object.create(null);a>o&&(l[s.name]=e[o]),La(t,l,{[s.name]:s},i)}}function hf(t,e,r,i){te(r)||(r={type:r});const{type:n,required:a,validator:o}=r;if(a&&i)return'Missing required args: "'+t+'"';if(!(e==null&&!a)){if(n!=null){let s=!1;const l=U(n)?n:[n],c=[];for(let u=0;u<l.length&&!s;u++){const{valid:f,expectedType:h}=gf(e,l[u]);c.push(h||""),s=f}if(!s)return pf(t,e,c)}if(o)return o(e)}}const df=Gt("String,Number,Boolean,Function,Symbol");function gf(t,e){let r;const i=mf(e);if(df(i)){const n=typeof t;r=n===i.toLowerCase(),!r&&n==="object"&&(r=t instanceof e)}else i==="Object"?r=Q(t):i==="Array"?r=U(t):r=t instanceof e;return{valid:r,expectedType:i}}function pf(t,e,r){let i=`Invalid args: type check failed for args "${t}". Expected ${r.map(wt).join(", ")}`;const n=r[0],a=ur(e),o=Oa(e,n),s=Oa(e,a);return r.length===1&&Da(n)&&!yf(n,a)&&(i+=` with value ${o}`),i+=`, got ${a} `,Da(a)&&(i+=`with value ${s}.`),i}function mf(t){const e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Oa(t,e){return e==="String"?`"${t}"`:e==="Number"?`${Number(t)}`:`${t}`}function Da(t){return["string","number","boolean"].some(r=>t.toLowerCase()===r)}function yf(...t){return t.some(e=>e.toLowerCase()==="boolean")}function vf(t){return function(){try{return t.apply(t,arguments)}catch(e){console.error(e)}}}let xf=1;const rn={};function _f(t,e,r,i=!1){return rn[t]={name:e,keepAlive:i,callback:r},t}function Ws(t,e,r){if(typeof t=="number"){const i=rn[t];if(i)return i.keepAlive||delete rn[t],i.callback(e,r)}return e}const bf="success",wf="fail",Sf="complete";function Pf(t){const e={};for(const r in t){const i=t[r];F(i)&&(e[r]=vf(i),delete t[r])}return e}function Af(t,e){return!t||t.indexOf(":fail")===-1?e+":ok":e+t.substring(t.indexOf(":fail"))}function Tf(t,e={},{beforeAll:r,beforeSuccess:i}={}){te(e)||(e={});const{success:n,fail:a,complete:o}=Pf(e),s=F(n),l=F(a),c=F(o),u=xf++;return _f(u,t,f=>{f=f||{},f.errMsg=Af(f.errMsg,t),F(r)&&r(f),f.errMsg===t+":ok"?(F(i)&&i(f,e),s&&n(f)):l&&a(f),c&&o(f)}),u}const Cf="success",If="fail",kf="complete",Nt={},Bt={};function Lf(t,e){return function(r){return t(r,e)||r}}function js(t,e,r){let i=!1;for(let n=0;n<t.length;n++){const a=t[n];if(i)i=Promise.resolve(Lf(a,r));else{const o=a(e,r);if(bi(o)&&(i=Promise.resolve(o)),o===!1)return{then(){},catch(){}}}}return i||{then(n){return n(e)},catch(){}}}function Ma(t,e={}){return[Cf,If,kf].forEach(r=>{const i=t[r];if(!U(i))return;const n=e[r];e[r]=function(o){js(i,o,e).then(s=>F(n)&&n(s)||s)}}),e}function qi(t,e){const r=[];U(Nt.returnValue)&&r.push(...Nt.returnValue);const i=Bt[t];return i&&U(i.returnValue)&&r.push(...i.returnValue),r.forEach(n=>{e=n(e)||e}),e}function Ea(t){const e=Object.create(null);Object.keys(Nt).forEach(i=>{i!=="returnValue"&&(e[i]=Nt[i].slice())});const r=Bt[t];return r&&Object.keys(r).forEach(i=>{i!=="returnValue"&&(e[i]=(e[i]||[]).concat(r[i]))}),e}function Vi(t,e,r,i){const n=Ea(t);return n&&Object.keys(n).length?U(n.invoke)?js(n.invoke,r).then(o=>e(Ma(Ea(t),o),...i)):e(Ma(n,r),...i):e(r,...i)}function Of(t){return!!(te(t)&&[bf,wf,Sf].find(e=>F(t[e])))}function Df(t,e){return(r={},...i)=>Of(r)?qi(t,Vi(t,e,r,i)):qi(t,new Promise((n,a)=>{Vi(t,e,Y(r,{success:n,fail:a}),i)}))}function Mf(t,e){const r=t[0];if(!e||!e.formatArgs||!te(e.formatArgs)&&te(r))return;const i=e.formatArgs,n=Object.keys(i);for(let a=0;a<n.length;a++){const o=n[a],s=i[o];if(F(s)){const l=s(t[0][o],r);if(Z(l))return l}else H(r,o)||(r[o]=s)}}function Ef(t,e,r){const i={errMsg:e+":ok"};return Ws(t,Y(r||{},i))}function Ra(t,e,r,i={}){const n=e+":fail"+(r?" "+r:"");delete i.errCode;let a=Y({errMsg:n},i);return Ws(t,a)}function zs(t,e,r,i){if(ff(t,e,r),i&&i.beforeInvoke){const a=i.beforeInvoke(e);if(Z(a))return a}const n=Mf(e,i);if(n)return n}function Rf(t){return!t||Z(t)?t:t.stack?(console.error(t.message+`
`+t.stack),t.message):t}function Ff(t,e,r,i){return n=>{const a=Tf(t,n,i),o=zs(t,[n],r,i);return o?Ra(a,t,o):e(n,{resolve:s=>Ef(a,t,s),reject:(s,l)=>Ra(a,t,Rf(s),l)})}}function $f(t,e,r,i){return(...n)=>{const a=zs(t,n,r,i);if(a)throw new Error(a);return e.apply(null,n)}}function Nf(t,e,r,i){return Ff(t,e,r,i)}function Tt(t,e,r,i){return $f(t,e,r,i)}function Bf(t,e,r,i){return Df(t,Nf(t,e,r,i))}const Uf="upx2px",Hf=[{name:"upx",type:[Number,String],required:!0}],Wf=1e-4,jf=750;let qs=!1,nn=0,Vs=0;function zf(){const{platform:t,pixelRatio:e,windowWidth:r}=cf();nn=r,Vs=e,qs=t==="ios"}const qf=Tt(Uf,(t,e)=>{if(nn===0&&zf(),t=Number(t),t===0)return 0;let r=e||nn,i=t/jf*r;return i<0&&(i=-i),i=Math.floor(i+Wf),i===0&&(Vs===1||!qs?i=1:i=.5),t<0?-i:i},Hf),Vf="addInterceptor",Kf="removeInterceptor",Ks=[{name:"method",type:[String,Object],required:!0}],Gf=Ks;function Fa(t,e){Object.keys(e).forEach(r=>{F(e[r])&&(t[r]=Jf(t[r],e[r]))})}function $a(t,e){!t||!e||Object.keys(e).forEach(r=>{const i=t[r],n=e[r];U(i)&&F(n)&&cr(i,n)})}function Jf(t,e){const r=e?t?t.concat(e):U(e)?e:[e]:t;return r&&Xf(r)}function Xf(t){const e=[];for(let r=0;r<t.length;r++)e.indexOf(t[r])===-1&&e.push(t[r]);return e}const Yf=Tt(Vf,(t,e)=>{Z(t)&&te(e)?Fa(Bt[t]||(Bt[t]={}),e):te(t)&&Fa(Nt,t)},Ks),Qf=Tt(Kf,(t,e)=>{Z(t)?te(e)?$a(Bt[t],e):delete Bt[t]:te(t)&&$a(Nt,t)},Gf),Zf={},eh="$on",Gs=[{name:"event",type:String,required:!0},{name:"callback",type:Function,required:!0}],th="$once",ih=Gs,rh="$off",nh=[{name:"event",type:[String,Array]},{name:"callback",type:Function}],ah="$emit",oh=[{name:"event",type:String,required:!0}],St=new zu,sh=Tt(eh,(t,e)=>(St.on(t,e),()=>St.off(t,e)),Gs),lh=Tt(th,(t,e)=>(St.once(t,e),()=>St.off(t,e)),ih),ch=Tt(rh,(t,e)=>{if(!t){St.e={};return}U(t)||(t=[t]),t.forEach(r=>St.off(r,e))},nh),uh=Tt(ah,(t,...e)=>{St.emit(t,...e)},oh);let ai,an,on;function Na(t){try{return JSON.parse(t)}catch{}return t}function fh(t){if(t.type==="enabled")on=!0;else if(t.type==="clientId")ai=t.cid,an=t.errMsg,Js(ai,t.errMsg);else if(t.type==="pushMsg"){const e={type:"receive",data:Na(t.message)};for(let r=0;r<nt.length;r++){const i=nt[r];if(i(e),e.stopped)break}}else t.type==="click"&&nt.forEach(e=>{e({type:"click",data:Na(t.message)})})}const sn=[];function Js(t,e){sn.forEach(r=>{r(t,e)}),sn.length=0}const hh="getPushClientId",dh=Bf(hh,(t,{resolve:e,reject:r})=>{Promise.resolve().then(()=>{typeof on>"u"&&(on=!1,ai="",an="uniPush is not enabled"),sn.push((i,n)=>{i?e({cid:i}):r(n)}),typeof ai<"u"&&Js(ai,an)})}),nt=[],gh=t=>{nt.indexOf(t)===-1&&nt.push(t)},ph=t=>{if(!t)nt.length=0;else{const e=nt.indexOf(t);e>-1&&nt.splice(e,1)}},mh=/^\$|getLocale|setLocale|sendNativeEvent|restoreGlobal|requireGlobal|getCurrentSubNVue|getMenuButtonBoundingClientRect|^report|interceptors|Interceptor$|getSubNVueById|requireNativePlugin|upx2px|hideKeyboard|canIUse|^create|Sync$|Manager$|base64ToArrayBuffer|arrayBufferToBase64|getDeviceInfo|getAppBaseInfo|getWindowInfo|getSystemSetting|getAppAuthorizeSetting/,yh=/^create|Manager$/,vh=["createBLEConnection"],xh=["createBLEConnection"],_h=/^on|^off/;function Xs(t){return yh.test(t)&&vh.indexOf(t)===-1}function Ys(t){return mh.test(t)&&xh.indexOf(t)===-1}function bh(t){return _h.test(t)&&t!=="onPush"}function wh(t){return!(Xs(t)||Ys(t)||bh(t))}Promise.prototype.finally||(Promise.prototype.finally=function(t){const e=this.constructor;return this.then(r=>e.resolve(t&&t()).then(()=>r),r=>e.resolve(t&&t()).then(()=>{throw r}))});function Lr(t,e){return!wh(t)||!F(e)?e:function(i={},...n){return F(i.success)||F(i.fail)||F(i.complete)?qi(t,Vi(t,e,i,n)):qi(t,new Promise((a,o)=>{Vi(t,e,Y({},i,{success:a,fail:o}),n)}))}}const Sh=["success","fail","cancel","complete"];function Ph(t){function e(n,a,o){return function(s){return a(i(n,s,o))}}function r(n,a,o={},s={},l=!1){if(te(a)){const c=l===!0?a:{};F(o)&&(o=o(a,c)||{});for(const u in a)if(H(o,u)){let f=o[u];F(f)&&(f=f(a[u],a,c)),f?Z(f)?c[f]=a[u]:te(f)&&(c[f.name?f.name:u]=f.value):console.warn(`微信小程序 ${n} 暂不支持 ${u}`)}else if(Sh.indexOf(u)!==-1){const f=a[u];F(f)&&(c[u]=e(n,f,s))}else!l&&!H(c,u)&&(c[u]=a[u]);return c}else F(a)&&(a=e(n,a,s));return a}function i(n,a,o,s=!1){return F(t.returnValue)&&(a=t.returnValue(n,a)),r(n,a,o,{},s)}return function(a,o){if(!H(t,a))return o;const s=t[a];return s?function(l,c){let u=s;F(s)&&(u=s(l)),l=r(a,l,u.args,u.returnValue);const f=[l];typeof c<"u"&&f.push(c);const h=wx[u.name||a].apply(wx,f);return Ys(a)?i(a,h,u.returnValue,Xs(a)):h}:function(){console.error(`微信小程序 暂不支持${a}`)}}}const Ki=()=>{const t=F(getApp)&&getApp({allowDefault:!0});return t&&t.$vm?t.$vm.$locale:zi(wx.getSystemInfoSync().language)||rt},Ah=t=>{const e=F(getApp)&&getApp();return e&&e.$vm.$locale!==t?(e.$vm.$locale=t,ln.forEach(i=>i({locale:t})),!0):!1},ln=[],Th=t=>{ln.indexOf(t)===-1&&ln.push(t)};typeof global<"u"&&(global.getLocale=Ki);const Ba="__DC_STAT_UUID";let Lt;function Qs(t=wx){return function(r,i){Lt=Lt||t.getStorageSync(Ba),Lt||(Lt=Date.now()+""+Math.floor(Math.random()*1e7),wx.setStorage({key:Ba,data:Lt})),i.deviceId=Lt}}function Zs(t,e){if(t.safeArea){const r=t.safeArea;e.safeAreaInsets={top:r.top,left:r.left,right:t.windowWidth-r.right,bottom:t.screenHeight-r.bottom}}}function Ch(t,e){const{brand:r="",model:i="",system:n="",language:a="",theme:o,version:s,platform:l,fontSizeSetting:c,SDKVersion:u,pixelRatio:f,deviceOrientation:h}=t;let d="",m="";d=n.split(" ")[0]||"",m=n.split(" ")[1]||"";let p=s,g=el(t,i),v=tl(r),y=rl(t),x=h,b=f,P=u;const _=a.replace(/_/g,"-"),S={appId:"__UNI__1B84B3D",appName:"T",appVersion:"1.0.0",appVersionCode:"100",appLanguage:il(_),uniCompileVersion:"4.24",uniRuntimeVersion:"4.24",uniPlatform:"mp-weixin",deviceBrand:v,deviceModel:i,deviceType:g,devicePixelRatio:b,deviceOrientation:x,osName:d.toLocaleLowerCase(),osVersion:m,hostTheme:o,hostVersion:p,hostLanguage:_,hostName:y,hostSDKVersion:P,hostFontSizeSetting:c,windowTop:0,windowBottom:0,osLanguage:void 0,osTheme:void 0,ua:void 0,hostPackageName:void 0,browserName:void 0,browserVersion:void 0};Y(e,S)}function el(t,e){let r=t.deviceType||"phone";{const i={ipad:"pad",windows:"pc",mac:"pc"},n=Object.keys(i),a=e.toLocaleLowerCase();for(let o=0;o<n.length;o++){const s=n[o];if(a.indexOf(s)!==-1){r=i[s];break}}}return r}function tl(t){let e=t;return e&&(e=e.toLocaleLowerCase()),e}function il(t){return Ki?Ki():t}function rl(t){let r=t.hostName||"WeChat";return t.environment?r=t.environment:t.host&&t.host.env&&(r=t.host.env),r}const nl={returnValue:(t,e)=>{Zs(t,e),Qs()(t,e),Ch(t,e)}},Ih=nl,kh={},Lh={args(t,e){let r=parseInt(t.current);if(isNaN(r))return;const i=t.urls;if(!U(i))return;const n=i.length;if(n)return r<0?r=0:r>=n&&(r=n-1),r>0?(e.current=i[r],e.urls=i.filter((a,o)=>o<r?a!==i[r]:!0)):e.current=i[0],{indicator:!1,loop:!1}}},Oh={args(t,e){e.alertText=t.title}},Dh={returnValue:(t,e)=>{const{brand:r,model:i}=t;let n=el(t,i),a=tl(r);Qs()(t,e),e=Wn(Y(e,{deviceType:n,deviceBrand:a,deviceModel:i}))}},Mh={returnValue:(t,e)=>{const{version:r,language:i,SDKVersion:n,theme:a}=t;let o=rl(t),s=i.replace(/_/g,"-");e=Wn(Y(e,{hostVersion:r,hostLanguage:s,hostName:o,hostSDKVersion:n,hostTheme:a,appId:"__UNI__1B84B3D",appName:"T",appVersion:"1.0.0",appVersionCode:"100",appLanguage:il(s)}))}},Eh={returnValue:(t,e)=>{Zs(t,e),e=Wn(Y(e,{windowTop:0,windowBottom:0}))}},Rh={returnValue:function(t,e){const{locationReducedAccuracy:r}=t;e.locationAccuracy="unsupported",r===!0?e.locationAccuracy="reduced":r===!1&&(e.locationAccuracy="full")}},Ua={$on:sh,$off:ch,$once:lh,$emit:uh,upx2px:qf,interceptors:Zf,addInterceptor:Yf,removeInterceptor:Qf,onCreateVueApp:Hu,invokeCreateVueAppHook:Wu,getLocale:Ki,setLocale:Ah,onLocaleChange:Th,getPushClientId:dh,onPushMessage:gh,offPushMessage:ph,invokePushCallback:fh};function Fh(t,e,r=wx){const i=Ph(e),n={get(a,o){return H(a,o)?a[o]:H(t,o)?Lr(o,t[o]):H(Ua,o)?Lr(o,Ua[o]):Lr(o,i(o,r[o]))}};return new Proxy({},n)}function $h(t){return function({service:r,success:i,fail:n,complete:a}){let o;t[r]?(o={errMsg:"getProvider:ok",service:r,provider:t[r]},F(i)&&i(o)):(o={errMsg:"getProvider:fail:服务["+r+"]不存在"},F(n)&&n(o)),F(a)&&a(o)}}const Nh=["qy","env","error","version","lanDebug","cloud","serviceMarket","router","worklet","__webpack_require_UNI_MP_PLUGIN__"],Bh=["lanDebug","router","worklet"],Ha=wx.getLaunchOptionsSync?wx.getLaunchOptionsSync():null;function Uh(t){return Ha&&Ha.scene===1154&&Bh.includes(t)?!1:Nh.indexOf(t)>-1||typeof wx[t]=="function"}function al(){const t={};for(const e in wx)Uh(e)&&(t[e]=wx[e]);return typeof globalThis<"u"&&typeof requireMiniProgram>"u"&&(globalThis.wx=t),t}const Hh=["__route__","__wxExparserNodeId__","__wxWebviewId__"],Wh=$h({oauth:["weixin"],share:["weixin"],payment:["wxpay"],push:["weixin"]});function jh(t){const e=Object.create(null);return Hh.forEach(r=>{e[r]=t[r]}),e}function zh(){const t=Ut.createSelectorQuery(),e=t.in;return t.in=function(i){return e.call(this,jh(i))},t}const Ut=al();let Gi=Ut.getAppBaseInfo&&Ut.getAppBaseInfo();Gi||(Gi=Ut.getSystemInfoSync());const Wa=Gi?Gi.host:null,qh=Wa&&Wa.env==="SAAASDK"?Ut.miniapp.shareVideoMessage:Ut.shareVideoMessage;var Vh=Object.freeze({__proto__:null,createSelectorQuery:zh,getProvider:Wh,shareVideoMessage:qh});const Kh={args(t,e){t.compressedHeight&&!e.compressHeight&&(e.compressHeight=t.compressedHeight),t.compressedWidth&&!e.compressWidth&&(e.compressWidth=t.compressedWidth)}};var Gh=Object.freeze({__proto__:null,compressImage:Kh,getAppAuthorizeSetting:Rh,getAppBaseInfo:Mh,getDeviceInfo:Dh,getSystemInfo:nl,getSystemInfoSync:Ih,getWindowInfo:Eh,previewImage:Lh,redirectTo:kh,showActionSheet:Oh});const oi=al();var J=Fh(Vh,Gh,oi);new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(At));function cn(t){const e=t&&t.__v_raw;return e?cn(e):t}function Jh(t){return!!(t&&t.__v_isRef===!0)}/**
* @vue/runtime-core v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const mt=[];function Xh(t){mt.push(t)}function Yh(){mt.pop()}function Qh(t,...e){const r=mt.length?mt[mt.length-1].component:null,i=r&&r.appContext.config.warnHandler,n=Zh();if(i)jn(i,r,11,[t+e.map(a=>{var o,s;return(s=(o=a.toString)==null?void 0:o.call(a))!=null?s:JSON.stringify(a)}).join(""),r&&r.proxy,n.map(({vnode:a})=>`at <${dl(r,a.type)}>`).join(`
`),n]);else{const a=[`[Vue warn]: ${t}`,...e];n.length&&a.push(`
`,...ed(n)),console.warn(...a)}}function Zh(){let t=mt[mt.length-1];if(!t)return[];const e=[];for(;t;){const r=e[0];r&&r.vnode===t?r.recurseCount++:e.push({vnode:t,recurseCount:0});const i=t.component&&t.component.parent;t=i&&i.vnode}return e}function ed(t){const e=[];return t.forEach((r,i)=>{e.push(...i===0?[]:[`
`],...td(r))}),e}function td({vnode:t,recurseCount:e}){const r=e>0?`... (${e} recursive calls)`:"",i=t.component?t.component.parent==null:!1,n=` at <${dl(t.component,t.type,i)}`,a=">"+r;return t.props?[n,...id(t.props),a]:[n+a]}function id(t){const e=[],r=Object.keys(t);return r.slice(0,3).forEach(i=>{e.push(...ol(i,t[i]))}),r.length>3&&e.push(" ..."),e}function ol(t,e,r){return Z(e)?(e=JSON.stringify(e),r?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?r?e:[`${t}=${e}`]:Jh(e)?(e=ol(t,cn(e.value),!0),r?e:[`${t}=Ref<`,e,">"]):F(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=cn(e),r?e:[`${t}=`,e])}const sl={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://github.com/vuejs/core ."};function jn(t,e,r,i){try{return i?t(...i):t()}catch(n){ll(n,e,r)}}function ll(t,e,r,i=!0){const n=e?e.vnode:null;if(e){let a=e.parent;const o=e.proxy,s=sl[r];for(;a;){const c=a.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,s)===!1)return}a=a.parent}const l=e.appContext.config.errorHandler;if(l){jn(l,null,10,[t,o,s]);return}}rd(t,r,n,i)}function rd(t,e,r,i=!0){{const n=sl[e];if(r&&Xh(r),Qh(`Unhandled error${n?` during execution of ${n}`:""}`),r&&Yh(),i)throw t;console.error(t)}}let Ji=!1,un=!1;const Ae=[];let tt=0;const Rt=[];let Ne=null,Ze=0;const nd=Promise.resolve(),ad=100;function od(t){let e=tt+1,r=Ae.length;for(;e<r;){const i=e+r>>>1,n=Ae[i],a=ui(n);a<t||a===t&&n.pre?e=i+1:r=i}return e}function sd(t){(!Ae.length||!Ae.includes(t,Ji&&t.allowRecurse?tt+1:tt))&&(t.id==null?Ae.push(t):Ae.splice(od(t.id),0,t),cl())}function cl(){!Ji&&!un&&(un=!0,nd.then(ul))}function ld(t){U(t)?Rt.push(...t):(!Ne||!Ne.includes(t,t.allowRecurse?Ze+1:Ze))&&Rt.push(t),cl()}function cd(t){if(Rt.length){const e=[...new Set(Rt)].sort((r,i)=>ui(r)-ui(i));if(Rt.length=0,Ne){Ne.push(...e);return}for(Ne=e,t=t||new Map,Ze=0;Ze<Ne.length;Ze++)fl(t,Ne[Ze])||Ne[Ze]();Ne=null,Ze=0}}const ui=t=>t.id==null?1/0:t.id,ud=(t,e)=>{const r=ui(t)-ui(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function ul(t){un=!1,Ji=!0,t=t||new Map,Ae.sort(ud);const e=r=>fl(t,r);try{for(tt=0;tt<Ae.length;tt++){const r=Ae[tt];if(r&&r.active!==!1){if(e(r))continue;jn(r,null,14)}}}finally{tt=0,Ae.length=0,cd(t),Ji=!1,(Ae.length||Rt.length)&&ul(t)}}function fl(t,e){if(!t.has(e))t.set(e,1);else{const r=t.get(e);if(r>ad){const i=e.ownerInstance,n=i&&hl(i.type);return ll(`Maximum recursive updates exceeded${n?` in component <${n}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`,null,10),!0}else t.set(e,r+1)}}const Yt=new Set;ms().__VUE_HMR_RUNTIME__={createRecord:Or(fd),rerender:Or(hd),reload:Or(dd)};const Xi=new Map;function fd(t,e){return Xi.has(t)?!1:(Xi.set(t,{initialDef:si(e),instances:new Set}),!0)}function si(t){return md(t)?t.__vccOpts:t}function hd(t,e){const r=Xi.get(t);r&&(r.initialDef.render=e,[...r.instances].forEach(i=>{e&&(i.render=e,si(i.type).render=e),i.renderCache=[],i.effect.dirty=!0,i.update()}))}function dd(t,e){const r=Xi.get(t);if(!r)return;e=si(e),ja(r.initialDef,e);const i=[...r.instances];for(const n of i){const a=si(n.type);Yt.has(a)||(a!==r.initialDef&&ja(a,e),Yt.add(a)),n.appContext.propsCache.delete(n.type),n.appContext.emitsCache.delete(n.type),n.appContext.optionsCache.delete(n.type),n.ceReload?(Yt.add(a),n.ceReload(e.styles),Yt.delete(a)):n.parent?(n.parent.effect.dirty=!0,sd(n.parent.update)):n.appContext.reload?n.appContext.reload():typeof window<"u"?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}ld(()=>{for(const n of i)Yt.delete(si(n.type))})}function ja(t,e){Y(t,e);for(const r in t)r!=="__file"&&!(r in e)&&delete t[r]}function Or(t){return(e,r)=>{try{return t(e,r)}catch(i){console.error(i),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}{const t=ms(),e=(r,i)=>{let n;return(n=t[r])||(n=t[r]=[]),n.push(i),a=>{n.length>1?n.forEach(o=>o(a)):n[0](a)}};e("__VUE_INSTANCE_SETTERS__",r=>r),e("__VUE_SSR_SETTERS__",r=>r)}const gd=/(?:^|[-_])(\w)/g,pd=t=>t.replace(gd,e=>e.toUpperCase()).replace(/[-_]/g,"");function hl(t,e=!0){return F(t)?t.displayName||t.name:t.name||e&&t.__name}function dl(t,e,r=!1){let i=hl(e);if(!i&&e.__file){const n=e.__file.match(/([^/\\]+)\.\w+$/);n&&(i=n[1])}if(!i&&t&&t.parent){const n=a=>{for(const o in a)if(a[o]===e)return o};i=n(t.components||t.parent.type.components)||n(t.appContext.components)}return i?pd(i):r?"App":"Anonymous"}function md(t){return F(t)&&"__vccOpts"in t}/**
* @dcloudio/uni-mp-vue v3.4.21
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function je(t,...e){console.warn(`[Vue warn] ${t}`,...e)}let Pe;class yd{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Pe,!e&&Pe&&(this.index=(Pe.scopes||(Pe.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const r=Pe;try{return Pe=this,e()}finally{Pe=r}}else je("cannot run an inactive effect scope.")}on(){Pe=this}off(){Pe=this.parent}stop(e){if(this._active){let r,i;for(r=0,i=this.effects.length;r<i;r++)this.effects[r].stop();for(r=0,i=this.cleanups.length;r<i;r++)this.cleanups[r]();if(this.scopes)for(r=0,i=this.scopes.length;r<i;r++)this.scopes[r].stop(!0);if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0,this._active=!1}}}function vd(t,e=Pe){e&&e.active&&e.effects.push(t)}function xd(){return Pe}let yt;class zn{constructor(e,r,i,n){this.fn=e,this.trigger=r,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,vd(this,n)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,Ct();for(let e=0;e<this._depsLength;e++){const r=this.deps[e];if(r.computed&&(_d(r.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),It()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=at,r=yt;try{return at=!0,yt=this,this._runnings++,za(this),this.fn()}finally{qa(this),this._runnings--,yt=r,at=e}}stop(){var e;this.active&&(za(this),qa(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function _d(t){return t.value}function za(t){t._trackId++,t._depsLength=0}function qa(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)gl(t.deps[e],t);t.deps.length=t._depsLength}}function gl(t,e){const r=t.get(e);r!==void 0&&e._trackId!==r&&(t.delete(e),t.size===0&&t.cleanup())}let at=!0,fn=0;const pl=[];function Ct(){pl.push(at),at=!1}function It(){const t=pl.pop();at=t===void 0?!0:t}function qn(){fn++}function Vn(){for(fn--;!fn&&hn.length;)hn.shift()()}function ml(t,e,r){var i;if(e.get(t)!==t._trackId){e.set(t,t._trackId);const n=t.deps[t._depsLength];n!==e?(n&&gl(n,t),t.deps[t._depsLength++]=e):t._depsLength++,(i=t.onTrack)==null||i.call(t,Y({effect:t},r))}}const hn=[];function yl(t,e,r){var i;qn();for(const n of t.keys()){let a;n._dirtyLevel<e&&(a??(a=t.get(n)===n._trackId))&&(n._shouldSchedule||(n._shouldSchedule=n._dirtyLevel===0),n._dirtyLevel=e),n._shouldSchedule&&(a??(a=t.get(n)===n._trackId))&&((i=n.onTrigger)==null||i.call(n,Y({effect:n},r)),n.trigger(),(!n._runnings||n.allowRecurse)&&n._dirtyLevel!==2&&(n._shouldSchedule=!1,n.scheduler&&hn.push(n.scheduler)))}Vn()}const vl=(t,e)=>{const r=new Map;return r.cleanup=t,r.computed=e,r},Yi=new WeakMap,vt=Symbol("iterate"),dn=Symbol("Map key iterate");function he(t,e,r){if(at&&yt){let i=Yi.get(t);i||Yi.set(t,i=new Map);let n=i.get(r);n||i.set(r,n=vl(()=>i.delete(r))),ml(yt,n,{target:t,type:e,key:r})}}function Ue(t,e,r,i,n,a){const o=Yi.get(t);if(!o)return;let s=[];if(e==="clear")s=[...o.values()];else if(r==="length"&&U(t)){const l=Number(i);o.forEach((c,u)=>{(u==="length"||!At(u)&&u>=l)&&s.push(c)})}else switch(r!==void 0&&s.push(o.get(r)),e){case"add":U(t)?Rn(r)&&s.push(o.get("length")):(s.push(o.get(vt)),pt(t)&&s.push(o.get(dn)));break;case"delete":U(t)||(s.push(o.get(vt)),pt(t)&&s.push(o.get(dn)));break;case"set":pt(t)&&s.push(o.get(vt));break}qn();for(const l of s)l&&yl(l,4,{target:t,type:e,key:r,newValue:i,oldValue:n,oldTarget:a});Vn()}function bd(t,e){var r;return(r=Yi.get(t))==null?void 0:r.get(e)}const wd=Gt("__proto__,__v_isRef,__isVue"),xl=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(At)),Va=Sd();function Sd(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...r){const i=G(this);for(let a=0,o=this.length;a<o;a++)he(i,"get",a+"");const n=i[e](...r);return n===-1||n===!1?i[e](...r.map(G)):n}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...r){Ct(),qn();const i=G(this)[e].apply(this,r);return Vn(),It(),i}}),t}function Pd(t){const e=G(this);return he(e,"has",t),e.hasOwnProperty(t)}class _l{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,i){const n=this._isReadonly,a=this._isShallow;if(r==="__v_isReactive")return!n;if(r==="__v_isReadonly")return n;if(r==="__v_isShallow")return a;if(r==="__v_raw")return i===(n?a?Cl:Tl:a?Al:Pl).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=U(e);if(!n){if(o&&H(Va,r))return Reflect.get(Va,r,i);if(r==="hasOwnProperty")return Pd}const s=Reflect.get(e,r,i);return(At(r)?xl.has(r):wd(r))||(n||he(e,"get",r),a)?s:de(s)?o&&Rn(r)?s:s.value:Q(s)?n?Il(s):mr(s):s}}class bl extends _l{constructor(e=!1){super(!1,e)}set(e,r,i,n){let a=e[r];if(!this._isShallow){const l=Ht(a);if(!Qi(i)&&!Ht(i)&&(a=G(a),i=G(i)),!U(e)&&de(a)&&!de(i))return l?!1:(a.value=i,!0)}const o=U(e)&&Rn(r)?Number(r)<e.length:H(e,r),s=Reflect.set(e,r,i,n);return e===G(n)&&(o?lt(i,a)&&Ue(e,"set",r,i,a):Ue(e,"add",r,i)),s}deleteProperty(e,r){const i=H(e,r),n=e[r],a=Reflect.deleteProperty(e,r);return a&&i&&Ue(e,"delete",r,void 0,n),a}has(e,r){const i=Reflect.has(e,r);return(!At(r)||!xl.has(r))&&he(e,"has",r),i}ownKeys(e){return he(e,"iterate",U(e)?"length":vt),Reflect.ownKeys(e)}}class wl extends _l{constructor(e=!1){super(!0,e)}set(e,r){return je(`Set operation on key "${String(r)}" failed: target is readonly.`,e),!0}deleteProperty(e,r){return je(`Delete operation on key "${String(r)}" failed: target is readonly.`,e),!0}}const Ad=new bl,Td=new wl,Cd=new bl(!0),Id=new wl(!0),Kn=t=>t,gr=t=>Reflect.getPrototypeOf(t);function ki(t,e,r=!1,i=!1){t=t.__v_raw;const n=G(t),a=G(e);r||(lt(e,a)&&he(n,"get",e),he(n,"get",a));const{has:o}=gr(n),s=i?Kn:r?Jn:fi;if(o.call(n,e))return s(t.get(e));if(o.call(n,a))return s(t.get(a));t!==n&&t.get(e)}function Li(t,e=!1){const r=this.__v_raw,i=G(r),n=G(t);return e||(lt(t,n)&&he(i,"has",t),he(i,"has",n)),t===n?r.has(t):r.has(t)||r.has(n)}function Oi(t,e=!1){return t=t.__v_raw,!e&&he(G(t),"iterate",vt),Reflect.get(t,"size",t)}function Ka(t){t=G(t);const e=G(this);return gr(e).has.call(e,t)||(e.add(t),Ue(e,"add",t,t)),this}function Ga(t,e){e=G(e);const r=G(this),{has:i,get:n}=gr(r);let a=i.call(r,t);a?Sl(r,i,t):(t=G(t),a=i.call(r,t));const o=n.call(r,t);return r.set(t,e),a?lt(e,o)&&Ue(r,"set",t,e,o):Ue(r,"add",t,e),this}function Ja(t){const e=G(this),{has:r,get:i}=gr(e);let n=r.call(e,t);n?Sl(e,r,t):(t=G(t),n=r.call(e,t));const a=i?i.call(e,t):void 0,o=e.delete(t);return n&&Ue(e,"delete",t,void 0,a),o}function Xa(){const t=G(this),e=t.size!==0,r=pt(t)?new Map(t):new Set(t),i=t.clear();return e&&Ue(t,"clear",void 0,void 0,r),i}function Di(t,e){return function(i,n){const a=this,o=a.__v_raw,s=G(o),l=e?Kn:t?Jn:fi;return!t&&he(s,"iterate",vt),o.forEach((c,u)=>i.call(n,l(c),l(u),a))}}function Mi(t,e,r){return function(...i){const n=this.__v_raw,a=G(n),o=pt(a),s=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=n[t](...i),u=r?Kn:e?Jn:fi;return!e&&he(a,"iterate",l?dn:vt),{next(){const{value:f,done:h}=c.next();return h?{value:f,done:h}:{value:s?[u(f[0]),u(f[1])]:u(f),done:h}},[Symbol.iterator](){return this}}}}function Je(t){return function(...e){{const r=e[0]?`on key "${e[0]}" `:"";je(`${wt(t)} operation ${r}failed: target is readonly.`,G(this))}return t==="delete"?!1:t==="clear"?void 0:this}}function kd(){const t={get(a){return ki(this,a)},get size(){return Oi(this)},has:Li,add:Ka,set:Ga,delete:Ja,clear:Xa,forEach:Di(!1,!1)},e={get(a){return ki(this,a,!1,!0)},get size(){return Oi(this)},has:Li,add:Ka,set:Ga,delete:Ja,clear:Xa,forEach:Di(!1,!0)},r={get(a){return ki(this,a,!0)},get size(){return Oi(this,!0)},has(a){return Li.call(this,a,!0)},add:Je("add"),set:Je("set"),delete:Je("delete"),clear:Je("clear"),forEach:Di(!0,!1)},i={get(a){return ki(this,a,!0,!0)},get size(){return Oi(this,!0)},has(a){return Li.call(this,a,!0)},add:Je("add"),set:Je("set"),delete:Je("delete"),clear:Je("clear"),forEach:Di(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{t[a]=Mi(a,!1,!1),r[a]=Mi(a,!0,!1),e[a]=Mi(a,!1,!0),i[a]=Mi(a,!0,!0)}),[t,r,e,i]}const[Ld,Od,Dd,Md]=kd();function pr(t,e){const r=e?t?Md:Dd:t?Od:Ld;return(i,n,a)=>n==="__v_isReactive"?!t:n==="__v_isReadonly"?t:n==="__v_raw"?i:Reflect.get(H(r,n)&&n in i?r:i,n,a)}const Ed={get:pr(!1,!1)},Rd={get:pr(!1,!0)},Fd={get:pr(!0,!1)},$d={get:pr(!0,!0)};function Sl(t,e,r){const i=G(r);if(i!==r&&e.call(t,i)){const n=ur(t);je(`Reactive ${n} contains both the raw and reactive versions of the same object${n==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const Pl=new WeakMap,Al=new WeakMap,Tl=new WeakMap,Cl=new WeakMap;function Nd(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Bd(t){return t.__v_skip||!Object.isExtensible(t)?0:Nd(ur(t))}function mr(t){return Ht(t)?t:yr(t,!1,Ad,Ed,Pl)}function Ud(t){return yr(t,!1,Cd,Rd,Al)}function Il(t){return yr(t,!0,Td,Fd,Tl)}function Dt(t){return yr(t,!0,Id,$d,Cl)}function yr(t,e,r,i,n){if(!Q(t))return je(`value cannot be made reactive: ${String(t)}`),t;if(t.__v_raw&&!(e&&t.__v_isReactive))return t;const a=n.get(t);if(a)return a;const o=Bd(t);if(o===0)return t;const s=new Proxy(t,o===2?i:r);return n.set(t,s),s}function Ft(t){return Ht(t)?Ft(t.__v_raw):!!(t&&t.__v_isReactive)}function Ht(t){return!!(t&&t.__v_isReadonly)}function Qi(t){return!!(t&&t.__v_isShallow)}function kl(t){return Ft(t)||Ht(t)}function G(t){const e=t&&t.__v_raw;return e?G(e):t}function Gn(t){return Object.isExtensible(t)&&Su(t,"__v_skip",!0),t}const fi=t=>Q(t)?mr(t):t,Jn=t=>Q(t)?Il(t):t,Hd="Computed is still dirty after getter evaluation, likely because a computed is mutating its own dependency in its getter. State mutations in computed getters should be avoided.  Check the docs for more details: https://vuejs.org/guide/essentials/computed.html#getters-should-be-side-effect-free";class Ll{constructor(e,r,i,n){this.getter=e,this._setter=r,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new zn(()=>e(this._value),()=>Ui(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!n,this.__v_isReadonly=i}get value(){const e=G(this);return(!e._cacheable||e.effect.dirty)&&lt(e._value,e._value=e.effect.run())&&Ui(e,4),Ol(e),e.effect._dirtyLevel>=2&&(this._warnRecursive&&je(Hd,`

getter: `,this.getter),Ui(e,2)),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function Wd(t,e,r=!1){let i,n;const a=F(t);a?(i=t,n=()=>{je("Write operation failed: computed value is readonly")}):(i=t.get,n=t.set);const o=new Ll(i,n,a||!n,r);return e&&!r&&(o.effect.onTrack=e.onTrack,o.effect.onTrigger=e.onTrigger),o}function Ol(t){var e;at&&yt&&(t=G(t),ml(yt,(e=t.dep)!=null?e:t.dep=vl(()=>t.dep=void 0,t instanceof Ll?t:void 0),{target:t,type:"get",key:"value"}))}function Ui(t,e=4,r){t=G(t);const i=t.dep;i&&yl(i,e,{target:t,type:"set",key:"value",newValue:r})}function de(t){return!!(t&&t.__v_isRef===!0)}function Dl(t){return jd(t,!1)}function jd(t,e){return de(t)?t:new zd(t,e)}class zd{constructor(e,r){this.__v_isShallow=r,this.dep=void 0,this.__v_isRef=!0,this._rawValue=r?e:G(e),this._value=r?e:fi(e)}get value(){return Ol(this),this._value}set value(e){const r=this.__v_isShallow||Qi(e)||Ht(e);e=r?e:G(e),lt(e,this._rawValue)&&(this._rawValue=e,this._value=r?e:fi(e),Ui(this,4,e))}}function Xn(t){return de(t)?t.value:t}const qd={get:(t,e,r)=>Xn(Reflect.get(t,e,r)),set:(t,e,r,i)=>{const n=t[e];return de(n)&&!de(r)?(n.value=r,!0):Reflect.set(t,e,r,i)}};function Ml(t){return Ft(t)?t:new Proxy(t,qd)}function Vd(t){kl(t)||je("toRefs() expects a reactive object but received a plain one.");const e=U(t)?new Array(t.length):{};for(const r in t)e[r]=Gd(t,r);return e}class Kd{constructor(e,r,i){this._object=e,this._key=r,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return bd(G(this._object),this._key)}}function Gd(t,e,r){const i=t[e];return de(i)?i:new Kd(t,e,r)}const xt=[];function Yn(t){xt.push(t)}function Qn(){xt.pop()}function B(t,...e){Ct();const r=xt.length?xt[xt.length-1].component:null,i=r&&r.appContext.config.warnHandler,n=Jd();if(i)He(i,r,11,[t+e.map(a=>{var o,s;return(s=(o=a.toString)==null?void 0:o.call(a))!=null?s:JSON.stringify(a)}).join(""),r&&r.proxy,n.map(({vnode:a})=>`at <${wr(r,a.type)}>`).join(`
`),n]);else{const a=[`[Vue warn]: ${t}`,...e];n.length&&a.push(`
`,...Xd(n)),console.warn(...a)}It()}function Jd(){let t=xt[xt.length-1];if(!t)return[];const e=[];for(;t;){const r=e[0];r&&r.vnode===t?r.recurseCount++:e.push({vnode:t,recurseCount:0});const i=t.component&&t.component.parent;t=i&&i.vnode}return e}function Xd(t){const e=[];return t.forEach((r,i)=>{e.push(...i===0?[]:[`
`],...Yd(r))}),e}function Yd({vnode:t,recurseCount:e}){const r=e>0?`... (${e} recursive calls)`:"",i=t.component?t.component.parent==null:!1,n=` at <${wr(t.component,t.type,i)}`,a=">"+r;return t.props?[n,...Qd(t.props),a]:[n+a]}function Qd(t){const e=[],r=Object.keys(t);return r.slice(0,3).forEach(i=>{e.push(...El(i,t[i]))}),r.length>3&&e.push(" ..."),e}function El(t,e,r){return Z(e)?(e=JSON.stringify(e),r?e:[`${t}=${e}`]):typeof e=="number"||typeof e=="boolean"||e==null?r?e:[`${t}=${e}`]:de(e)?(e=El(t,G(e.value),!0),r?e:[`${t}=Ref<`,e,">"]):F(e)?[`${t}=fn${e.name?`<${e.name}>`:""}`]:(e=G(e),r?e:[`${t}=`,e])}const Zn={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://github.com/vuejs/core ."};function He(t,e,r,i){try{return i?t(...i):t()}catch(n){vr(n,e,r)}}function ct(t,e,r,i){if(F(t)){const a=He(t,e,r,i);return a&&bi(a)&&a.catch(o=>{vr(o,e,r)}),a}const n=[];for(let a=0;a<t.length;a++)n.push(ct(t[a],e,r,i));return n}function vr(t,e,r,i=!0){const n=e?e.vnode:null;if(e){let a=e.parent;const o=e.proxy,s=Zn[r]||r;for(;a;){const c=a.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,s)===!1)return}a=a.parent}const l=e.appContext.config.errorHandler;if(l){He(l,null,10,[t,o,s]);return}}Zd(t,r,n,i)}function Zd(t,e,r,i=!0){{const n=Zn[e]||e;r&&Yn(r),B(`Unhandled error${n?` during execution of ${n}`:""}`),r&&Qn(),console.error(t)}}let hi=!1,gn=!1;const ae=[];let Ce=0;const $t=[];let Be=null,et=0;const Rl=Promise.resolve();let ea=null;const eg=100;function ta(t){const e=ea||Rl;return t?e.then(this?t.bind(this):t):e}function tg(t){let e=Ce+1,r=ae.length;for(;e<r;){const i=e+r>>>1,n=ae[i],a=di(n);a<t||a===t&&n.pre?e=i+1:r=i}return e}function Zi(t){(!ae.length||!ae.includes(t,hi&&t.allowRecurse?Ce+1:Ce))&&(t.id==null?ae.push(t):ae.splice(tg(t.id),0,t),Fl())}function Fl(){!hi&&!gn&&(gn=!0,ea=Rl.then(Bl))}function ig(t){return ae.indexOf(t)>-1}function rg(t){const e=ae.indexOf(t);e>Ce&&ae.splice(e,1)}function $l(t){U(t)?$t.push(...t):(!Be||!Be.includes(t,t.allowRecurse?et+1:et))&&$t.push(t),Fl()}function Nl(t,e,r=hi?Ce+1:0){for(e=e||new Map;r<ae.length;r++){const i=ae[r];if(i&&i.pre){if(t&&i.id!==t.uid||ia(e,i))continue;ae.splice(r,1),r--,i()}}}function ng(t){if($t.length){const e=[...new Set($t)].sort((r,i)=>di(r)-di(i));if($t.length=0,Be){Be.push(...e);return}for(Be=e,t=t||new Map,et=0;et<Be.length;et++)ia(t,Be[et])||Be[et]();Be=null,et=0}}const di=t=>t.id==null?1/0:t.id,ag=(t,e)=>{const r=di(t)-di(e);if(r===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return r};function Bl(t){gn=!1,hi=!0,t=t||new Map,ae.sort(ag);const e=r=>ia(t,r);try{for(Ce=0;Ce<ae.length;Ce++){const r=ae[Ce];if(r&&r.active!==!1){if(e(r))continue;He(r,null,14)}}}finally{Ce=0,ae.length=0,ng(t),hi=!1,ea=null,(ae.length||$t.length)&&Bl(t)}}function ia(t,e){if(!t.has(e))t.set(e,1);else{const r=t.get(e);if(r>eg){const i=e.ownerInstance,n=i&&la(i.type);return vr(`Maximum recursive updates exceeded${n?` in component <${n}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`,null,10),!0}else t.set(e,r+1)}}let Ie,ii=[],pn=!1;function xr(t,...e){Ie?Ie.emit(t,...e):pn||ii.push({event:t,args:e})}function Ul(t,e){var r,i;Ie=t,Ie?(Ie.enabled=!0,ii.forEach(({event:n,args:a})=>Ie.emit(n,...a)),ii=[]):typeof window<"u"&&window.HTMLElement&&!((i=(r=window.navigator)==null?void 0:r.userAgent)!=null&&i.includes("jsdom"))?((e.__VUE_DEVTOOLS_HOOK_REPLAY__=e.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(a=>{Ul(a,e)}),setTimeout(()=>{Ie||(e.__VUE_DEVTOOLS_HOOK_REPLAY__=null,pn=!0,ii=[])},3e3)):(pn=!0,ii=[])}function og(t,e){xr("app:init",t,e,{Fragment:Jg,Text:Xg,Comment:Yg,Static:Qg})}const sg=ra("component:added"),lg=ra("component:updated"),cg=ra("component:removed"),ug=t=>{Ie&&typeof Ie.cleanupBuffer=="function"&&!Ie.cleanupBuffer(t)&&cg(t)};/*! #__NO_SIDE_EFFECTS__ */function ra(t){return e=>{xr(t,e.appContext.app,e.uid,e.uid===0?void 0:e.parent?e.parent.uid:0,e)}}const fg=Hl("perf:start"),hg=Hl("perf:end");function Hl(t){return(e,r,i)=>{xr(t,e.appContext.app,e.uid,e,r,i)}}function dg(t,e,r){xr("component:emit",t.appContext.app,t,e,r)}function gg(t,e,...r){if(t.isUnmounted)return;const i=t.vnode.props||ee;{const{emitsOptions:u,propsOptions:[f]}=t;if(u)if(!(e in u))(!f||!(ft(e)in f))&&B(`Component emitted event "${e}" but it is neither declared in the emits option nor as an "${ft(e)}" prop.`);else{const h=u[e];F(h)&&(h(...r)||B(`Invalid event arguments: event validation failed for event "${e}".`))}}let n=r;const a=e.startsWith("update:"),o=a&&e.slice(7);if(o&&o in i){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:f,trim:h}=i[u]||ee;h&&(n=r.map(d=>Z(d)?d.trim():d)),f&&(n=r.map(Pu))}dg(t,e,n);{const u=e.toLowerCase();u!==e&&i[ft(u)]&&B(`Event "${u}" is emitted in component ${wr(t,t.type)} but the handler is registered for "${e}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${bt(e)}" instead of "${e}".`)}let s,l=i[s=ft(e)]||i[s=ft(Me(e))];!l&&a&&(l=i[s=ft(bt(e))]),l&&ct(l,t,6,n);const c=i[s+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[s])return;t.emitted[s]=!0,ct(c,t,6,n)}}function Wl(t,e,r=!1){const i=e.emitsCache,n=i.get(t);if(n!==void 0)return n;const a=t.emits;let o={},s=!1;if(!F(t)){const l=c=>{const u=Wl(c,e,!0);u&&(s=!0,Y(o,u))};!r&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!a&&!s?(Q(t)&&i.set(t,null),null):(U(a)?a.forEach(l=>o[l]=null):Y(o,a),Q(t)&&i.set(t,o),o)}function jl(t,e){return!t||!hs(e)?!1:(e=e.slice(2).replace(/Once$/,""),H(t,e[0].toLowerCase()+e.slice(1))||H(t,bt(e))||H(t,e))}let Pt=null;function Ya(t){const e=Pt;return Pt=t,t&&t.type.__scopeId,e}const mn="components";function pg(t,e){return mg(mn,t,!0,e)||t}function mg(t,e,r=!0,i=!1){const n=Pt||ie;if(n){const a=n.type;if(t===mn){const s=la(a,!1);if(s&&(s===e||s===Me(e)||s===wt(Me(e))))return a}const o=Qa(n[t]||a[t],e)||Qa(n.appContext[t],e);if(!o&&i)return a;if(r&&!o){const s=t===mn?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";B(`Failed to resolve ${t.slice(0,-1)}: ${e}${s}`)}return o}else B(`resolve${wt(t.slice(0,-1))} can only be used in render() or setup().`)}function Qa(t,e){return t&&(t[e]||t[Me(e)]||t[wt(Me(e))])}const Ei={};function Hi(t,e,r){return F(e)||B("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),zl(t,e,r)}function zl(t,e,{immediate:r,deep:i,flush:n,once:a,onTrack:o,onTrigger:s}=ee){if(e&&a){const _=e;e=(...S)=>{_(...S),P()}}i!==void 0&&typeof i=="number"&&B('watch() "deep" option with number value will be used as watch depth in future versions. Please use a boolean instead to avoid potential breakage.'),e||(r!==void 0&&B('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),i!==void 0&&B('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'),a!==void 0&&B('watch() "once" option is only respected when using the watch(source, callback, options?) signature.'));const l=_=>{B("Invalid watch source: ",_,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},c=ie,u=_=>i===!0?_:Mt(_,i===!1?1:void 0);let f,h=!1,d=!1;if(de(t)?(f=()=>t.value,h=Qi(t)):Ft(t)?(f=()=>u(t),h=!0):U(t)?(d=!0,h=t.some(_=>Ft(_)||Qi(_)),f=()=>t.map(_=>{if(de(_))return _.value;if(Ft(_))return u(_);if(F(_))return He(_,c,2);l(_)})):F(t)?e?f=()=>He(t,c,2):f=()=>(m&&m(),ct(t,c,3,[p])):(f=oe,l(t)),e&&i){const _=f;f=()=>Mt(_())}let m,p=_=>{m=x.onStop=()=>{He(_,c,4),m=x.onStop=void 0}},g=d?new Array(t.length).fill(Ei):Ei;const v=()=>{if(!(!x.active||!x.dirty))if(e){const _=x.run();(i||h||(d?_.some((S,w)=>lt(S,g[w])):lt(_,g)))&&(m&&m(),ct(e,c,3,[_,g===Ei?void 0:d&&g[0]===Ei?[]:g,p]),g=_)}else x.run()};v.allowRecurse=!!e;let y;n==="sync"?y=v:n==="post"?y=()=>lo(v,c&&c.suspense):(v.pre=!0,c&&(v.id=c.uid),y=()=>Zi(v));const x=new zn(f,oe,y),b=xd(),P=()=>{x.stop(),b&&cr(b.effects,x)};return x.onTrack=o,x.onTrigger=s,e?r?v():g=x.run():n==="post"?lo(x.run.bind(x),c&&c.suspense):x.run(),P}function yg(t,e,r){const i=this.proxy,n=Z(t)?t.includes(".")?ql(i,t):()=>i[t]:t.bind(i,i);let a;F(e)?a=e:(a=e.handler,r=e);const o=Si(this),s=zl(n,a.bind(i),r);return o(),s}function ql(t,e){const r=e.split(".");return()=>{let i=t;for(let n=0;n<r.length&&i;n++)i=i[r[n]];return i}}function Mt(t,e,r=0,i){if(!Q(t)||t.__v_skip)return t;if(e&&e>0){if(r>=e)return t;r++}if(i=i||new Set,i.has(t))return t;if(i.add(t),de(t))Mt(t.value,e,r,i);else if(U(t))for(let n=0;n<t.length;n++)Mt(t[n],e,r,i);else if(ds(t)||pt(t))t.forEach(n=>{Mt(n,e,r,i)});else if(te(t))for(const n in t)Mt(t[n],e,r,i);return t}function Vl(t){_u(t)&&B("Do not use built-in directive ids as custom directive id: "+t)}function Kl(){return{app:null,config:{isNativeTag:vu,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let vg=0;function xg(t,e){return function(i,n=null){F(i)||(i=Y({},i)),n!=null&&!Q(n)&&(B("root props passed to app.mount() must be an object."),n=null);const a=Kl(),o=new WeakSet,s=a.app={_uid:vg++,_component:i,_props:n,_container:null,_context:a,_instance:null,version:nc,get config(){return a.config},set config(l){B("app.config cannot be replaced. Modify individual options instead.")},use(l,...c){return o.has(l)?B("Plugin has already been applied to target app."):l&&F(l.install)?(o.add(l),l.install(s,...c)):F(l)?(o.add(l),l(s,...c)):B('A plugin must either be a function or an object with an "install" function.'),s},mixin(l){return a.mixins.includes(l)?B("Mixin has already been applied to target app"+(l.name?`: ${l.name}`:"")):a.mixins.push(l),s},component(l,c){return Sn(l,a.config),c?(a.components[l]&&B(`Component "${l}" has already been registered in target app.`),a.components[l]=c,s):a.components[l]},directive(l,c){return Vl(l),c?(a.directives[l]&&B(`Directive "${l}" has already been registered in target app.`),a.directives[l]=c,s):a.directives[l]},mount(){},unmount(){},provide(l,c){return l in a.provides&&B(`App already provides property with key "${String(l)}". It will be overwritten with the new value.`),a.provides[l]=c,s},runWithContext(l){const c=li;li=s;try{return l()}finally{li=c}}};return s}}let li=null;function _g(t,e){if(!ie)B("provide() can only be used inside setup().");else{let r=ie.provides;const i=ie.parent&&ie.parent.provides;i===r&&(r=ie.provides=Object.create(i)),r[t]=e,ie.type.mpType==="app"&&ie.appContext.app.provide(t,e)}}function Wi(t,e,r=!1){const i=ie||Pt;if(i||li){const n=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:li._context.provides;if(n&&t in n)return n[t];if(arguments.length>1)return r&&F(e)?e.call(i&&i.proxy):e;B(`injection "${String(t)}" not found.`)}else B("inject() can only be used inside setup() or functional components.")}const bg=t=>t.type.__isKeepAlive;function wg(t,e){Gl(t,"a",e)}function Sg(t,e){Gl(t,"da",e)}function Gl(t,e,r=ie){const i=t.__wdc||(t.__wdc=()=>{let n=r;for(;n;){if(n.isDeactivated)return;n=n.parent}return t()});if(Xt(e,i,r),r){let n=r.parent;for(;n&&n.parent;)bg(n.parent.vnode)&&Pg(i,e,r,n),n=n.parent}}function Pg(t,e,r,i){const n=Xt(e,t,i,!0);oa(()=>{cr(i[e],n)},r)}function Xt(t,e,r=ie,i=!1){if(r){Uu(t)&&(r=r.root);const n=r[t]||(r[t]=[]),a=e.__weh||(e.__weh=(...o)=>{if(r.isUnmounted)return;Ct();const s=Si(r),l=ct(e,r,t,o);return s(),It(),l});return i?n.unshift(a):n.push(a),a}else{const n=ft((Zn[t]||t.replace(/^on/,"")).replace(/ hook$/,""));B(`${n} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup().`)}}const qe=t=>(e,r=ie)=>(!_r||t==="sp")&&Xt(t,(...i)=>e(...i),r),Ag=qe("bm"),na=qe("m"),Tg=qe("bu"),Cg=qe("u"),aa=qe("bum"),oa=qe("um"),Ig=qe("sp"),kg=qe("rtg"),Lg=qe("rtc");function Og(t,e=ie){Xt("ec",t,e)}const yn=t=>t?tc(t)?br(t)||t.proxy:yn(t.parent):null,gi=Y(Object.create(null),{$:t=>t,$el:t=>t.__$el||(t.__$el={}),$data:t=>t.data,$props:t=>Dt(t.props),$attrs:t=>Dt(t.attrs),$slots:t=>Dt(t.slots),$refs:t=>Dt(t.refs),$parent:t=>yn(t.parent),$root:t=>yn(t.root),$emit:t=>t.emit,$options:t=>Yl(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,Zi(t.update)}),$watch:t=>yg.bind(t)}),sa=t=>t==="_"||t==="$",Dr=(t,e)=>t!==ee&&!t.__isScriptSetup&&H(t,e),Jl={get({_:t},e){const{ctx:r,setupState:i,data:n,props:a,accessCache:o,type:s,appContext:l}=t;if(e==="__isVue")return!0;let c;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return i[e];case 2:return n[e];case 4:return r[e];case 3:return a[e]}else{if(Dr(i,e))return o[e]=1,i[e];if(n!==ee&&H(n,e))return o[e]=2,n[e];if((c=t.propsOptions[0])&&H(c,e))return o[e]=3,a[e];if(r!==ee&&H(r,e))return o[e]=4,r[e];vn&&(o[e]=0)}}const u=gi[e];let f,h;if(u)return(e==="$attrs"||e==="$slots")&&he(t,"get",e),u(t);if((f=s.__cssModules)&&(f=f[e]))return f;if(r!==ee&&H(r,e))return o[e]=4,r[e];if(h=l.config.globalProperties,H(h,e))return h[e];Pt&&(!Z(e)||e.indexOf("__v")!==0)&&(n!==ee&&sa(e[0])&&H(n,e)?B(`Property ${JSON.stringify(e)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):t===Pt&&B(`Property ${JSON.stringify(e)} was accessed during render but is not defined on instance.`))},set({_:t},e,r){const{data:i,setupState:n,ctx:a}=t;return Dr(n,e)?(n[e]=r,!0):n.__isScriptSetup&&H(n,e)?(B(`Cannot mutate <script setup> binding "${e}" from Options API.`),!1):i!==ee&&H(i,e)?(i[e]=r,!0):H(t.props,e)?(B(`Attempting to mutate prop "${e}". Props are readonly.`),!1):e[0]==="$"&&e.slice(1)in t?(B(`Attempting to mutate public property "${e}". Properties starting with $ are reserved and readonly.`),!1):(e in t.appContext.config.globalProperties?Object.defineProperty(a,e,{enumerable:!0,configurable:!0,value:r}):a[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:i,appContext:n,propsOptions:a}},o){let s;return!!r[o]||t!==ee&&H(t,o)||Dr(e,o)||(s=a[0])&&H(s,o)||H(i,o)||H(gi,o)||H(n.config.globalProperties,o)},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:H(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};Jl.ownKeys=t=>(B("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(t));function Dg(t){const e={};return Object.defineProperty(e,"_",{configurable:!0,enumerable:!1,get:()=>t}),Object.keys(gi).forEach(r=>{Object.defineProperty(e,r,{configurable:!0,enumerable:!1,get:()=>gi[r](t),set:oe})}),e}function Mg(t){const{ctx:e,propsOptions:[r]}=t;r&&Object.keys(r).forEach(i=>{Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>t.props[i],set:oe})})}function Eg(t){const{ctx:e,setupState:r}=t;Object.keys(G(r)).forEach(i=>{if(!r.__isScriptSetup){if(sa(i[0])){B(`setup() return property ${JSON.stringify(i)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>r[i],set:oe})}})}function Za(t){return U(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}function Rg(){const t=Object.create(null);return(e,r)=>{t[r]?B(`${e} property "${r}" is already defined in ${t[r]}.`):t[r]=e}}let vn=!0;function Fg(t){const e=Yl(t),r=t.proxy,i=t.ctx;vn=!1,e.beforeCreate&&eo(e.beforeCreate,t,"bc");const{data:n,computed:a,methods:o,watch:s,provide:l,inject:c,created:u,beforeMount:f,mounted:h,beforeUpdate:d,updated:m,activated:p,deactivated:g,beforeDestroy:v,beforeUnmount:y,destroyed:x,unmounted:b,render:P,renderTracked:_,renderTriggered:S,errorCaptured:w,serverPrefetch:T,expose:E,inheritAttrs:L,components:M,directives:j,filters:R}=e,V=Rg();{const[D]=t.propsOptions;if(D)for(const $ in D)V("Props",$)}if(c&&$g(c,i,V),o)for(const D in o){const $=o[D];F($)?(Object.defineProperty(i,D,{value:$.bind(r),configurable:!0,enumerable:!0,writable:!0}),V("Methods",D)):B(`Method "${D}" has type "${typeof $}" in the component definition. Did you reference the function correctly?`)}if(n){F(n)||B("The data option must be a function. Plain object usage is no longer supported.");const D=n.call(r,r);if(bi(D)&&B("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!Q(D))B("data() should return an object.");else{t.data=mr(D);for(const $ in D)V("Data",$),sa($[0])||Object.defineProperty(i,$,{configurable:!0,enumerable:!0,get:()=>D[$],set:oe})}}if(vn=!0,a)for(const D in a){const $=a[D],z=F($)?$.bind(r,r):F($.get)?$.get.bind(r,r):oe;z===oe&&B(`Computed property "${D}" has no getter.`);const K=!F($)&&F($.set)?$.set.bind(r):()=>{B(`Write operation failed: computed property "${D}" is readonly.`)},C=rc({get:z,set:K});Object.defineProperty(i,D,{enumerable:!0,configurable:!0,get:()=>C.value,set:A=>C.value=A}),V("Computed",D)}if(s)for(const D in s)Xl(s[D],i,r,D);if(l){const D=F(l)?l.call(r):l;Reflect.ownKeys(D).forEach($=>{_g($,D[$])})}u&&eo(u,t,"c");function q(D,$){U($)?$.forEach(z=>D(z.bind(r))):$&&D($.bind(r))}if(q(Ag,f),q(na,h),q(Tg,d),q(Cg,m),q(wg,p),q(Sg,g),q(Og,w),q(Lg,_),q(kg,S),q(aa,y),q(oa,b),q(Ig,T),U(E))if(E.length){const D=t.exposed||(t.exposed={});E.forEach($=>{Object.defineProperty(D,$,{get:()=>r[$],set:z=>r[$]=z})})}else t.exposed||(t.exposed={});P&&t.render===oe&&(t.render=P),L!=null&&(t.inheritAttrs=L),M&&(t.components=M),j&&(t.directives=j),t.ctx.$onApplyOptions&&t.ctx.$onApplyOptions(e,t,r)}function $g(t,e,r=oe){U(t)&&(t=xn(t));for(const i in t){const n=t[i];let a;Q(n)?"default"in n?a=Wi(n.from||i,n.default,!0):a=Wi(n.from||i):a=Wi(n),de(a)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>a.value,set:o=>a.value=o}):e[i]=a,r("Inject",i)}}function eo(t,e,r){ct(U(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,r)}function Xl(t,e,r,i){const n=i.includes(".")?ql(r,i):()=>r[i];if(Z(t)){const a=e[t];F(a)?Hi(n,a):B(`Invalid watch handler specified by key "${t}"`,a)}else if(F(t))Hi(n,t.bind(r));else if(Q(t))if(U(t))t.forEach(a=>Xl(a,e,r,i));else{const a=F(t.handler)?t.handler.bind(r):e[t.handler];F(a)?Hi(n,a,t):B(`Invalid watch handler specified by key "${t.handler}"`,a)}else B(`Invalid watch option: "${i}"`,t)}function Yl(t){const e=t.type,{mixins:r,extends:i}=e,{mixins:n,optionsCache:a,config:{optionMergeStrategies:o}}=t.appContext,s=a.get(e);let l;return s?l=s:!n.length&&!r&&!i?l=e:(l={},n.length&&n.forEach(c=>er(l,c,o,!0)),er(l,e,o)),Q(e)&&a.set(e,l),l}function er(t,e,r,i=!1){const{mixins:n,extends:a}=e;a&&er(t,a,r,!0),n&&n.forEach(o=>er(t,o,r,!0));for(const o in e)if(i&&o==="expose")B('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const s=Ng[o]||r&&r[o];t[o]=s?s(t[o],e[o]):e[o]}return t}const Ng={data:to,props:io,emits:io,methods:ri,computed:ri,beforeCreate:pe,created:pe,beforeMount:pe,mounted:pe,beforeUpdate:pe,updated:pe,beforeDestroy:pe,beforeUnmount:pe,destroyed:pe,unmounted:pe,activated:pe,deactivated:pe,errorCaptured:pe,serverPrefetch:pe,components:ri,directives:ri,watch:Ug,provide:to,inject:Bg};function to(t,e){return e?t?function(){return Y(F(t)?t.call(this,this):t,F(e)?e.call(this,this):e)}:e:t}function Bg(t,e){return ri(xn(t),xn(e))}function xn(t){if(U(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function pe(t,e){return t?[...new Set([].concat(t,e))]:e}function ri(t,e){return t?Y(Object.create(null),t,e):e}function io(t,e){return t?U(t)&&U(e)?[...new Set([...t,...e])]:Y(Object.create(null),Za(t),Za(e??{})):e}function Ug(t,e){if(!t)return e;if(!e)return t;const r=Y(Object.create(null),t);for(const i in e)r[i]=pe(t[i],e[i]);return r}function Hg(t,e,r,i=!1){const n={},a={};t.propsDefaults=Object.create(null),Ql(t,e,n,a);for(const o in t.propsOptions[0])o in n||(n[o]=void 0);ec(e||{},n,t),r?t.props=i?n:Ud(n):t.type.props?t.props=n:t.props=a,t.attrs=a}function Wg(t){for(;t;){if(t.type.__hmrId)return!0;t=t.parent}}function jg(t,e,r,i){const{props:n,attrs:a,vnode:{patchFlag:o}}=t,s=G(n),[l]=t.propsOptions;let c=!1;if(!Wg(t)&&(i||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let h=u[f];if(jl(t.emitsOptions,h))continue;const d=e[h];if(l)if(H(a,h))d!==a[h]&&(a[h]=d,c=!0);else{const m=Me(h);n[m]=_n(l,s,m,d,t,!1)}else d!==a[h]&&(a[h]=d,c=!0)}}}else{Ql(t,e,n,a)&&(c=!0);let u;for(const f in s)(!e||!H(e,f)&&((u=bt(f))===f||!H(e,u)))&&(l?r&&(r[f]!==void 0||r[u]!==void 0)&&(n[f]=_n(l,s,f,void 0,t,!0)):delete n[f]);if(a!==s)for(const f in a)(!e||!H(e,f))&&(delete a[f],c=!0)}c&&Ue(t,"set","$attrs"),ec(e||{},n,t)}function Ql(t,e,r,i){const[n,a]=t.propsOptions;let o=!1,s;if(e)for(let l in e){if(ps(l))continue;const c=e[l];let u;n&&H(n,u=Me(l))?!a||!a.includes(u)?r[u]=c:(s||(s={}))[u]=c:jl(t.emitsOptions,l)||(!(l in i)||c!==i[l])&&(i[l]=c,o=!0)}if(a){const l=G(r),c=s||ee;for(let u=0;u<a.length;u++){const f=a[u];r[f]=_n(n,l,f,c[f],t,!H(c,f))}}return o}function _n(t,e,r,i,n,a){const o=t[r];if(o!=null){const s=H(o,"default");if(s&&i===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&F(l)){const{propsDefaults:c}=n;if(r in c)i=c[r];else{const u=Si(n);i=c[r]=l.call(null,e),u()}}else i=l}o[0]&&(a&&!s?i=!1:o[1]&&(i===""||i===bt(r))&&(i=!0))}return i}function Zl(t,e,r=!1){const i=e.propsCache,n=i.get(t);if(n)return n;const a=t.props,o={},s=[];let l=!1;if(!F(t)){const u=f=>{l=!0;const[h,d]=Zl(f,e,!0);Y(o,h),d&&s.push(...d)};!r&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!a&&!l)return Q(t)&&i.set(t,Aa),Aa;if(U(a))for(let u=0;u<a.length;u++){Z(a[u])||B("props must be strings when using array syntax.",a[u]);const f=Me(a[u]);ro(f)&&(o[f]=ee)}else if(a){Q(a)||B("invalid props options",a);for(const u in a){const f=Me(u);if(ro(f)){const h=a[u],d=o[f]=U(h)||F(h)?{type:h}:Y({},h);if(d){const m=ao(Boolean,d.type),p=ao(String,d.type);d[0]=m>-1,d[1]=p<0||m<p,(m>-1||H(d,"default"))&&s.push(f)}}}}const c=[o,s];return Q(t)&&i.set(t,c),c}function ro(t){return t[0]!=="$"&&!ps(t)?!0:(B(`Invalid prop name: "${t}" is a reserved property.`),!1)}function bn(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function no(t,e){return bn(t)===bn(e)}function ao(t,e){return U(e)?e.findIndex(r=>no(r,t)):F(e)&&no(e,t)?0:-1}function ec(t,e,r){const i=G(e),n=r.propsOptions[0];for(const a in n){let o=n[a];o!=null&&zg(a,i[a],o,Dt(i),!H(t,a)&&!H(t,bt(a)))}}function zg(t,e,r,i,n){const{type:a,required:o,validator:s,skipCheck:l}=r;if(o&&n){B('Missing required prop: "'+t+'"');return}if(!(e==null&&!o)){if(a!=null&&a!==!0&&!l){let c=!1;const u=U(a)?a:[a],f=[];for(let h=0;h<u.length&&!c;h++){const{valid:d,expectedType:m}=Vg(e,u[h]);f.push(m||""),c=d}if(!c){B(Kg(t,e,f));return}}s&&!s(e,i)&&B('Invalid prop: custom validator check failed for prop "'+t+'".')}}const qg=Gt("String,Number,Boolean,Function,Symbol,BigInt");function Vg(t,e){let r;const i=bn(e);if(qg(i)){const n=typeof t;r=n===i.toLowerCase(),!r&&n==="object"&&(r=t instanceof e)}else i==="Object"?r=Q(t):i==="Array"?r=U(t):i==="null"?r=t===null:r=t instanceof e;return{valid:r,expectedType:i}}function Kg(t,e,r){if(r.length===0)return`Prop type [] for prop "${t}" won't match anything. Did you mean to use type Array instead?`;let i=`Invalid prop: type check failed for prop "${t}". Expected ${r.map(wt).join(" | ")}`;const n=r[0],a=ur(e),o=oo(e,n),s=oo(e,a);return r.length===1&&so(n)&&!Gg(n,a)&&(i+=` with value ${o}`),i+=`, got ${a} `,so(a)&&(i+=`with value ${s}.`),i}function oo(t,e){return e==="String"?`"${t}"`:e==="Number"?`${Number(t)}`:`${t}`}function so(t){return["string","number","boolean"].some(r=>t.toLowerCase()===r)}function Gg(...t){return t.some(e=>e.toLowerCase()==="boolean")}let Qt,it;function tr(t,e){t.appContext.config.performance&&rr()&&it.mark(`vue-${e}-${t.uid}`),fg(t,e,rr()?it.now():Date.now())}function ir(t,e){if(t.appContext.config.performance&&rr()){const r=`vue-${e}-${t.uid}`,i=r+":end";it.mark(i),it.measure(`<${wr(t,t.type)}> ${e}`,r,i),it.clearMarks(r),it.clearMarks(i)}hg(t,e,rr()?it.now():Date.now())}function rr(){return Qt!==void 0||(typeof window<"u"&&window.performance?(Qt=!0,it=window.performance):Qt=!1),Qt}const lo=$l,Jg=Symbol.for("v-fgt"),Xg=Symbol.for("v-txt"),Yg=Symbol.for("v-cmt"),Qg=Symbol.for("v-stc");function Zg(t){return t?t.__v_isVNode===!0:!1}const ep="__vInternal";function tp(t){return t?kl(t)||ep in t?Y({},t):t:null}const ip=Kl();let rp=0;function np(t,e,r){const i=t.type,n=(e?e.appContext:t.appContext)||ip,a={uid:rp++,vnode:t,type:i,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,scope:new yd(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Zl(i,n),emitsOptions:Wl(i,n),emit:null,emitted:null,propsDefaults:ee,inheritAttrs:i.inheritAttrs,ctx:ee,data:ee,props:ee,attrs:ee,slots:ee,refs:ee,setupState:ee,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx=Dg(a),a.root=e?e.root:a,a.emit=gg.bind(null,a),t.ce&&t.ce(a),a}let ie=null;const kt=()=>ie||Pt;let nr,wn;nr=t=>{ie=t},wn=t=>{_r=t};const Si=t=>{const e=ie;return nr(t),t.scope.on(),()=>{t.scope.off(),nr(e)}},co=()=>{ie&&ie.scope.off(),nr(null)},ap=Gt("slot,component");function Sn(t,{isNativeTag:e}){(ap(t)||e(t))&&B("Do not use built-in or reserved HTML elements as component id: "+t)}function tc(t){return t.vnode.shapeFlag&4}let _r=!1;function op(t,e=!1){e&&wn(e);const{props:r}=t.vnode,i=tc(t);Hg(t,r,i,e);const n=i?sp(t,e):void 0;return e&&wn(!1),n}function sp(t,e){const r=t.type;{if(r.name&&Sn(r.name,t.appContext.config),r.components){const n=Object.keys(r.components);for(let a=0;a<n.length;a++)Sn(n[a],t.appContext.config)}if(r.directives){const n=Object.keys(r.directives);for(let a=0;a<n.length;a++)Vl(n[a])}r.compilerOptions&&up()&&B('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}t.accessCache=Object.create(null),t.proxy=Gn(new Proxy(t.ctx,Jl)),Mg(t);const{setup:i}=r;if(i){const n=t.setupContext=i.length>1?dp(t):null,a=Si(t);Ct();const o=He(i,t,0,[Dt(t.props),n]);It(),a(),bi(o)?(o.then(co,co),B("setup() returned a Promise, but the version of Vue you are using does not support it yet.")):lp(t,o,e)}else ic(t,e)}function lp(t,e,r){F(e)?t.render=e:Q(e)?(Zg(e)&&B("setup() should not return VNodes directly - return a render function instead."),t.devtoolsRawSetupState=e,t.setupState=Ml(e),Eg(t)):e!==void 0&&B(`setup() should return an object. Received: ${e===null?"null":typeof e}`),ic(t,r)}let cp;const up=()=>!cp;function ic(t,e,r){const i=t.type;t.render||(t.render=i.render||oe);{const n=Si(t);Ct();try{Fg(t)}finally{It(),n()}}!i.render&&t.render===oe&&!e&&(i.template?B('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):B("Component is missing template or render function."))}function fp(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,r){return he(t,"get","$attrs"),e[r]},set(){return B("setupContext.attrs is readonly."),!1},deleteProperty(){return B("setupContext.attrs is readonly."),!1}}))}function hp(t){return t.slotsProxy||(t.slotsProxy=new Proxy(t.slots,{get(e,r){return he(t,"get","$slots"),e[r]}}))}function dp(t){return Object.freeze({get attrs(){return fp(t)},get slots(){return hp(t)},get emit(){return(r,...i)=>t.emit(r,...i)},expose:r=>{if(t.exposed&&B("expose() should be called only once per setup()."),r!=null){let i=typeof r;i==="object"&&(U(r)?i="array":de(r)&&(i="ref")),i!=="object"&&B(`expose() should be passed a plain object, received ${i}.`)}t.exposed=r||{}}})}function br(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Ml(Gn(t.exposed)),{get(e,r){return r in e?e[r]:t.proxy[r]},has(e,r){return r in e||r in gi}}))}const gp=/(?:^|[-_])(\w)/g,pp=t=>t.replace(gp,e=>e.toUpperCase()).replace(/[-_]/g,"");function la(t,e=!0){return F(t)?t.displayName||t.name:t.name||e&&t.__name}function wr(t,e,r=!1){let i=la(e);if(!i&&e.__file){const n=e.__file.match(/([^/\\]+)\.\w+$/);n&&(i=n[1])}if(!i&&t&&t.parent){const n=a=>{for(const o in a)if(a[o]===e)return o};i=n(t.components||t.parent.type.components)||n(t.appContext.components)}return i?pp(i):r?"App":"Anonymous"}const rc=(t,e)=>{const r=Wd(t,e,_r);{const i=kt();i&&i.appContext.config.warnRecursiveComputed&&(r._warnRecursive=!0)}return r},nc="3.4.21",ca=B;function ar(t){return Xn(t)}const ht="[object Array]",dt="[object Object]";function ac(t,e){const r={};return Pn(t,e),ji(t,e,"",r),r}function Pn(t,e){if(t=ar(t),t===e)return;const r=ke(t),i=ke(e);if(r==dt&&i==dt)for(let n in e){const a=t[n];a===void 0?t[n]=null:Pn(a,e[n])}else r==ht&&i==ht&&t.length>=e.length&&e.forEach((n,a)=>{Pn(t[a],n)})}function ji(t,e,r,i){if(t=ar(t),t===e)return;const n=ke(t),a=ke(e);if(n==dt)if(a!=dt||Object.keys(t).length<Object.keys(e).length)Xe(i,r,t);else for(let o in t){const s=ar(t[o]),l=e[o],c=ke(s),u=ke(l);if(c!=ht&&c!=dt)s!=l&&Xe(i,(r==""?"":r+".")+o,s);else if(c==ht)u!=ht||s.length<l.length?Xe(i,(r==""?"":r+".")+o,s):s.forEach((f,h)=>{ji(f,l[h],(r==""?"":r+".")+o+"["+h+"]",i)});else if(c==dt)if(u!=dt||Object.keys(s).length<Object.keys(l).length)Xe(i,(r==""?"":r+".")+o,s);else for(let f in s)ji(s[f],l[f],(r==""?"":r+".")+o+"."+f,i)}else n==ht?a!=ht||t.length<e.length?Xe(i,r,t):t.forEach((o,s)=>{ji(o,e[s],r+"["+s+"]",i)}):Xe(i,r,t)}function Xe(t,e,r){t[e]=r}function mp(t){return ae.includes(t.update)}function uo(t){const r=t.ctx.__next_tick_callbacks;if(r&&r.length){const i=r.slice(0);r.length=0;for(let n=0;n<i.length;n++)i[n]()}}function oc(t,e){const r=t.ctx;if(!r.__next_tick_pending&&!mp(t))return ta(e&&e.bind(t.proxy));let i;return r.__next_tick_callbacks||(r.__next_tick_callbacks=[]),r.__next_tick_callbacks.push(()=>{e?He(e.bind(t.proxy),t,14):i&&i(t.proxy)}),new Promise(n=>{i=n})}function An(t,e){t=ar(t);const r=typeof t;if(r==="object"&&t!==null){let i=e.get(t);if(typeof i<"u")return i;if(U(t)){const n=t.length;i=new Array(n),e.set(t,i);for(let a=0;a<n;a++)i[a]=An(t[a],e)}else{i={},e.set(t,i);for(const n in t)H(t,n)&&(i[n]=An(t[n],e))}return i}if(r!=="symbol")return t}function yp(t){return An(t,typeof WeakMap<"u"?new WeakMap:new Map)}function vp(t,e){const r=t.data,i=Object.create(null);return e.forEach(n=>{i[n]=r[n]}),i}function fo(t,e,r){if(!e)return;e=yp(e);const i=t.ctx,n=i.mpType;if(n==="page"||n==="component"){e.r0=1;const a=i.$scope,o=Object.keys(e),s=ac(e,r||vp(a,o));Object.keys(s).length?(i.__next_tick_pending=!0,a.setData(s,()=>{i.__next_tick_pending=!1,uo(t)}),Nl()):uo(t)}}function xp(t){t.globalProperties.$nextTick=function(r){return oc(this.$,r)}}function _p(t,e,r){e.appContext.config.globalProperties.$applyOptions(t,e,r);const i=t.computed;if(i){const n=Object.keys(i);if(n.length){const a=e.ctx;a.$computedKeys||(a.$computedKeys=[]),a.$computedKeys.push(...n)}}delete e.ctx.$onApplyOptions}function sc(t,e=!1){const{setupState:r,$templateRefs:i,ctx:{$scope:n,$mpPlatform:a}}=t;if(a==="mp-alipay"||!i||!n)return;if(e)return i.forEach(c=>ho(c,null,r));const o=a==="mp-baidu"||a==="mp-toutiao",s=c=>{const u=(n.selectAllComponents(".r")||[]).concat(n.selectAllComponents(".r-i-f")||[]);return c.filter(f=>{const h=wp(u,f.i);return o&&h===null?!0:(ho(f,h,r),!1)})},l=()=>{const c=s(i);c.length&&t.proxy&&t.proxy.$scope&&t.proxy.$scope.setData({r1:1},()=>{s(c)})};n._$setRef?n._$setRef(l):oc(t,l)}function bp(t){return Q(t)&&Gn(t),t}function wp(t,e){const r=t.find(i=>i&&(i.properties||i.props).uI===e);if(r){const i=r.$vm;return i?br(i.$)||i:bp(r)}return null}function ho({r:t,f:e},r,i){if(F(t))t(r,{});else{const n=Z(t),a=de(t);if(n||a)if(e){if(!a)return;U(t.value)||(t.value=[]);const o=t.value;if(o.indexOf(r)===-1){if(o.push(r),!r)return;aa(()=>cr(o,r),r.$)}}else n?H(i,t)&&(i[t]=r):de(t)?t.value=r:go(t);else go(t)}}function go(t){ca("Invalid template ref type:",t,`(${typeof t})`)}const Tn=$l;function po(t,e){const r=t.component=np(t,e.parentComponent,null);return r.ctx.$onApplyOptions=_p,r.ctx.$children=[],e.mpType==="app"&&(r.render=oe),e.onBeforeSetup&&e.onBeforeSetup(r,e),Yn(t),tr(r,"mount"),tr(r,"init"),op(r),ir(r,"init"),e.parentComponent&&r.proxy&&e.parentComponent.ctx.$children.push(br(r)||r.proxy),Tp(r),Qn(),ir(r,"mount"),r.proxy}const Sp=t=>{let e;for(const r in t)(r==="class"||r==="style"||hs(r))&&((e||(e={}))[r]=t[r]);return e};function mo(t){const{type:e,vnode:r,proxy:i,withProxy:n,props:a,propsOptions:[o],slots:s,attrs:l,emit:c,render:u,renderCache:f,data:h,setupState:d,ctx:m,uid:p,appContext:{app:{config:{globalProperties:{pruneComponentPropsCache:g}}}},inheritAttrs:v}=t;t.$templateRefs=[],t.$ei=0,g(p),t.__counter=t.__counter===0?1:0;let y;const x=Ya(t);try{if(r.shapeFlag&4){yo(v,a,o,l);const b=n||i;y=u.call(b,b,f,a,d,h,m)}else{yo(v,a,o,e.props?l:Sp(l));const b=e;y=b.length>1?b(a,{attrs:l,slots:s,emit:c}):b(a,null)}}catch(b){vr(b,t,1),y=!1}return sc(t),Ya(x),y}function yo(t,e,r,i){if(e&&i&&t!==!1){const n=Object.keys(i).filter(a=>a!=="class"&&a!=="style");if(!n.length)return;r&&n.some(Ta)?n.forEach(a=>{(!Ta(a)||!(a.slice(9)in r))&&(e[a]=i[a])}):n.forEach(a=>e[a]=i[a])}}const Pp=t=>{Ct(),Nl(),It()};function Ap(){const t=this.$scopedSlotsData;if(!t||t.length===0)return;const e=this.ctx.$scope,r=e.data,i=Object.create(null);t.forEach(({path:n,index:a,data:o})=>{const s=$s(r,n),l=Z(a)?`${n}.${a}`:`${n}[${a}]`;if(typeof s>"u"||typeof s[a]>"u")i[l]=o;else{const c=ac(o,s[a]);Object.keys(c).forEach(u=>{i[l+"."+u]=c[u]})}}),t.length=0,Object.keys(i).length&&e.setData(i)}function Mr({effect:t,update:e},r){t.allowRecurse=e.allowRecurse=r}function Tp(t){const e=Ap.bind(t);t.$updateScopedSlots=()=>ta(()=>Zi(e));const r=()=>{if(!t.isMounted)aa(()=>{sc(t,!0)},t),tr(t,"patch"),fo(t,mo(t)),ir(t,"patch"),sg(t);else{const{next:a,bu:o,u:s}=t;Yn(a||t.vnode),Mr(t,!1),Pp(),o&&Bi(o),Mr(t,!0),tr(t,"patch"),fo(t,mo(t)),ir(t,"patch"),s&&Tn(s),lg(t),Qn()}},i=t.effect=new zn(r,oe,()=>Zi(n),t.scope),n=t.update=()=>{i.dirty&&i.run()};n.id=t.uid,Mr(t,!0),i.onTrack=t.rtc?a=>Bi(t.rtc,a):void 0,i.onTrigger=t.rtg?a=>Bi(t.rtg,a):void 0,n.ownerInstance=t,n()}function Cp(t){const{bum:e,scope:r,update:i,um:n}=t;e&&Bi(e),r.stop(),i&&(i.active=!1),n&&Tn(n),Tn(()=>{t.isUnmounted=!0}),ug(t)}const Ip=xg();function kp(){if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;if(typeof global<"u")return global;if(typeof my<"u")return my}function Lp(t,e=null){const r=kp();r.__VUE__=!0,Ul(r.__VUE_DEVTOOLS_GLOBAL_HOOK__,r);const i=Ip(t,e),n=i._context;xp(n.config);const a=l=>(l.appContext=n,l.shapeFlag=6,l),o=function(c,u){return po(a(c),u)},s=function(c){return c&&Cp(c.$)};return i.mount=function(){t.render=oe;const c=po(a({type:t}),{mpType:"app",mpInstance:null,parentComponent:null,slots:[],props:null});return i._instance=c.$,og(i,nc),c.$app=i,c.$createComponent=o,c.$destroyComponent=s,n.$appInstance=c,c},i.unmount=function(){ca("Cannot unmount an app.")},i}function vo(t,e,r,i){F(e)&&Xt(t,e.bind(r),i)}function Op(t,e,r){const i=t.mpType||r.$mpType;!i||i==="component"||Object.keys(t).forEach(n=>{if(Bs(n,t[n],!1)){const a=t[n];U(a)?a.forEach(o=>vo(n,o,r,e)):vo(n,a,r,e)}})}function Dp(t,e,r){Op(t,e,r)}function Mp(t,e,r){return t[e]=r}function Ep(t,...e){const r=this[t];return r?r(...e):(console.error(`method ${t} not found`),null)}function Rp(t){return function(r,i,n){if(!i)throw r;const a=t._instance;if(!a||!a.proxy)throw r;a.proxy.$callHook(dr,r)}}function Fp(t,e){return t?[...new Set([].concat(t,e))]:e}function $p(t){Ns.forEach(e=>{t[e]=Fp})}let Cn;const Ri="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Np=/^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/;typeof atob!="function"?Cn=function(t){if(t=String(t).replace(/[\t\n\f\r ]+/g,""),!Np.test(t))throw new Error("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");t+="==".slice(2-(t.length&3));for(var e,r="",i,n,a=0;a<t.length;)e=Ri.indexOf(t.charAt(a++))<<18|Ri.indexOf(t.charAt(a++))<<12|(i=Ri.indexOf(t.charAt(a++)))<<6|(n=Ri.indexOf(t.charAt(a++))),r+=i===64?String.fromCharCode(e>>16&255):n===64?String.fromCharCode(e>>16&255,e>>8&255):String.fromCharCode(e>>16&255,e>>8&255,e&255);return r}:Cn=atob;function Bp(t){return decodeURIComponent(Cn(t).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function Er(){const t=J.getStorageSync("uni_id_token")||"",e=t.split(".");if(!t||e.length!==3)return{uid:null,role:[],permission:[],tokenExpired:0};let r;try{r=JSON.parse(Bp(e[1]))}catch(i){throw new Error("获取当前用户信息出错，详细错误信息为："+i.message)}return r.tokenExpired=r.exp*1e3,delete r.exp,delete r.iat,r}function Up(t){t.uniIDHasRole=function(e){const{role:r}=Er();return r.indexOf(e)>-1},t.uniIDHasPermission=function(e){const{permission:r}=Er();return this.uniIDHasRole("admin")||r.indexOf(e)>-1},t.uniIDTokenValid=function(){const{tokenExpired:e}=Er();return e>Date.now()}}function Hp(t){const e=t._context.config;e.errorHandler=ju(t,Rp),$p(e.optionMergeStrategies);const r=e.globalProperties;Up(r),r.$set=Mp,r.$applyOptions=Dp,r.$callMethod=Ep,J.invokeCreateVueAppHook(t)}const pi=Object.create(null);function Wp(t){const{uid:e,__counter:r}=kt(),i=(pi[e]||(pi[e]=[])).push(tp(t))-1;return e+","+i+","+r}function lc(t){delete pi[t]}function ua(t){if(!t)return;const[e,r]=t.split(",");if(pi[e])return pi[e][parseInt(r)]}var jp={install(t){Hp(t),t.config.globalProperties.pruneComponentPropsCache=lc;const e=t.mount;t.mount=function(i){const n=e.call(t,i),a=zp();return a?a(n):typeof createMiniProgramApp<"u"&&createMiniProgramApp(n),n}}};function zp(){const t="createApp";if(typeof global<"u"&&typeof global[t]<"u")return global[t];if(typeof my<"u")return my[t]}function qp(t,e){const r=kt(),i=r.ctx,n=typeof e<"u"&&(i.$mpPlatform==="mp-weixin"||i.$mpPlatform==="mp-qq"||i.$mpPlatform==="mp-xhs")&&(Z(e)||typeof e=="number")?"_"+e:"",a="e"+r.$ei+++n,o=i.$scope;if(!t)return delete o[a],a;const s=o[a];return s?s.value=t:o[a]=Vp(t,r),a}function Vp(t,e){const r=i=>{Gp(i);let n=[i];i.detail&&i.detail.__args__&&(n=i.detail.__args__);const a=r.value,o=()=>ct(Jp(i,a),e,5,n),s=i.target,l=s&&s.dataset?String(s.dataset.eventsync)==="true":!1;if(Kp.includes(i.type)&&!l)setTimeout(o);else{const c=o();return i.type==="input"&&(U(c)||bi(c))?void 0:c}};return r.value=t,r}const Kp=["tap","longpress","longtap","transitionend","animationstart","animationiteration","animationend","touchforcechange"];function Gp(t){t.type&&t.target&&(t.preventDefault=oe,t.stopPropagation=oe,t.stopImmediatePropagation=oe,H(t,"detail")||(t.detail={}),H(t,"markerId")&&(t.detail=typeof t.detail=="object"?t.detail:{},t.detail.markerId=t.markerId),te(t.detail)&&H(t.detail,"checked")&&!H(t.detail,"value")&&(t.detail.value=t.detail.checked),te(t.detail)&&(t.target=Y({},t.target,t.detail)))}function Jp(t,e){if(U(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r&&r.call(t),t._stopped=!0},e.map(i=>n=>!n._stopped&&i(n))}else return e}function Xp(t,e){let r;if(U(t)||Z(t)){r=new Array(t.length);for(let i=0,n=t.length;i<n;i++)r[i]=e(t[i],i,i)}else if(typeof t=="number"){if(!Number.isInteger(t))return ca(`The v-for range expect an integer value but got ${t}.`),[];r=new Array(t);for(let i=0;i<t;i++)r[i]=e(i+1,i,i)}else if(Q(t))if(t[Symbol.iterator])r=Array.from(t,(i,n)=>e(i,n,n));else{const i=Object.keys(t);r=new Array(i.length);for(let n=0,a=i.length;n<a;n++){const o=i[n];r[n]=e(t[o],o,n)}}else r=[];return r}function cc(t,e={},r){const i=kt(),{parent:n,isMounted:a,ctx:{$scope:o}}=i,s=(o.properties||o.props).uI;if(!s)return;if(!n&&!a){na(()=>{cc(t,e,r)},i);return}const l=Yp(s,i);l&&l(t,e,r)}function Yp(t,e){let r=e.parent;for(;r;){const i=r.$ssi;if(i&&i[t])return i[t];r=r.parent}}function Qp(t){return Z(t)?t:Zp(ys(t))}function Zp(t){let e="";if(!t||Z(t))return e;for(const r in t)e+=`${r.startsWith("--")?r:bt(r)}:${t[r]};`;return e}function em(t,e,r={}){const{$templateRefs:i}=kt();i.push({i:e,r:t,k:r.k,f:r.f})}const tm=(t,e)=>qp(t,e),im=(t,e)=>Xp(t,e),rm=(t,e,r)=>cc(t,e,r),nm=t=>Qp(t),am=(t,...e)=>Y(t,...e),om=t=>vs(t),sm=t=>ku(t),lm=t=>Wp(t),cm=(t,e,r)=>em(t,e,r);function um(t,e=null){return t&&(t.mpType="app"),Lp(t,e).use(jp)}const fm=um,hm=["createSelectorQuery","createIntersectionObserver","selectAllComponents","selectComponent"];function dm(t,e){return function(i,...n){const a=e.$scope;if(a&&i){const o={__args__:n};a.triggerEvent(i,o)}return t.apply(this,[i,...n])}}function uc(t,e){const r=t.ctx;r.mpType=e.mpType,r.$mpType=e.mpType,r.$mpPlatform="mp-weixin",r.$scope=e.mpInstance,r.$mp={},r._self={},t.slots={},U(e.slots)&&e.slots.length&&(e.slots.forEach(i=>{t.slots[i]=!0}),t.slots[Lu]&&(t.slots.default=!0)),r.getOpenerEventChannel=function(){return e.mpInstance.getOpenerEventChannel()},r.$hasHook=mm,r.$callHook=fc,t.emit=dm(t.emit,r)}function gm(t,e){uc(t,e);const r=t.ctx;hm.forEach(i=>{r[i]=function(...n){const a=r.$scope;if(a&&a[i])return a[i].apply(a,n)}})}function pm(t,e,r){const i=t.ctx;r.forEach(n=>{H(e,n)&&(t[n]=i[n]=e[n])})}function mm(t){const e=this.$[t];return!!(e&&e.length)}function fc(t,e){t==="mounted"&&(fc.call(this,"bm"),this.$.isMounted=!0,t="m");const r=this.$[t];return r&&Fu(r,e)}const ym=[Jt,wi,hr,$n,Ts,Nn,Bn,Un,Hn];function In(t,e=new Set){if(t){Object.keys(t).forEach(r=>{Bs(r,t[r])&&e.add(r)});{const{extends:r,mixins:i}=t;i&&i.forEach(n=>In(n,e)),r&&In(r,e)}}return e}function fa(t,e,r){r.indexOf(e)===-1&&!H(t,e)&&(t[e]=function(i){return this.$vm&&this.$vm.$callHook(e,i)})}const hc=[Fn];function ha(t,e,r=hc){e.forEach(i=>fa(t,i,r))}function dc(t,e,r=hc){In(e).forEach(i=>fa(t,i,r))}function vm(t,e){if(!e)return;Object.keys(en).forEach(i=>{e&en[i]&&fa(t,i,[])})}const xm=Fs(()=>{const t=[],e=F(getApp)&&getApp({allowDefault:!0});if(e&&e.$vm&&e.$vm.$){const r=e.$vm.$.appContext.mixins;if(U(r)){const i=Object.keys(en);r.forEach(n=>{i.forEach(a=>{H(n,a)&&!t.includes(a)&&t.push(a)})})}}return t});function _m(t){ha(t,xm())}const bm=[wi,hr,dr,bs,ws,Ss];function da(t,e){const r=t.$,i={globalData:t.$options&&t.$options.globalData||{},$vm:t,onLaunch(o){this.$vm=t;const s=r.ctx;this.$vm&&s.$scope||(uc(r,{mpType:"app",mpInstance:this,slots:[]}),s.globalData=this.globalData,t.$callHook(_s,o))}},{onError:n}=r;n&&(r.appContext.config.errorHandler=o=>{t.$callHook(dr,o)}),Pm(t);const a=t.$.type;ha(i,bm),dc(i,a);{const o=a.methods;o&&Y(i,o)}return e&&e.parse(i),i}function wm(t){return function(r){return App(da(r,t))}}function Sm(t){return function(r){const i=da(r,t),n=F(getApp)&&getApp({allowDefault:!0});if(!n)return;r.$.ctx.$scope=n;const a=n.globalData;a&&Object.keys(i.globalData).forEach(o=>{H(a,o)||(a[o]=i.globalData[o])}),Object.keys(i).forEach(o=>{H(n,o)||(n[o]=i[o])}),gc(i,r)}}function gc(t,e){if(F(t.onLaunch)){const r=wx.getLaunchOptionsSync&&wx.getLaunchOptionsSync();t.onLaunch(r)}F(t.onShow)&&wx.onAppShow&&wx.onAppShow(r=>{e.$callHook("onShow",r)}),F(t.onHide)&&wx.onAppHide&&wx.onAppHide(r=>{e.$callHook("onHide",r)})}function Pm(t){const e=Dl(zi(wx.getSystemInfoSync().language)||rt);Object.defineProperty(t,"$locale",{get(){return e.value},set(r){e.value=r}})}function Am(t,e){if(!t)return;const r=t.split(","),i=r.length;i===1?e._$vueId=r[0]:i===2&&(e._$vueId=r[0],e._$vuePid=r[1])}const Tm=["externalClasses"];function Cm(t,e){Tm.forEach(r=>{H(e,r)&&(t[r]=e[r])})}const Im=/_(.*)_worklet_factory_/;function km(t,e){e&&Object.keys(e).forEach(r=>{const i=r.match(Im);if(i){const n=i[1];t[r]=e[r],t[n]=e[n]}})}function Lm(t,e){U(e)&&e.forEach(r=>{t[r]=function(i){return this.$vm[r](i)}})}function Om(t,e,r){t.selectAllComponents(e).forEach(n=>{const a=n.properties.uR;r[a]=n.$vm||n})}function Dm(t,e){Object.defineProperty(t,"refs",{get(){const r={};return Om(e,".r",r),e.selectAllComponents(".r-i-f").forEach(n=>{const a=n.properties.uR;a&&(r[a]||(r[a]=[]),r[a].push(n.$vm||n))}),r}})}function pc(t,e){const r=t.$children;for(let n=r.length-1;n>=0;n--){const a=r[n];if(a.$scope._$vueId===e)return a}let i;for(let n=r.length-1;n>=0;n--)if(i=pc(r[n],e),i)return i}const mc=["eO","uR","uRIF","uI","uT","uP","uS"];function Mm(t,e=!1){const r={};return e||(mc.forEach(i=>{r[i]={type:null,value:""}}),r.uS={type:null,value:[],observer:function(i){const n=Object.create(null);i&&i.forEach(a=>{n[a]=!0}),this.setData({$slots:n})}}),t.behaviors&&t.behaviors.includes("wx://form-field")&&((!t.properties||!t.properties.name)&&(r.name={type:null,value:""}),(!t.properties||!t.properties.value)&&(r.value={type:null,value:""})),r}function Em(t){const e={};return t&&t.virtualHost&&(e.virtualHostStyle={type:null,value:""},e.virtualHostClass={type:null,value:""}),e}function yc(t){t.properties||(t.properties={}),Y(t.properties,Mm(t),Em(t.options))}const Rm=[String,Number,Boolean,Object,Array,null];function Fm(t,e){return U(t)&&t.length===1?t[0]:t}function xo(t,e){const r=Fm(t);return Rm.indexOf(r)!==-1?r:null}function $m({properties:t},e){U(e)?e.forEach(r=>{t[r]={type:String,value:""}}):te(e)&&Object.keys(e).forEach(r=>{const i=e[r];if(te(i)){let n=i.default;F(n)&&(n=n());const a=i.type;i.type=xo(a),t[r]={type:i.type,value:n}}else t[r]={type:xo(i)}})}function Nm(t,e){return(e?Bm(t):ua(t.uP))||{}}function Bm(t){const e={};return te(t)&&Object.keys(t).forEach(r=>{mc.indexOf(r)===-1&&(e[r]=t[r])}),e}function Um(t){const e=t.$options;U(e.behaviors)&&e.behaviors.includes("uni://form-field")&&t.$watch("modelValue",()=>{t.$scope&&t.$scope.setData({name:t.name,value:t.modelValue})},{immediate:!0})}function Hm(t){return{}}function vc(t){const e=function(){const i=this.properties.uP;i&&(this.$vm?jm(i,this.$vm.$):this.properties.uT==="m"&&Wm(i,this))};t.observers||(t.observers={}),t.observers.uP=e}function Wm(t,e){const r=e.properties,i=ua(t)||{};xc(r,i,!1)&&e.setData(i)}function jm(t,e){const r=G(e.props),i=ua(t)||{};xc(r,i)&&(jg(e,i,r,!1),ig(e.update)&&rg(e.update),e.update())}function xc(t,e,r=!0){const i=Object.keys(e);if(r&&i.length!==Object.keys(t).length)return!0;for(let n=0;n<i.length;n++){const a=i[n];if(e[a]!==t[a])return!0}return!1}function zm(t){const e=t.behaviors;let r=t.props;r||(t.props=r=[]);const i=[];return U(e)&&e.forEach(n=>{i.push(n.replace("uni://","wx://")),n==="uni://form-field"&&(U(r)?(r.push("name"),r.push("modelValue")):(r.name={type:String,default:""},r.modelValue={type:[String,Number,Boolean,Array,Object,Date],default:""}))}),i}function qm(t,e){t.data=Hm(),t.behaviors=zm(e)}function _c(t,{parse:e,mocks:r,isPage:i,initRelation:n,handleLink:a,initLifetimes:o}){t=t.default||t;const s={multipleSlots:!0,addGlobalClass:!0,pureDataPattern:/^uP$/};U(t.mixins)&&t.mixins.forEach(c=>{Q(c.options)&&Y(s,c.options)}),t.options&&Y(s,t.options);const l={options:s,lifetimes:o({mocks:r,isPage:i,initRelation:n,vueOptions:t}),pageLifetimes:{show(){this.$vm&&this.$vm.$callHook("onPageShow")},hide(){this.$vm&&this.$vm.$callHook("onPageHide")},resize(c){this.$vm&&this.$vm.$callHook("onPageResize",c)}},methods:{__l:a}};return qm(l,t),yc(l),vc(l),Cm(l,t),Lm(l.methods,t.wxsCallMethods),km(l.methods,t.methods),e&&e(l,{handleLink:a}),l}function Vm(t){return function(r){return Component(_c(r,t))}}let Rr,Fr;function bc(){return getApp().$vm}function Km(t,e){Rr||(Rr=bc().$createComponent);const r=Rr(t,e);return br(r.$)||r}function Gm(t){return Fr||(Fr=bc().$destroyComponent),Fr(t)}function Jm(t,e){const{parse:r,mocks:i,isPage:n,initRelation:a,handleLink:o,initLifetimes:s}=e,l=_c(t,{mocks:i,isPage:n,initRelation:a,handleLink:o,initLifetimes:s});$m(l,(t.default||t).props);const c=l.methods;return c.onLoad=function(u){return this.options=u,this.$page={fullPath:Ru(this.route+Nu(u))},this.$vm&&this.$vm.$callHook(Jt,u)},ha(c,ym),dc(c,t),vm(c,t.__runtimeHooks),_m(c),r&&r(l,{handleLink:o}),l}function Xm(t){return function(r){return Component(Jm(r,t))}}function Ym(t){return function(r){gc(da(r,t),r)}}const Qm=Page,Zm=Component;function _o(t){const e=t.triggerEvent,r=function(i,...n){return e.apply(t,[Mu(i),...n])};try{t.triggerEvent=r}catch{t._triggerEvent=r}}function wc(t,e,r){const i=e[t];i?e[t]=function(...n){return _o(this),i.apply(this,n)}:e[t]=function(){_o(this)}}Page=function(t){return wc(Jt,t),Qm(t)};Component=function(t){return wc("created",t),t.properties&&t.properties.uP||(yc(t),vc(t)),Zm(t)};function ey({mocks:t,isPage:e,initRelation:r,vueOptions:i}){return{attached(){let n=this.properties;Am(n.uI,this);const a={vuePid:this._$vuePid};r(this,a);const o=this,s=e(o);let l=n;this.$vm=Km({type:i,props:Nm(l,s)},{mpType:s?"page":"component",mpInstance:o,slots:n.uS||{},parentComponent:a.parent&&a.parent.$,onBeforeSetup(c,u){Dm(c,o),pm(c,o,t),gm(c,u)}}),s||Um(this.$vm)},ready(){this.$vm&&(this.$vm.$callHook("mounted"),this.$vm.$callHook(Fn))},detached(){this.$vm&&(lc(this.$vm.$.uid),Gm(this.$vm))}}}const ty=["__route__","__wxExparserNodeId__","__wxWebviewId__"];function iy(t){return!!t.route}function ry(t,e){t.triggerEvent("__l",e)}function ny(t){const e=t.detail||t.value,r=e.vuePid;let i;r&&(i=pc(this.$vm,r)),i||(i=this.$vm),e.parent=i}var Sc=Object.freeze({__proto__:null,handleLink:ny,initLifetimes:ey,initRelation:ry,isPage:iy,mocks:ty});const ay=wm(),oy=Xm(Sc),sy=Vm(Sc),ly=Ym(),cy=Sm();wx.createApp=global.createApp=ay,wx.createPage=oy,wx.createComponent=sy,wx.createPluginApp=global.createPluginApp=ly,wx.createSubpackageApp=global.createSubpackageApp=cy;/*!
  * vue-router v4.3.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */var bo;(function(t){t.pop="pop",t.push="push"})(bo||(bo={}));var wo;(function(t){t.back="back",t.forward="forward",t.unknown=""})(wo||(wo={}));var So;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(So||(So={}));const uy=Symbol("router");function fy(){return Wi(uy)}const Pc=t=>(e,r=kt())=>{!_r&&Xt(t,e,r)},hy=Pc(wi),dy=Pc(Jt);var Zt={version:"v2.5.0-20230101",yAxisWidth:15,xAxisHeight:22,padding:[10,10,10,10],rotate:!1,fontSize:13,fontColor:"#666666",dataPointShape:["circle","circle","circle","circle"],color:["#1890FF","#91CB74","#FAC858","#EE6666","#73C0DE","#3CA272","#FC8452","#9A60B4","#ea7ccc"],linearColor:["#0EE2F8","#2BDCA8","#FA7D8D","#EB88E2","#2AE3A0","#0EE2F8","#EB88E2","#6773E3","#F78A85"],pieChartLinePadding:15,pieChartTextPadding:5,titleFontSize:20,subtitleFontSize:15,radarLabelTextMargin:13},W=function(t,...e){if(t==null)throw new TypeError("[uCharts] Cannot convert undefined or null to object");if(!e||e.length<=0)return t;function r(i,n){for(let a in n)i[a]=i[a]&&i[a].toString()==="[object Object]"?r(i[a],n[a]):i[a]=n[a];return i}return e.forEach(i=>{t=r(t,i)}),t},ze={toFixed:function(e,r){return r=r||2,this.isFloat(e)&&(e=e.toFixed(r)),e},isFloat:function(e){return e%1!==0},approximatelyEqual:function(e,r){return Math.abs(e-r)<1e-10},isSameSign:function(e,r){return Math.abs(e)===e&&Math.abs(r)===r||Math.abs(e)!==e&&Math.abs(r)!==r},isSameXCoordinateArea:function(e,r){return this.isSameSign(e.x,r.x)},isCollision:function(e,r){e.end={},e.end.x=e.start.x+e.width,e.end.y=e.start.y-e.height,r.end={},r.end.x=r.start.x+r.width,r.end.y=r.start.y-r.height;var i=r.start.x>e.end.x||r.end.x<e.start.x||r.end.y>e.start.y||r.start.y<e.end.y;return!i}};function O(t,e){var r=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,i=t.replace(r,function(l,c,u,f){return c+c+u+u+f+f}),n=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(i),a=parseInt(n[1],16),o=parseInt(n[2],16),s=parseInt(n[3],16);return"rgba("+a+","+o+","+s+","+e+")"}function Po(t,e,r){if(isNaN(t))throw new Error("[uCharts] series数据需为Number格式");r=r||10,e=e||"upper";for(var i=1;r<1;)r*=10,i*=10;for(e==="upper"?t=Math.ceil(t*i):t=Math.floor(t*i);t%r!==0;)if(e==="upper"){if(t==t+1)break;t++}else t--;return t/i}function gy(t,e,r,i){let n=[];for(let a=0;a<t.length;a++){let o={data:[],name:e[a],color:r[a]};for(let s=0,l=i.length;s<l;s++){if(s<t[a]){o.data.push(null);continue}let c=0;for(let u=0;u<t[a];u++)c+=i[s-u][1];o.data.push(+(c/t[a]).toFixed(3))}n.push(o)}return n}function ga(t,e,r,i,n){var a=n.width-n.area[1]-n.area[3],o=r.eachSpacing*(n.chartData.xAxisData.xAxisPoints.length-1);n.type=="mount"&&n.extra&&n.extra.mount&&n.extra.mount.widthRatio&&n.extra.mount.widthRatio>1&&(n.extra.mount.widthRatio>2&&(n.extra.mount.widthRatio=2),o+=(n.extra.mount.widthRatio-1)*r.eachSpacing);var s=e;return e>=0?(s=0,t.uevent.trigger("scrollLeft"),t.scrollOption.position="left",n.xAxis.scrollPosition="left"):Math.abs(e)>=o-a?(s=a-o,t.uevent.trigger("scrollRight"),t.scrollOption.position="right",n.xAxis.scrollPosition="right"):(t.scrollOption.position=e,n.xAxis.scrollPosition=e),s}function Ac(t,e,r){function i(n){for(;n<0;)n+=2*Math.PI;for(;n>2*Math.PI;)n-=2*Math.PI;return n}return t=i(t),e=i(e),r=i(r),e>r&&(r+=2*Math.PI,t<e&&(t+=2*Math.PI)),t>=e&&t<=r}function Wt(t,e){function r(f,h){return f[h-1]&&f[h+1]?f[h].y>=Math.max(f[h-1].y,f[h+1].y)||f[h].y<=Math.min(f[h-1].y,f[h+1].y):!1}function i(f,h){return f[h-1]&&f[h+1]?f[h].x>=Math.max(f[h-1].x,f[h+1].x)||f[h].x<=Math.min(f[h-1].x,f[h+1].x):!1}var n=.2,a=.2,o=null,s=null,l=null,c=null;if(e<1?(o=t[0].x+(t[1].x-t[0].x)*n,s=t[0].y+(t[1].y-t[0].y)*n):(o=t[e].x+(t[e+1].x-t[e-1].x)*n,s=t[e].y+(t[e+1].y-t[e-1].y)*n),e>t.length-3){var u=t.length-1;l=t[u].x-(t[u].x-t[u-1].x)*a,c=t[u].y-(t[u].y-t[u-1].y)*a}else l=t[e+1].x-(t[e+2].x-t[e].x)*a,c=t[e+1].y-(t[e+2].y-t[e].y)*a;return r(t,e+1)&&(c=t[e+1].y),r(t,e)&&(s=t[e].y),i(t,e+1)&&(l=t[e+1].x),i(t,e)&&(o=t[e].x),(s>=Math.max(t[e].y,t[e+1].y)||s<=Math.min(t[e].y,t[e+1].y))&&(s=t[e].y),(c>=Math.max(t[e].y,t[e+1].y)||c<=Math.min(t[e].y,t[e+1].y))&&(c=t[e+1].y),(o>=Math.max(t[e].x,t[e+1].x)||o<=Math.min(t[e].x,t[e+1].x))&&(o=t[e].x),(l>=Math.max(t[e].x,t[e+1].x)||l<=Math.min(t[e].x,t[e+1].x))&&(l=t[e+1].x),{ctrA:{x:o,y:s},ctrB:{x:l,y:c}}}function We(t,e,r){return{x:r.x+t,y:r.y-e}}function py(t,e){if(e)for(;ze.isCollision(t,e);)t.start.x>0?t.start.y--:t.start.x<0||t.start.y>0?t.start.y++:t.start.y--;return t}function yy(t,e,r){let i=[];if(t.length>0&&t[0].data.constructor.toString().indexOf("Array")>-1){e._pieSeries_=t;let a=t[0].data;for(var n=0;n<a.length;n++)a[n].formatter=t[0].formatter,a[n].data=a[n].value,i.push(a[n]);e.series=i}else i=t;return i}function $r(t,e,r){for(var i=0,n=0;n<t.length;n++){let a=t[n];if(a.color||(a.color=r.color[i],i=(i+1)%r.color.length),a.linearIndex||(a.linearIndex=n),a.index||(a.index=0),a.type||(a.type=e.type),typeof a.show>"u"&&(a.show=!0),a.type||(a.type=e.type),a.pointShape||(a.pointShape="circle"),!a.legendShape)switch(a.type){case"line":a.legendShape="line";break;case"column":case"bar":a.legendShape="rect";break;case"area":case"mount":a.legendShape="triangle";break;default:a.legendShape="circle"}}return t}function Ve(t,e,r,i){var n=e||[];if(t=="custom"&&n.length==0&&(n=i.linearColor),t=="custom"&&n.length<r.length){let o=r.length-n.length;for(var a=0;a<o;a++)n.push(i.linearColor[(a+1)%i.linearColor.length])}return n}function vy(t,e){var r=0,i=e-t;return i>=1e4?r=1e3:i>=1e3?r=100:i>=100?r=10:i>=10?r=5:i>=1?r=1:i>=.1?r=.1:i>=.01?r=.01:i>=.001?r=.001:i>=1e-4?r=1e-4:i>=1e-5?r=1e-5:r=1e-6,{minRange:Po(t,"lower",r),maxRange:Po(e,"upper",r)}}function X(t,e,r){var i=0;if(t=String(t),r!==!1&&r!==void 0&&r.setFontSize&&r.measureText)return r.setFontSize(e),r.measureText(t).width;var t=t.split("");for(let a=0;a<t.length;a++){let o=t[a];/[a-zA-Z]/.test(o)?i+=7:/[0-9]/.test(o)?i+=5.5:/\./.test(o)?i+=2.7:/-/.test(o)?i+=3.25:/:/.test(o)?i+=2.5:/[\u4e00-\u9fa5]/.test(o)?i+=10:/\(|\)/.test(o)?i+=3.73:/\s/.test(o)?i+=2.5:/%/.test(o)?i+=8:i+=10}return i*e/10}function Sr(t){return t.reduce(function(e,r){return(e.data?e.data:e).concat(r.data)},[])}function Tc(t,e){for(var r=new Array(e),i=0;i<r.length;i++)r[i]=0;for(var n=0;n<t.length;n++)for(var i=0;i<r.length;i++)r[i]+=t[n].data[i];return t.reduce(function(a,o){return(a.data?a.data:a).concat(o.data).concat(r)},[])}function ut(t,e,r){let i,n;return t.clientX?e.rotate?(n=e.height-t.clientX*e.pix,i=(t.pageY-r.currentTarget.offsetTop-e.height/e.pix/2*(e.pix-1))*e.pix):(i=t.clientX*e.pix,n=(t.pageY-r.currentTarget.offsetTop-e.height/e.pix/2*(e.pix-1))*e.pix):e.rotate?(n=e.height-t.x*e.pix,i=t.y*e.pix):(i=t.x*e.pix,n=t.y*e.pix),{x:i,y:n}}function ei(t,e,r){var i=[],n=[],a=e.constructor.toString().indexOf("Array")>-1;if(a){let s=Cc(t);for(var o=0;o<r.length;o++)n.push(s[r[o]])}else n=t;for(let s=0;s<n.length;s++){let l=n[s],c=-1;if(a?c=e[s]:c=e,l.data[c]!==null&&typeof l.data[c]<"u"&&l.show){let u={};u.color=l.color,u.type=l.type,u.style=l.style,u.pointShape=l.pointShape,u.disableLegend=l.disableLegend,u.legendShape=l.legendShape,u.name=l.name,u.show=l.show,u.data=l.formatter?l.formatter(l.data[c]):l.data[c],i.push(u)}}return i}function xy(t,e,r){var i=t.map(function(n){return X(n,e,r)});return Math.max.apply(null,i)}function _y(t){for(var e=2*Math.PI/t,r=[],i=0;i<t;i++)r.push(e*i);return r.map(function(n){return-1*n+Math.PI/2})}function Ao(t,e,r,i,n){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=e.chartData.calPoints?e.chartData.calPoints:[];let s={};if(i.length>0){let u=[];for(let f=0;f<i.length;f++)u.push(o[i[f]]);s=u[0][r[0]]}else for(let u=0;u<o.length;u++)if(o[u][r]){s=o[u][r];break}var l=t.map(function(u){let f=null;return e.categories&&e.categories.length>0&&(f=n[r]),{text:a.formatter?a.formatter(u,f,r,e):u.name+": "+u.data,color:u.color,legendShape:e.extra.tooltip.legendShape=="auto"?u.legendShape:e.extra.tooltip.legendShape}}),c={x:Math.round(s.x),y:Math.round(s.y)};return{textList:l,offset:c}}function by(t,e,r,i){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},a=e.chartData.xAxisPoints[r]+e.chartData.eachSpacing/2,o=t.map(function(l){return{text:n.formatter?n.formatter(l,i[r],r,e):l.name+": "+l.data,color:l.color,disableLegend:!!l.disableLegend,legendShape:e.extra.tooltip.legendShape=="auto"?l.legendShape:e.extra.tooltip.legendShape}});o=o.filter(function(l){if(l.disableLegend!==!0)return l});var s={x:Math.round(a),y:0};return{textList:o,offset:s}}function wy(t,e,r,i,n,a){var o=r.chartData.calPoints;let s=a.color.upFill,l=a.color.downFill,c=[s,s,l,s];var u=[];e.map(function(d){i==0?d.data[1]-d.data[0]<0?c[1]=l:c[1]=s:(d.data[0]<t[i-1][1]&&(c[0]=l),d.data[1]<d.data[0]&&(c[1]=l),d.data[2]>t[i-1][1]&&(c[2]=s),d.data[3]<t[i-1][1]&&(c[3]=l));let m={text:"开盘："+d.data[0],color:c[0],legendShape:r.extra.tooltip.legendShape=="auto"?d.legendShape:r.extra.tooltip.legendShape},p={text:"收盘："+d.data[1],color:c[1],legendShape:r.extra.tooltip.legendShape=="auto"?d.legendShape:r.extra.tooltip.legendShape},g={text:"最低："+d.data[2],color:c[2],legendShape:r.extra.tooltip.legendShape=="auto"?d.legendShape:r.extra.tooltip.legendShape},v={text:"最高："+d.data[3],color:c[3],legendShape:r.extra.tooltip.legendShape=="auto"?d.legendShape:r.extra.tooltip.legendShape};u.push(m,p,g,v)});var f=[],h={x:0,y:0};for(let d=0;d<o.length;d++){let m=o[d];typeof m[i]<"u"&&m[i]!==null&&f.push(m[i])}return h.x=Math.round(f[0][0].x),{textList:u,offset:h}}function Cc(t){let e=[];for(let r=0;r<t.length;r++)t[r].show==!0&&e.push(t[r]);return e}function Sy(t,e,r,i){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a={index:-1,group:[]},o=r.chartData.eachSpacing/2;let s=[];if(e&&e.length>0){if(!r.categories)o=0;else{for(let l=1;l<r.chartData.xAxisPoints.length;l++)s.push(r.chartData.xAxisPoints[l]-o);(r.type=="line"||r.type=="area")&&r.xAxis.boundaryGap=="justify"&&(s=r.chartData.xAxisPoints)}if(Ic(t,r))if(r.categories)s.forEach(function(l,c){t.x+n+o>l&&(a.index=c)});else{let l=Array(e.length);for(let h=0;h<e.length;h++){l[h]=Array(e[h].length);for(let d=0;d<e[h].length;d++)l[h][d]=Math.abs(e[h][d].x-t.x)}let c=Array(l.length),u=Array(l.length);for(let h=0;h<l.length;h++)c[h]=Math.min.apply(null,l[h]),u[h]=l[h].indexOf(c[h]);let f=Math.min.apply(null,c);a.index=[];for(let h=0;h<c.length;h++)c[h]==f&&(a.group.push(h),a.index.push(u[h]))}}return a}function Py(t,e,r,i){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a={index:-1,group:[]},o=r.chartData.eachSpacing/2;let s=r.chartData.yAxisPoints;return e&&e.length>0&&Ic(t,r)&&s.forEach(function(l,c){t.y+n+o>l&&(a.index=c)}),a}function Ay(t,e,r){let i=-1,n=0;if(Ty(t,e.area)){let a=e.points,o=-1;for(let s=0,l=a.length;s<l;s++){let c=a[s];for(let u=0;u<c.length;u++){o+=1;let f=c[u].area;if(f&&t.x>f[0]-n&&t.x<f[2]+n&&t.y>f[1]-n&&t.y<f[3]+n){i=o;break}}}return i}return i}function Ty(t,e){return t.x>e.start.x&&t.x<e.end.x&&t.y>e.start.y&&t.y<e.end.y}function Ic(t,e,r){return t.x<=e.width-e.area[1]+10&&t.x>=e.area[3]-10&&t.y>=e.area[0]&&t.y<=e.height-e.area[2]}function Cy(t,e,r){var i=2*Math.PI/r,n=-1;if(pa(t,e.center,e.radius)){var a=function(c){return c<0&&(c+=2*Math.PI),c>2*Math.PI&&(c-=2*Math.PI),c},o=Math.atan2(e.center.y-t.y,t.x-e.center.x);o=-1*o,o<0&&(o+=2*Math.PI);var s=e.angleList.map(function(l){return l=a(-1*l),l});s.forEach(function(l,c){var u=a(l-i/2),f=a(l+i/2);f<u&&(f+=2*Math.PI),(o>=u&&o<=f||o+2*Math.PI>=u&&o+2*Math.PI<=f)&&(n=c)})}return n}function Iy(t,e){for(var r=-1,i=0,n=e.series.length;i<n;i++){var a=e.series[i];if(t.x>a.funnelArea[0]&&t.x<a.funnelArea[2]&&t.y>a.funnelArea[1]&&t.y<a.funnelArea[3]){r=i;break}}return r}function ky(t,e){for(var r=-1,i=0,n=e.length;i<n;i++){var a=e[i];if(t.x>a.area[0]&&t.x<a.area[2]&&t.y>a.area[1]&&t.y<a.area[3]){r=i;break}}return r}function Ly(t,e){for(var r=-1,i=e.chartData.mapData,n=e.series,a=vv(t.y,t.x,i.bounds,i.scale,i.xoffset,i.yoffset),o=[a.x,a.y],s=0,l=n.length;s<l;s++){var c=n[s].geometry.coordinates;if(_v(o,c,e.chartData.mapData.mercator)){r=s;break}}return r}function Oy(t,e,r){var i=-1,n=kc(r._series_,r.extra.rose.type,e.radius,e.radius);if(e&&e.center&&pa(t,e.center,e.radius)){var a=Math.atan2(e.center.y-t.y,t.x-e.center.x);a=-a,r.extra.rose&&r.extra.rose.offsetAngle&&(a=a-r.extra.rose.offsetAngle*Math.PI/180);for(var o=0,s=n.length;o<s;o++)if(Ac(a,n[o]._start_,n[o]._start_+n[o]._rose_proportion_*2*Math.PI)){i=o;break}}return i}function Dy(t,e,r){var i=-1,n=ma(e.series);if(e&&e.center&&pa(t,e.center,e.radius)){var a=Math.atan2(e.center.y-t.y,t.x-e.center.x);a=-a,r.extra.pie&&r.extra.pie.offsetAngle&&(a=a-r.extra.pie.offsetAngle*Math.PI/180),r.extra.ring&&r.extra.ring.offsetAngle&&(a=a-r.extra.ring.offsetAngle*Math.PI/180);for(var o=0,s=n.length;o<s;o++)if(Ac(a,n[o]._start_,n[o]._start_+n[o]._proportion_*2*Math.PI)){i=o;break}}return i}function pa(t,e,r){return Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2)<=Math.pow(r,2)}function jt(t,e){var r=[],i=[];return t.forEach(function(n,a){e.connectNulls?n!==null&&i.push(n):n!==null?i.push(n):(i.length&&r.push(i),i=[])}),i.length&&r.push(i),r}function My(t,e,r,i,n){let a={area:{start:{x:0,y:0},end:{x:0,y:0},width:0,height:0,wholeWidth:0,wholeHeight:0},points:[],widthArr:[],heightArr:[]};if(e.legend.show===!1)return i.legendData=a,a;let o=e.legend.padding*e.pix,s=e.legend.margin*e.pix,l=e.legend.fontSize?e.legend.fontSize*e.pix:r.fontSize,c=15*e.pix,u=5*e.pix,f=Math.max(e.legend.lineHeight*e.pix,l);if(e.legend.position=="top"||e.legend.position=="bottom"){let h=[],d=0,m=[],p=[];for(let g=0;g<t.length;g++){let v=t[g];const y=v.legendText?v.legendText:v.name;let x=c+u+X(y||"undefined",l,n)+e.legend.itemGap*e.pix;d+x>e.width-e.area[1]-e.area[3]?(h.push(p),m.push(d-e.legend.itemGap*e.pix),d=x,p=[v]):(d+=x,p.push(v))}if(p.length){h.push(p),m.push(d-e.legend.itemGap*e.pix),a.widthArr=m;let g=Math.max.apply(null,m);switch(e.legend.float){case"left":a.area.start.x=e.area[3],a.area.end.x=e.area[3]+g+2*o;break;case"right":a.area.start.x=e.width-e.area[1]-g-2*o,a.area.end.x=e.width-e.area[1];break;default:a.area.start.x=(e.width-g)/2-o,a.area.end.x=(e.width+g)/2+o}a.area.width=g+2*o,a.area.wholeWidth=g+2*o,a.area.height=h.length*f+2*o,a.area.wholeHeight=h.length*f+2*o+2*s,a.points=h}}else{let h=t.length,d=e.height-e.area[0]-e.area[2]-2*s-2*o,m=Math.min(Math.floor(d/f),h);switch(a.area.height=m*f+o*2,a.area.wholeHeight=m*f+o*2,e.legend.float){case"top":a.area.start.y=e.area[0]+s,a.area.end.y=e.area[0]+s+a.area.height;break;case"bottom":a.area.start.y=e.height-e.area[2]-s-a.area.height,a.area.end.y=e.height-e.area[2]-s;break;default:a.area.start.y=(e.height-a.area.height)/2,a.area.end.y=(e.height+a.area.height)/2}let p=h%m===0?h/m:Math.floor(h/m+1),g=[];for(let v=0;v<p;v++){let y=t.slice(v*m,v*m+m);g.push(y)}if(a.points=g,g.length){for(let y=0;y<g.length;y++){let x=g[y],b=0;for(let P=0;P<x.length;P++){let _=c+u+X(x[P].name||"undefined",l,n)+e.legend.itemGap*e.pix;_>b&&(b=_)}a.widthArr.push(b),a.heightArr.push(x.length*f+o*2)}let v=0;for(let y=0;y<a.widthArr.length;y++)v+=a.widthArr[y];a.area.width=v-e.legend.itemGap*e.pix+2*o,a.area.wholeWidth=a.area.width+o}}switch(e.legend.position){case"top":a.area.start.y=e.area[0]+s,a.area.end.y=e.area[0]+s+a.area.height;break;case"bottom":a.area.start.y=e.height-e.area[2]-a.area.height-s,a.area.end.y=e.height-e.area[2]-s;break;case"left":a.area.start.x=e.area[3],a.area.end.x=e.area[3]+a.area.width;break;case"right":a.area.start.x=e.width-e.area[1]-a.area.width,a.area.end.x=e.width-e.area[1];break}return i.legendData=a,a}function To(t,e,r,i,n){var a={angle:0,xAxisHeight:e.xAxis.lineHeight*e.pix+e.xAxis.marginTop*e.pix},o=e.xAxis.fontSize*e.pix,s=t.map(function(c,u){var f=e.xAxis.formatter?e.xAxis.formatter(c,u,e):c;return X(String(f),o,n)}),l=Math.max.apply(this,s);if(e.xAxis.rotateLabel==!0){a.angle=e.xAxis.rotateAngle*Math.PI/180;let c=e.xAxis.marginTop*e.pix*2+Math.abs(l*Math.sin(a.angle));c=c<o+e.xAxis.marginTop*e.pix*2?c+e.xAxis.marginTop*e.pix*2:c,a.xAxisHeight=c}return e.enableScroll&&e.xAxis.scrollShow&&(a.xAxisHeight+=6*e.pix),e.xAxis.disabled&&(a.xAxisHeight=0),a}function Ey(t,e,r,i){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:-1,a;i=="stack"?a=Tc(t,e.categories.length):a=Sr(t);var o=[];a=a.filter(function(p){return typeof p=="object"&&p!==null?p.constructor.toString().indexOf("Array")>-1?p!==null:p.value!==null:p!==null}),a.map(function(p){typeof p=="object"?p.constructor.toString().indexOf("Array")>-1?e.type=="candle"?p.map(function(g){o.push(g)}):o.push(p[0]):o.push(p.value):o.push(p)});var s=0,l=0;if(o.length>0&&(s=Math.min.apply(this,o),l=Math.max.apply(this,o)),n>-1?(typeof e.xAxis.data[n].min=="number"&&(s=Math.min(e.xAxis.data[n].min,s)),typeof e.xAxis.data[n].max=="number"&&(l=Math.max(e.xAxis.data[n].max,l))):(typeof e.xAxis.min=="number"&&(s=Math.min(e.xAxis.min,s)),typeof e.xAxis.max=="number"&&(l=Math.max(e.xAxis.max,l))),s===l){var c=l||10;l+=c}for(var u=s,f=l,h=[],d=(f-u)/e.xAxis.splitNumber,m=0;m<=e.xAxis.splitNumber;m++)h.push(u+d*m);return h}function Ry(t,e,r,i){var n=W({},{type:""},e.extra.bar),a={angle:0,xAxisHeight:e.xAxis.lineHeight*e.pix+e.xAxis.marginTop*e.pix};a.ranges=Ey(t,e,r,n.type),a.rangesFormat=a.ranges.map(function(s){return s=ze.toFixed(s,2),s});var o=a.ranges.map(function(s){return s=ze.toFixed(s,2),s});return a=Object.assign(a,Pi(o,e)),a.eachSpacing,o.map(function(s){return X(s,e.xAxis.fontSize*e.pix,i)}),e.xAxis.disabled===!0&&(a.xAxisHeight=0),a}function Fy(t,e,r,i,n){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1,o=n.extra.radar||{};o.max=o.max||0;var s=Math.max(o.max,Math.max.apply(null,Sr(i))),l=[];for(let c=0;c<i.length;c++){let u=i[c],f={};f.color=u.color,f.legendShape=u.legendShape,f.pointShape=u.pointShape,f.data=[],u.data.forEach(function(h,d){let m={};m.angle=t[d],m.proportion=h/s,m.value=h,m.position=We(r*m.proportion*a*Math.cos(m.angle),r*m.proportion*a*Math.sin(m.angle),e),f.data.push(m)}),l.push(f)}return l}function ma(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=0,n=0;for(let a=0;a<t.length;a++){let o=t[a];o.data=o.data===null?0:o.data,i+=o.data}for(let a=0;a<t.length;a++){let o=t[a];o.data=o.data===null?0:o.data,i===0?o._proportion_=1/t.length*r:o._proportion_=o.data/i*r,o._radius_=e}for(let a=0;a<t.length;a++){let o=t[a];o._start_=n,n+=2*o._proportion_*Math.PI}return t}function $y(t,e,r,i){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1;for(let a=0;a<t.length;a++)r.type=="funnel"?t[a].radius=t[a].data/t[0].data*e*n:t[a].radius=i*(t.length-a)/(i*t.length)*e*n,t[a]._proportion_=t[a].data/t[0].data;return t}function kc(t,e,r,i){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=0,o=0,s=[];for(let f=0;f<t.length;f++){let h=t[f];h.data=h.data===null?0:h.data,a+=h.data,s.push(h.data)}var l=Math.min.apply(null,s),c=Math.max.apply(null,s),u=i-r;for(let f=0;f<t.length;f++){let h=t[f];h.data=h.data===null?0:h.data,a===0?(h._proportion_=1/t.length*n,h._rose_proportion_=1/t.length*n):(h._proportion_=h.data/a*n,e=="area"?h._rose_proportion_=1/t.length*n:h._rose_proportion_=h.data/a*n),h._radius_=r+u*((h.data-l)/(c-l))||i}for(let f=0;f<t.length;f++){let h=t[f];h._start_=o,o+=2*h._rose_proportion_*Math.PI}return t}function Ny(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;r==1&&(r=.999999);for(let i=0;i<t.length;i++){let n=t[i];n.data=n.data===null?0:n.data;let a;e.type=="circle"?a=2:e.direction=="ccw"?e.startAngle<e.endAngle?a=2+e.startAngle-e.endAngle:a=e.startAngle-e.endAngle:e.endAngle<e.startAngle?a=2+e.endAngle-e.startAngle:a=e.startAngle-e.endAngle,n._proportion_=a*n.data*r+e.startAngle,e.direction=="ccw"&&(n._proportion_=e.startAngle-a*n.data*r),n._proportion_>=2&&(n._proportion_=n._proportion_%2)}return t}function By(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;r==1&&(r=.999999);for(let i=0;i<t.length;i++){let n=t[i];n.data=n.data===null?0:n.data;let a;e.type=="circle"?a=2:e.endAngle<e.startAngle?a=2+e.endAngle-e.startAngle:a=e.startAngle-e.endAngle,n._proportion_=a*n.data*r+e.startAngle,n._proportion_>=2&&(n._proportion_=n._proportion_%2)}return t}function Uy(t,e,r){let i;r<e?i=2+r-e:i=e-r;let n=e;for(let a=0;a<t.length;a++)t[a].value=t[a].value===null?0:t[a].value,t[a]._startAngle_=n,t[a]._endAngle_=i*t[a].value+e,t[a]._endAngle_>=2&&(t[a]._endAngle_=t[a]._endAngle_%2),n=t[a]._endAngle_;return t}function Hy(t,e,r){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1;for(let n=0;n<t.length;n++){let a=t[n];if(a.data=a.data===null?0:a.data,r.pointer.color=="auto"){for(let s=0;s<e.length;s++)if(a.data<=e[s].value){a.color=e[s].color;break}}else a.color=r.pointer.color;let o;r.endAngle<r.startAngle?o=2+r.endAngle-r.startAngle:o=r.startAngle-r.endAngle,a._endAngle_=o*a.data+r.startAngle,a._oldAngle_=r.oldAngle,r.oldAngle<r.endAngle&&(a._oldAngle_+=2),a.data>=r.oldData?a._proportion_=(a._endAngle_-a._oldAngle_)*i+r.oldAngle:a._proportion_=a._oldAngle_-(a._oldAngle_-a._endAngle_)*i,a._proportion_>=2&&(a._proportion_=a._proportion_%2)}return t}function Wy(t,e,r,i){t=ma(t);let n=0;for(let a=0;a<t.length;a++){let o=t[a],s=o.formatter?o.formatter(+o._proportion_.toFixed(2)):ze.toFixed(o._proportion_*100)+"%";n=Math.max(n,X(s,o.textSize*i.pix||e.fontSize,r))}return n}function or(t,e,r,i,n,a){return t.map(function(o){if(o===null)return null;var s=0,l=0;return a.type=="mix"?(s=a.extra.mix.column.seriesGap*a.pix||0,l=a.extra.mix.column.categoryGap*a.pix||0):(s=a.extra.column.seriesGap*a.pix||0,l=a.extra.column.categoryGap*a.pix||0),s=Math.min(s,e/r),l=Math.min(l,e/r),o.width=Math.ceil((e-2*l-s*(r-1))/r),a.extra.mix&&a.extra.mix.column.width&&+a.extra.mix.column.width>0&&(o.width=Math.min(o.width,+a.extra.mix.column.width*a.pix)),a.extra.column&&a.extra.column.width&&+a.extra.column.width>0&&(o.width=Math.min(o.width,+a.extra.column.width*a.pix)),o.width<=0&&(o.width=1),o.x+=(i+.5-r/2)*(o.width+s),o})}function Co(t,e,r,i,n,a){return t.map(function(o){if(o===null)return null;var s=0,l=0;return s=a.extra.bar.seriesGap*a.pix||0,l=a.extra.bar.categoryGap*a.pix||0,s=Math.min(s,e/r),l=Math.min(l,e/r),o.width=Math.ceil((e-2*l-s*(r-1))/r),a.extra.bar&&a.extra.bar.width&&+a.extra.bar.width>0&&(o.width=Math.min(o.width,+a.extra.bar.width*a.pix)),o.width<=0&&(o.width=1),o.y+=(i+.5-r/2)*(o.width+s),o})}function jy(t,e,r,i,n,a,o){var s=a.extra.column.categoryGap*a.pix||0;return t.map(function(l){return l===null?null:(l.width=e-2*s,a.extra.column&&a.extra.column.width&&+a.extra.column.width>0&&(l.width=Math.min(l.width,+a.extra.column.width*a.pix)),i>0&&(l.width-=o),l)})}function zy(t,e,r,i,n,a,o){var s=a.extra.column.categoryGap*a.pix||0;return t.map(function(l,c){return l===null?null:(l.width=Math.ceil(e-2*s),a.extra.column&&a.extra.column.width&&+a.extra.column.width>0&&(l.width=Math.min(l.width,+a.extra.column.width*a.pix)),l.width<=0&&(l.width=1),l)})}function qy(t,e,r,i,n,a,o){var s=a.extra.bar.categoryGap*a.pix||0;return t.map(function(l,c){return l===null?null:(l.width=Math.ceil(e-2*s),a.extra.bar&&a.extra.bar.width&&+a.extra.bar.width>0&&(l.width=Math.min(l.width,+a.extra.bar.width*a.pix)),l.width<=0&&(l.width=1),l)})}function Pi(t,e,r){var i=e.width-e.area[1]-e.area[3],n=e.enableScroll?Math.min(e.xAxis.itemCount,t.length):t.length;(e.type=="line"||e.type=="area"||e.type=="scatter"||e.type=="bubble"||e.type=="bar")&&n>1&&e.xAxis.boundaryGap=="justify"&&(n-=1);var a=0;e.type=="mount"&&e.extra&&e.extra.mount&&e.extra.mount.widthRatio&&e.extra.mount.widthRatio>1&&(e.extra.mount.widthRatio>2&&(e.extra.mount.widthRatio=2),a=e.extra.mount.widthRatio-1,n+=a);var o=i/n,s=[],l=e.area[3],c=e.width-e.area[1];return t.forEach(function(u,f){s.push(l+a/2*o+f*o)}),e.xAxis.boundaryGap!=="justify"&&(e.enableScroll===!0?s.push(l+a*o+t.length*o):s.push(c)),{xAxisPoints:s,startX:l,endX:c,eachSpacing:o}}function Vy(t,e,r,i,n,a,o){var s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:1,l=[],c=a.height-a.area[0]-a.area[2];return t.forEach(function(u,f){if(u===null)l.push(null);else{var h=[];u.forEach(function(d,m){var p={};p.x=i[f]+Math.round(n/2);var g=d.value||d,v=c*(g-e)/(r-e);v*=s,p.y=a.height-Math.round(v)-a.area[2],h.push(p)}),l.push(h)}}),l}function Te(t,e,r,i,n,a,o){var s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:1,l="center";(a.type=="line"||a.type=="area"||a.type=="scatter"||a.type=="bubble")&&(l=a.xAxis.boundaryGap);var c=[],u=a.height-a.area[0]-a.area[2],f=a.width-a.area[1]-a.area[3];return t.forEach(function(h,d){if(h===null)c.push(null);else{var m={};m.color=h.color,m.x=i[d];var p=h;if(typeof h=="object"&&h!==null)if(h.constructor.toString().indexOf("Array")>-1){let v,y,x;v=[].concat(a.chartData.xAxisData.ranges),y=v.shift(),x=v.pop(),p=h[1],m.x=a.area[3]+f*(h[0]-y)/(x-y),a.type=="bubble"&&(m.r=h[2],m.t=h[3])}else p=h.value;l=="center"&&(m.x+=n/2);var g=u*(p-e)/(r-e);g*=s,m.y=a.height-g-a.area[2],c.push(m)}}),c}function Ky(t,e,r,i,n,a,o,s,c){var c=arguments.length>8&&arguments[8]!==void 0?arguments[8]:1,u=a.xAxis.boundaryGap,f=[],h=a.height-a.area[0]-a.area[2],d=a.width-a.area[1]-a.area[3];return t.forEach(function(m,p){if(m===null)f.push(null);else{var g={};if(g.color=m.color,s.animation=="vertical"){g.x=i[p];var v=m;if(typeof m=="object"&&m!==null)if(m.constructor.toString().indexOf("Array")>-1){let x,b,P;x=[].concat(a.chartData.xAxisData.ranges),b=x.shift(),P=x.pop(),v=m[1],g.x=a.area[3]+d*(m[0]-b)/(P-b)}else v=m.value;u=="center"&&(g.x+=n/2);var y=h*(v-e)/(r-e);y*=c,g.y=a.height-y-a.area[2],f.push(g)}else{g.x=i[0]+n*p*c;var v=m;u=="center"&&(g.x+=n/2);var y=h*(v-e)/(r-e);g.y=a.height-y-a.area[2],f.push(g)}}}),f}function Io(t,e,r,i,n,a,o,s,c){var c=arguments.length>8&&arguments[8]!==void 0?arguments[8]:1,u=[],f=a.height-a.area[0]-a.area[2],h=a.width-a.area[1]-a.area[3];return t.forEach(function(d,m){if(d===null)u.push(null);else{var p={};p.color=d.color,p.x=i[m];var g=d;if(typeof d=="object"&&d!==null)if(d.constructor.toString().indexOf("Array")>-1){let y,x,b;y=[].concat(a.chartData.xAxisData.ranges),x=y.shift(),b=y.pop(),g=d[1],p.x=a.area[3]+h*(d[0]-x)/(b-x)}else g=d.value;p.x+=n/2;var v=f*(g*c-e)/(r-e);p.y=a.height-v-a.area[2],u.push(p)}}),u}function ko(t,e,r,i,n,a,o,s){var l=arguments.length>8&&arguments[8]!==void 0?arguments[8]:1,c=[],u=a.height-a.area[0]-a.area[2];a.width-a.area[1]-a.area[3];var f=n*o.widthRatio;return t.forEach(function(h,d){if(h===null)c.push(null);else{var m={};m.color=h.color,m.x=i[d],m.x+=n/2;var p=h.data,g=u*(p*l-e)/(r-e);m.y=a.height-g-a.area[2],m.value=p,m.width=f,c.push(m)}}),c}function Lo(t,e,r,i,n,a,o){var s=arguments.length>7&&arguments[7]!==void 0?arguments[7]:1,l=[];a.height-a.area[0]-a.area[2];var c=a.width-a.area[1]-a.area[3];return t.forEach(function(u,f){if(u===null)l.push(null);else{var h={};h.color=u.color,h.y=i[f];var d=u;typeof u=="object"&&u!==null&&(d=u.value);var m=c*(d-e)/(r-e);m*=s,h.height=m,h.value=d,h.x=m+a.area[3],l.push(h)}}),l}function Nr(t,e,r,i,n,a,o,s,l){var c=arguments.length>9&&arguments[9]!==void 0?arguments[9]:1,u=[],f=a.height-a.area[0]-a.area[2];return t.forEach(function(h,d){if(h===null)u.push(null);else{var m={};if(m.color=h.color,m.x=i[d]+Math.round(n/2),s>0){var p=0;for(let b=0;b<=s;b++)p+=l[b].data[d];var g=p-h,v=f*(p-e)/(r-e),y=f*(g-e)/(r-e)}else{var p=h;typeof h=="object"&&h!==null&&(p=h.value);var v=f*(p-e)/(r-e),y=0}var x=y;v*=c,x*=c,m.y=a.height-Math.round(v)-a.area[2],m.y0=a.height-Math.round(x)-a.area[2],u.push(m)}}),u}function Br(t,e,r,i,n,a,o,s,l){var c=arguments.length>9&&arguments[9]!==void 0?arguments[9]:1,u=[],f=a.width-a.area[1]-a.area[3];return t.forEach(function(h,d){if(h===null)u.push(null);else{var m={};if(m.color=h.color,m.y=i[d],s>0){var p=0;for(let b=0;b<=s;b++)p+=l[b].data[d];var g=p-h,v=f*(p-e)/(r-e),y=f*(g-e)/(r-e)}else{var p=h;typeof h=="object"&&h!==null&&(p=h.value);var v=f*(p-e)/(r-e),y=0}var x=y;v*=c,x*=c,m.height=v-x,m.x=a.area[3]+v,m.x0=a.area[3]+x,u.push(m)}}),u}function Oo(t,e,r,i,n){var a;i=="stack"?a=Tc(t,e.categories.length):a=Sr(t);var o=[];a=a.filter(function(p){return typeof p=="object"&&p!==null?p.constructor.toString().indexOf("Array")>-1?p!==null:p.value!==null:p!==null}),a.map(function(p){typeof p=="object"?p.constructor.toString().indexOf("Array")>-1?e.type=="candle"?p.map(function(g){o.push(g)}):o.push(p[1]):o.push(p.value):o.push(p)});var s=n.min||0,l=n.max||0;o.length>0&&(s=Math.min.apply(this,o),l=Math.max.apply(this,o)),s===l&&(l==0?l=10:s=0);for(var c=vy(s,l),u=n.min===void 0||n.min===null?c.minRange:n.min,f=n.max===void 0||n.max===null?c.maxRange:n.max,h=(f-u)/e.yAxis.splitNumber,d=[],m=0;m<=e.yAxis.splitNumber;m++)d.push(u+h*m);return d.reverse()}function ya(t,e,r,i){var n=W({},{type:""},e.extra.column),a=e.yAxis.data.length,o=new Array(a);if(a>0){for(let f=0;f<a;f++){o[f]=[];for(let h=0;h<t.length;h++)t[h].index==f&&o[f].push(t[h])}var s=new Array(a),l=new Array(a),c=new Array(a);for(let f=0;f<a;f++){let h=e.yAxis.data[f];e.yAxis.disabled==!0&&(h.disabled=!0),h.type==="categories"?(h.formatter||(h.formatter=(p,g,v)=>p+(h.unit||"")),h.categories=h.categories||e.categories,s[f]=h.categories):(h.formatter||(h.formatter=(p,g,v)=>ze.toFixed(p,h.tofix||0)+(h.unit||"")),s[f]=Oo(o[f],e,r,n.type,h));let d=h.fontSize*e.pix||r.fontSize;c[f]={position:h.position?h.position:"left",width:0},l[f]=s[f].map(function(p,g){return p=h.formatter(p,g,e),c[f].width=Math.max(c[f].width,X(p,d,i)+5),p});let m=h.calibration?4*e.pix:0;c[f].width+=m+3*e.pix,h.disabled===!0&&(c[f].width=0)}}else{var s=new Array(1),l=new Array(1),c=new Array(1);e.type==="bar"?(s[0]=e.categories,e.yAxis.formatter||(e.yAxis.formatter=(m,p,g)=>m+(g.yAxis.unit||""))):(e.yAxis.formatter||(e.yAxis.formatter=(m,p,g)=>m.toFixed(g.yAxis.tofix)+(g.yAxis.unit||"")),s[0]=Oo(t,e,r,n.type,{})),c[0]={position:"left",width:0};var u=e.yAxis.fontSize*e.pix||r.fontSize;l[0]=s[0].map(function(m,p){return m=e.yAxis.formatter(m,p,e),c[0].width=Math.max(c[0].width,X(m,u,i)+5),m}),c[0].width+=3*e.pix,e.yAxis.disabled===!0?(c[0]={position:"left",width:0},e.yAxis.data[0]={disabled:!0}):(e.yAxis.data[0]={disabled:!1,position:"left",max:e.yAxis.max,min:e.yAxis.min,formatter:e.yAxis.formatter},e.type==="bar"&&(e.yAxis.data[0].categories=e.categories,e.yAxis.data[0].type="categories"))}return{rangesFormat:l,ranges:s,yAxisWidth:c}}function Gy(t,e,r,i,n){let a=[].concat(r.chartData.yAxisData.ranges),o=r.height-r.area[0]-r.area[2],s=r.area[0],l=[];for(let c=0;c<a.length;c++){let u=Math.max.apply(this,a[c]),f=Math.min.apply(this,a[c]),h=u-(u-f)*(t-s)/o;h=r.yAxis.data&&r.yAxis.data[c].formatter?r.yAxis.data[c].formatter(h,c,r):h.toFixed(0),l.push(String(h))}return l}function Jy(t,e){let r,i,n=e.height-e.area[0]-e.area[2];for(let a=0;a<t.length;a++){t[a].yAxisIndex=t[a].yAxisIndex?t[a].yAxisIndex:0;let o=[].concat(e.chartData.yAxisData.ranges[t[a].yAxisIndex]);r=o.pop(),i=o.shift();let s=n*(t[a].value-r)/(i-r);t[a].y=e.height-Math.round(s)-e.area[2]}return t}function le(t,e){e.rotateLock!==!0?(t.translate(e.height,0),t.rotate(90*Math.PI/180)):e._rotate_!==!0&&(t.translate(e.height,0),t.rotate(90*Math.PI/180),e._rotate_=!0)}function Pr(t,e,r,i,n){if(i.beginPath(),n.dataPointShapeType=="hollow"?(i.setStrokeStyle(e),i.setFillStyle(n.background),i.setLineWidth(2*n.pix)):(i.setStrokeStyle("#ffffff"),i.setFillStyle(e),i.setLineWidth(1*n.pix)),r==="diamond")t.forEach(function(a,o){a!==null&&(i.moveTo(a.x,a.y-4.5),i.lineTo(a.x-4.5,a.y),i.lineTo(a.x,a.y+4.5),i.lineTo(a.x+4.5,a.y),i.lineTo(a.x,a.y-4.5))});else if(r==="circle")t.forEach(function(a,o){a!==null&&(i.moveTo(a.x+2.5*n.pix,a.y),i.arc(a.x,a.y,3*n.pix,0,2*Math.PI,!1))});else if(r==="square")t.forEach(function(a,o){a!==null&&(i.moveTo(a.x-3.5,a.y-3.5),i.rect(a.x-3.5,a.y-3.5,7,7))});else if(r==="triangle")t.forEach(function(a,o){a!==null&&(i.moveTo(a.x,a.y-4.5),i.lineTo(a.x-4.5,a.y+4.5),i.lineTo(a.x+4.5,a.y+4.5),i.lineTo(a.x,a.y-4.5))});else if(r==="none")return;i.closePath(),i.fill(),i.stroke()}function Lc(t,e,r,i,n,a,o){if(n.tooltip&&!(n.tooltip.group.length>0&&n.tooltip.group.includes(o)==!1)){var s=typeof n.tooltip.index=="number"?n.tooltip.index:n.tooltip.index[n.tooltip.group.indexOf(o)];if(i.beginPath(),a.activeType=="hollow"?(i.setStrokeStyle(e),i.setFillStyle(n.background),i.setLineWidth(2*n.pix)):(i.setStrokeStyle("#ffffff"),i.setFillStyle(e),i.setLineWidth(1*n.pix)),r==="diamond")t.forEach(function(l,c){l!==null&&s==c&&(i.moveTo(l.x,l.y-4.5),i.lineTo(l.x-4.5,l.y),i.lineTo(l.x,l.y+4.5),i.lineTo(l.x+4.5,l.y),i.lineTo(l.x,l.y-4.5))});else if(r==="circle")t.forEach(function(l,c){l!==null&&s==c&&(i.moveTo(l.x+2.5*n.pix,l.y),i.arc(l.x,l.y,3*n.pix,0,2*Math.PI,!1))});else if(r==="square")t.forEach(function(l,c){l!==null&&s==c&&(i.moveTo(l.x-3.5,l.y-3.5),i.rect(l.x-3.5,l.y-3.5,7,7))});else if(r==="triangle")t.forEach(function(l,c){l!==null&&s==c&&(i.moveTo(l.x,l.y-4.5),i.lineTo(l.x-4.5,l.y+4.5),i.lineTo(l.x+4.5,l.y+4.5),i.lineTo(l.x,l.y-4.5))});else if(r==="none")return;i.closePath(),i.fill(),i.stroke()}}function va(t,e,r,i){var n=t.title.fontSize||e.titleFontSize,a=t.subtitle.fontSize||e.subtitleFontSize,o=t.title.name||"",s=t.subtitle.name||"",l=t.title.color||t.fontColor,c=t.subtitle.color||t.fontColor,u=o?n:0,f=s?a:0,h=5;if(s){var d=X(s,a*t.pix,r),m=i.x-d/2+(t.subtitle.offsetX||0)*t.pix,p=i.y+a*t.pix/2+(t.subtitle.offsetY||0)*t.pix;o&&(p+=(u*t.pix+h)/2),r.beginPath(),r.setFontSize(a*t.pix),r.setFillStyle(c),r.fillText(s,m,p),r.closePath(),r.stroke()}if(o){var g=X(o,n*t.pix,r),v=i.x-g/2+(t.title.offsetX||0),y=i.y+n*t.pix/2+(t.title.offsetY||0)*t.pix;s&&(y-=(f*t.pix+h)/2),r.beginPath(),r.setFontSize(n*t.pix),r.setFillStyle(l),r.fillText(o,v,y),r.closePath(),r.stroke()}}function mi(t,e,r,i,n){var a=e.data,o=e.textOffset?e.textOffset:0;t.forEach(function(s,l){if(s!==null){i.beginPath();var c=e.textSize?e.textSize*n.pix:r.fontSize;i.setFontSize(c),i.setFillStyle(e.textColor||n.fontColor);var u=a[l];typeof a[l]=="object"&&a[l]!==null&&(a[l].constructor.toString().indexOf("Array")>-1?u=a[l][1]:u=a[l].value);var f=e.formatter?e.formatter(u,l,e,n):u;i.setTextAlign("center"),i.fillText(String(f),s.x,s.y-4+o*n.pix),i.closePath(),i.stroke(),i.setTextAlign("left")}})}function Ur(t,e,r,i,n){var a=e.data,o=e.textOffset?e.textOffset:0,s=n.extra.column.labelPosition;t.forEach(function(l,c){if(l!==null){i.beginPath();var u=e.textSize?e.textSize*n.pix:r.fontSize;i.setFontSize(u),i.setFillStyle(e.textColor||n.fontColor);var f=a[c];typeof a[c]=="object"&&a[c]!==null&&(a[c].constructor.toString().indexOf("Array")>-1?f=a[c][1]:f=a[c].value);var h=e.formatter?e.formatter(f,c,e,n):f;i.setTextAlign("center");var d=l.y-4*n.pix+o*n.pix;l.y>e.zeroPoints&&(d=l.y+o*n.pix+u),s=="insideTop"&&(d=l.y+u+o*n.pix,l.y>e.zeroPoints&&(d=l.y-o*n.pix-4*n.pix)),s=="center"&&(d=l.y+o*n.pix+(n.height-n.area[2]-l.y+u)/2,e.zeroPoints<n.height-n.area[2]&&(d=l.y+o*n.pix+(e.zeroPoints-l.y+u)/2),l.y>e.zeroPoints&&(d=l.y-o*n.pix-(l.y-e.zeroPoints-u)/2),n.extra.column.type=="stack"&&(d=l.y+o*n.pix+(l.y0-l.y+u)/2)),s=="bottom"&&(d=n.height-n.area[2]+o*n.pix-4*n.pix,e.zeroPoints<n.height-n.area[2]&&(d=e.zeroPoints+o*n.pix-4*n.pix),l.y>e.zeroPoints&&(d=e.zeroPoints-o*n.pix+u+2*n.pix),n.extra.column.type=="stack"&&(d=l.y0+o*n.pix-4*n.pix)),i.fillText(String(h),l.x,d),i.closePath(),i.stroke(),i.setTextAlign("left")}})}function Xy(t,e,r,i,n,a){e.data;var o=e.textOffset?e.textOffset:0;n.extra.mount.labelPosition,t.forEach(function(s,l){if(s!==null){i.beginPath();var c=e[l].textSize?e[l].textSize*n.pix:r.fontSize;i.setFontSize(c),i.setFillStyle(e[l].textColor||n.fontColor);var u=s.value,f=e[l].formatter?e[l].formatter(u,l,e,n):u;i.setTextAlign("center");var h=s.y-4*n.pix+o*n.pix;s.y>a&&(h=s.y+o*n.pix+c),i.fillText(String(f),s.x,h),i.closePath(),i.stroke(),i.setTextAlign("left")}})}function Do(t,e,r,i,n){var a=e.data;e.textOffset&&e.textOffset,t.forEach(function(o,s){if(o!==null){i.beginPath();var l=e.textSize?e.textSize*n.pix:r.fontSize;i.setFontSize(l),i.setFillStyle(e.textColor||n.fontColor);var c=a[s];typeof a[s]=="object"&&a[s]!==null&&(c=a[s].value);var u=e.formatter?e.formatter(c,s,e,n):c;i.setTextAlign("left"),i.fillText(String(u),o.x+4*n.pix,o.y+l/2-3),i.closePath(),i.stroke()}})}function Yy(t,e,r,i,n,a){e-=t.width/2+t.labelOffset*i.pix,e=e<10?10:e;let o;t.endAngle<t.startAngle?o=2+t.endAngle-t.startAngle:o=t.startAngle-t.endAngle;let s=o/t.splitLine.splitNumber,c=(t.endNumber-t.startNumber)/t.splitLine.splitNumber,u=t.startAngle,f=t.startNumber;for(let g=0;g<t.splitLine.splitNumber+1;g++){var h={x:e*Math.cos(u*Math.PI),y:e*Math.sin(u*Math.PI)},d=t.formatter?t.formatter(f,g,i):f;h.x+=r.x-X(d,n.fontSize,a)/2,h.y+=r.y;var m=h.x,p=h.y;a.beginPath(),a.setFontSize(n.fontSize),a.setFillStyle(t.labelColor||i.fontColor),a.fillText(d,m,p+n.fontSize/2),a.closePath(),a.stroke(),u+=s,u>=2&&(u=u%2),f+=c}}function Qy(t,e,r,i,n,a){var o=i.extra.radar||{};t.forEach(function(s,l){if(o.labelPointShow===!0&&i.categories[l]!==""){var c={x:e*Math.cos(s),y:e*Math.sin(s)},u=We(c.x,c.y,r);a.setFillStyle(o.labelPointColor),a.beginPath(),a.arc(u.x,u.y,o.labelPointRadius*i.pix,0,2*Math.PI,!1),a.closePath(),a.fill()}if(o.labelShow===!0){var f={x:(e+n.radarLabelTextMargin*i.pix)*Math.cos(s),y:(e+n.radarLabelTextMargin*i.pix)*Math.sin(s)},h=We(f.x,f.y,r),d=h.x,m=h.y;ze.approximatelyEqual(f.x,0)?d-=X(i.categories[l]||"",n.fontSize,a)/2:f.x<0&&(d-=X(i.categories[l]||"",n.fontSize,a)),a.beginPath(),a.setFontSize(n.fontSize),a.setFillStyle(o.labelColor||i.fontColor),a.fillText(i.categories[l]||"",d,m+n.fontSize/2),a.closePath(),a.stroke()}})}function Oc(t,e,r,i,n,a){var o=r.pieChartLinePadding,s=[],l=null,c=t.map(function(u,f){var h=u.formatter?u.formatter(u,f,t,e):ze.toFixed(u._proportion_.toFixed(4)*100)+"%";h=u.labelText?u.labelText:h;var d=2*Math.PI-(u._start_+2*Math.PI*u._proportion_/2);u._rose_proportion_&&(d=2*Math.PI-(u._start_+2*Math.PI*u._rose_proportion_/2));var m=u.color,p=u._radius_;return{arc:d,text:h,color:m,radius:p,textColor:u.textColor,textSize:u.textSize,labelShow:u.labelShow}});for(let u=0;u<c.length;u++){let f=c[u],h=Math.cos(f.arc)*(f.radius+o),d=Math.sin(f.arc)*(f.radius+o),m=Math.cos(f.arc)*f.radius,p=Math.sin(f.arc)*f.radius,g=h>=0?h+r.pieChartTextPadding:h-r.pieChartTextPadding,v=d,y=X(f.text,f.textSize*e.pix||r.fontSize,i),x=v;l&&ze.isSameXCoordinateArea(l.start,{x:g})&&(g>0?x=Math.min(v,l.start.y):h<0||v>0?x=Math.max(v,l.start.y):x=Math.min(v,l.start.y)),g<0&&(g-=y);let b={lineStart:{x:m,y:p},lineEnd:{x:h,y:d},start:{x:g,y:x},width:y,height:r.fontSize,text:f.text,color:f.color,textColor:f.textColor,textSize:f.textSize};l=py(b,l),s.push(l)}for(let u=0;u<s.length;u++){if(c[u].labelShow===!1)continue;let f=s[u],h=We(f.lineStart.x,f.lineStart.y,a),d=We(f.lineEnd.x,f.lineEnd.y,a),m=We(f.start.x,f.start.y,a);i.setLineWidth(1*e.pix),i.setFontSize(f.textSize*e.pix||r.fontSize),i.beginPath(),i.setStrokeStyle(f.color),i.setFillStyle(f.color),i.moveTo(h.x,h.y);let p=f.start.x<0?m.x+f.width:m.x,g=f.start.x<0?m.x-5:m.x+5;i.quadraticCurveTo(d.x,d.y,p,m.y),i.moveTo(h.x,h.y),i.stroke(),i.closePath(),i.beginPath(),i.moveTo(m.x+f.width,m.y),i.arc(p,m.y,2*e.pix,0,2*Math.PI),i.closePath(),i.fill(),i.beginPath(),i.setFontSize(f.textSize*e.pix||r.fontSize),i.setFillStyle(f.textColor||e.fontColor),i.fillText(f.text,g,m.y+3),i.closePath(),i.stroke(),i.closePath()}}function Zy(t,e,r,i){var n=e.extra.tooltip||{};n.gridType=n.gridType==null?"solid":n.gridType,n.dashLength=n.dashLength==null?4:n.dashLength;var a=e.area[0],o=e.height-e.area[2];if(n.gridType=="dash"&&i.setLineDash([n.dashLength,n.dashLength]),i.setStrokeStyle(n.gridColor||"#cccccc"),i.setLineWidth(1*e.pix),i.beginPath(),i.moveTo(t,a),i.lineTo(t,o),i.stroke(),i.setLineDash([]),n.xAxisLabel){let s=e.categories[e.tooltip.index];i.setFontSize(r.fontSize);let l=X(s,r.fontSize,i),c=t-.5*l,u=o+2*e.pix;i.beginPath(),i.setFillStyle(O(n.labelBgColor||r.toolTipBackground,n.labelBgOpacity||r.toolTipOpacity)),i.setStrokeStyle(n.labelBgColor||r.toolTipBackground),i.setLineWidth(1*e.pix),i.rect(c-n.boxPadding*e.pix,u,l+2*n.boxPadding*e.pix,r.fontSize+2*n.boxPadding*e.pix),i.closePath(),i.stroke(),i.fill(),i.beginPath(),i.setFontSize(r.fontSize),i.setFillStyle(n.labelFontColor||e.fontColor),i.fillText(String(s),c,u+n.boxPadding*e.pix+r.fontSize),i.closePath(),i.stroke()}}function Re(t,e,r){let i=W({},{type:"solid",dashLength:4,data:[]},t.extra.markLine),n=t.area[3],a=t.width-t.area[1],o=Jy(i.data,t);for(let s=0;s<o.length;s++){let l=W({},{lineColor:"#DE4A42",showLabel:!1,labelFontSize:13,labelPadding:6,labelFontColor:"#666666",labelBgColor:"#DFE8FF",labelBgOpacity:.8,labelAlign:"left",labelOffsetX:0,labelOffsetY:0},o[s]);if(i.type=="dash"&&r.setLineDash([i.dashLength,i.dashLength]),r.setStrokeStyle(l.lineColor),r.setLineWidth(1*t.pix),r.beginPath(),r.moveTo(n,l.y),r.lineTo(a,l.y),r.stroke(),r.setLineDash([]),l.showLabel){let c=l.labelFontSize*t.pix,u=l.labelText?l.labelText:l.value;r.setFontSize(c);let h=X(u,c,r)+l.labelPadding*t.pix*2,d=l.labelAlign=="left"?t.area[3]-h:t.width-t.area[1];d+=l.labelOffsetX;let m=l.y-.5*c-l.labelPadding*t.pix;m+=l.labelOffsetY;let p=d+l.labelPadding*t.pix;l.y,r.setFillStyle(O(l.labelBgColor,l.labelBgOpacity)),r.setStrokeStyle(l.labelBgColor),r.setLineWidth(1*t.pix),r.beginPath(),r.rect(d,m,h,c+2*l.labelPadding*t.pix),r.closePath(),r.stroke(),r.fill(),r.setFontSize(c),r.setTextAlign("left"),r.setFillStyle(l.labelFontColor),r.fillText(String(u),p,m+c+l.labelPadding*t.pix/2),r.stroke(),r.setTextAlign("left")}}}function ev(t,e,r,i,n){var a=W({},{gridType:"solid",dashLength:4},t.extra.tooltip),o=t.area[3],s=t.width-t.area[1];if(a.gridType=="dash"&&r.setLineDash([a.dashLength,a.dashLength]),r.setStrokeStyle(a.gridColor||"#cccccc"),r.setLineWidth(1*t.pix),r.beginPath(),r.moveTo(o,t.tooltip.offset.y),r.lineTo(s,t.tooltip.offset.y),r.stroke(),r.setLineDash([]),a.yAxisLabel){let l=a.boxPadding*t.pix,c=Gy(t.tooltip.offset.y,t.series,t),u=t.chartData.yAxisData.yAxisWidth,f=t.area[3],h=t.width-t.area[1];for(let d=0;d<c.length;d++){r.setFontSize(a.fontSize*t.pix);let m=X(c[d],a.fontSize*t.pix,r),p,g,v;u[d].position=="left"?(p=f-(m+l*2)-2*t.pix,g=Math.max(p,p+m+l*2)):(p=h+2*t.pix,g=Math.max(p+u[d].width,p+m+l*2)),v=g-p;let y=p+(v-m)/2,x=t.tooltip.offset.y;r.beginPath(),r.setFillStyle(O(a.labelBgColor||e.toolTipBackground,a.labelBgOpacity||e.toolTipOpacity)),r.setStrokeStyle(a.labelBgColor||e.toolTipBackground),r.setLineWidth(1*t.pix),r.rect(p,x-.5*e.fontSize-l,v,e.fontSize+2*l),r.closePath(),r.stroke(),r.fill(),r.beginPath(),r.setFontSize(e.fontSize),r.setFillStyle(a.labelFontColor||t.fontColor),r.fillText(c[d],y,x+.5*e.fontSize),r.closePath(),r.stroke(),u[d].position=="left"?f-=u[d].width+t.yAxis.padding*t.pix:h+=u[d].width+t.yAxis.padding*t.pix}}}function tv(t,e,r,i,n){var a=W({},{activeBgColor:"#000000",activeBgOpacity:.08,activeWidth:n},e.extra.column);a.activeWidth=a.activeWidth>n?n:a.activeWidth;var o=e.area[0],s=e.height-e.area[2];i.beginPath(),i.setFillStyle(O(a.activeBgColor,a.activeBgOpacity)),i.rect(t-a.activeWidth/2,o,a.activeWidth,s-o),i.closePath(),i.fill(),i.setFillStyle("#FFFFFF")}function iv(t,e,r,i,n){var a=W({},{activeBgColor:"#000000",activeBgOpacity:.08},e.extra.bar),o=e.area[3],s=e.width-e.area[1];i.beginPath(),i.setFillStyle(O(a.activeBgColor,a.activeBgOpacity)),i.rect(o,t-n/2,s-o,n),i.closePath(),i.fill(),i.setFillStyle("#FFFFFF")}function rv(t,e,r,i,n,a,o){var s=W({},{showBox:!0,showArrow:!0,showCategory:!1,bgColor:"#000000",bgOpacity:.7,borderColor:"#000000",borderWidth:0,borderRadius:0,borderOpacity:.7,boxPadding:3,fontColor:"#FFFFFF",fontSize:13,lineHeight:20,legendShow:!0,legendShape:"auto",splitLine:!0},r.extra.tooltip);s.showCategory==!0&&r.categories&&t.unshift({text:r.categories[r.tooltip.index],color:null});var l=s.fontSize*r.pix,c=s.lineHeight*r.pix,u=s.boxPadding*r.pix,f=l,h=5*r.pix;s.legendShow==!1&&(f=0,h=0);var d=s.showArrow?8*r.pix:0,m=!1;(r.type=="line"||r.type=="mount"||r.type=="area"||r.type=="candle"||r.type=="mix")&&s.splitLine==!0&&Zy(r.tooltip.offset.x,r,i,n),e=W({x:0,y:0},e),e.y-=8*r.pix;var p=t.map(function(x){return X(x.text,l,n)}),g=f+h+4*u+Math.max.apply(null,p),v=2*u+t.length*c;if(s.showBox!=!1){e.x-Math.abs(r._scrollDistance_||0)+d+g>r.width&&(m=!0),v+e.y>r.height&&(e.y=r.height-v),n.beginPath(),n.setFillStyle(O(s.bgColor,s.bgOpacity)),n.setLineWidth(s.borderWidth*r.pix),n.setStrokeStyle(O(s.borderColor,s.borderOpacity));var y=s.borderRadius;m?(g+d>r.width&&(e.x=r.width+Math.abs(r._scrollDistance_||0)+d+(g-r.width)),g>e.x&&(e.x=r.width+Math.abs(r._scrollDistance_||0)+d+(g-r.width)),s.showArrow&&(n.moveTo(e.x,e.y+10*r.pix),n.lineTo(e.x-d,e.y+10*r.pix+5*r.pix)),n.arc(e.x-d-y,e.y+v-y,y,0,Math.PI/2,!1),n.arc(e.x-d-Math.round(g)+y,e.y+v-y,y,Math.PI/2,Math.PI,!1),n.arc(e.x-d-Math.round(g)+y,e.y+y,y,-Math.PI,-Math.PI/2,!1),n.arc(e.x-d-y,e.y+y,y,-Math.PI/2,0,!1),s.showArrow&&(n.lineTo(e.x-d,e.y+10*r.pix-5*r.pix),n.lineTo(e.x,e.y+10*r.pix))):(s.showArrow&&(n.moveTo(e.x,e.y+10*r.pix),n.lineTo(e.x+d,e.y+10*r.pix-5*r.pix)),n.arc(e.x+d+y,e.y+y,y,-Math.PI,-Math.PI/2,!1),n.arc(e.x+d+Math.round(g)-y,e.y+y,y,-Math.PI/2,0,!1),n.arc(e.x+d+Math.round(g)-y,e.y+v-y,y,0,Math.PI/2,!1),n.arc(e.x+d+y,e.y+v-y,y,Math.PI/2,Math.PI,!1),s.showArrow&&(n.lineTo(e.x+d,e.y+10*r.pix+5*r.pix),n.lineTo(e.x,e.y+10*r.pix))),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke(),s.legendShow&&t.forEach(function(x,b){if(x.color!==null){n.beginPath(),n.setFillStyle(x.color);var P=e.x+d+2*u,_=e.y+(c-l)/2+c*b+u+1;switch(m&&(P=e.x-g-d+2*u),x.legendShape){case"line":n.moveTo(P,_+.5*f-2*r.pix),n.fillRect(P,_+.5*f-2*r.pix,f,4*r.pix);break;case"triangle":n.moveTo(P+7.5*r.pix,_+.5*f-5*r.pix),n.lineTo(P+2.5*r.pix,_+.5*f+5*r.pix),n.lineTo(P+12.5*r.pix,_+.5*f+5*r.pix),n.lineTo(P+7.5*r.pix,_+.5*f-5*r.pix);break;case"diamond":n.moveTo(P+7.5*r.pix,_+.5*f-5*r.pix),n.lineTo(P+2.5*r.pix,_+.5*f),n.lineTo(P+7.5*r.pix,_+.5*f+5*r.pix),n.lineTo(P+12.5*r.pix,_+.5*f),n.lineTo(P+7.5*r.pix,_+.5*f-5*r.pix);break;case"circle":n.moveTo(P+7.5*r.pix,_+.5*f),n.arc(P+7.5*r.pix,_+.5*f,5*r.pix,0,2*Math.PI);break;case"rect":n.moveTo(P,_+.5*f-5*r.pix),n.fillRect(P,_+.5*f-5*r.pix,15*r.pix,10*r.pix);break;case"square":n.moveTo(P+2*r.pix,_+.5*f-5*r.pix),n.fillRect(P+2*r.pix,_+.5*f-5*r.pix,10*r.pix,10*r.pix);break;default:n.moveTo(P,_+.5*f-5*r.pix),n.fillRect(P,_+.5*f-5*r.pix,15*r.pix,10*r.pix)}n.closePath(),n.fill()}}),t.forEach(function(x,b){var P=e.x+d+2*u+f+h;m&&(P=e.x-g-d+2*u+f+h);var _=e.y+c*b+(c-l)/2-1+u+l;n.beginPath(),n.setFontSize(l),n.setTextBaseline("normal"),n.setFillStyle(s.fontColor),n.fillText(x.text,P,_),n.closePath(),n.stroke()})}}function nv(t,e,r,i){let n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=e.chartData.xAxisData,o=a.xAxisPoints,s=a.eachSpacing,l=W({},{type:"group",width:s/2,meterBorder:4,meterFillColor:"#FFFFFF",barBorderCircle:!1,barBorderRadius:[],seriesGap:2,linearType:"none",linearOpacity:1,customColor:[],colorStop:0,labelPosition:"outside"},e.extra.column),c=[];i.save();let u=-2,f=o.length+2;return e._scrollDistance_&&e._scrollDistance_!==0&&e.enableScroll===!0&&(i.translate(e._scrollDistance_,0),u=Math.floor(-e._scrollDistance_/s)-2,f=u+e.xAxis.itemCount+4),e.tooltip&&e.tooltip.textList&&e.tooltip.textList.length&&n===1&&tv(e.tooltip.offset.x,e,r,i,s),l.customColor=Ve(l.linearType,l.customColor,t,r),t.forEach(function(h,d){let m,p,g;m=[].concat(e.chartData.yAxisData.ranges[h.index]),p=m.pop(),g=m.shift();let y=(e.height-e.area[0]-e.area[2])*(0-p)/(g-p),x=e.height-Math.round(y)-e.area[2];h.zeroPoints=x;var b=h.data;switch(l.type){case"group":var M=Io(b,p,g,o,s,e,r,x,n),P=Nr(b,p,g,o,s,e,r,d,t,n);c.push(P),M=or(M,s,t.length,d,r,e);for(let j=0;j<M.length;j++){let R=M[j];if(R!==null&&j>u&&j<f){var _=R.x-R.width/2,S=e.height-R.y-e.area[2];i.beginPath();var w=R.color||h.color,T=R.color||h.color;if(l.linearType!=="none"){var E=i.createLinearGradient(_,R.y,_,x);l.linearType=="opacity"?(E.addColorStop(0,O(w,l.linearOpacity)),E.addColorStop(1,O(w,1))):(E.addColorStop(0,O(l.customColor[h.linearIndex],l.linearOpacity)),E.addColorStop(l.colorStop,O(l.customColor[h.linearIndex],l.linearOpacity)),E.addColorStop(1,O(w,1))),w=E}if(l.barBorderRadius&&l.barBorderRadius.length===4||l.barBorderCircle===!0){const V=_,q=R.y>x?x:R.y,D=R.width,$=Math.abs(x-R.y);l.barBorderCircle&&(l.barBorderRadius=[D/2,D/2,0,0]),R.y>x&&(l.barBorderRadius=[0,0,D/2,D/2]);let[z,K,C,A]=l.barBorderRadius,I=Math.min(D/2,$/2);z=z>I?I:z,K=K>I?I:K,C=C>I?I:C,A=A>I?I:A,z=z<0?0:z,K=K<0?0:K,C=C<0?0:C,A=A<0?0:A,i.arc(V+z,q+z,z,-Math.PI,-Math.PI/2),i.arc(V+D-K,q+K,K,-Math.PI/2,0),i.arc(V+D-C,q+$-C,C,0,Math.PI/2),i.arc(V+A,q+$-A,A,Math.PI/2,Math.PI)}else i.moveTo(_,R.y),i.lineTo(_+R.width,R.y),i.lineTo(_+R.width,x),i.lineTo(_,x),i.lineTo(_,R.y),i.setLineWidth(1),i.setStrokeStyle(T);i.setFillStyle(w),i.closePath(),i.fill()}}break;case"stack":var M=Nr(b,p,g,o,s,e,r,d,t,n);c.push(M),M=zy(M,s,t.length,d,r,e);for(let j=0;j<M.length;j++){let R=M[j];if(R!==null&&j>u&&j<f){i.beginPath();var w=R.color||h.color,_=R.x-R.width/2+1,S=e.height-R.y-e.area[2],L=e.height-R.y0-e.area[2];d>0&&(S-=L),i.setFillStyle(w),i.moveTo(_,R.y),i.fillRect(_,R.y,R.width,S),i.closePath(),i.fill()}}break;case"meter":var M=Te(b,p,g,o,s,e,r,n);c.push(M),M=jy(M,s,t.length,d,r,e,l.meterBorder);for(let j=0;j<M.length;j++){let R=M[j];if(R!==null&&j>u&&j<f){i.beginPath(),d==0&&l.meterBorder>0&&(i.setStrokeStyle(h.color),i.setLineWidth(l.meterBorder*e.pix)),d==0?i.setFillStyle(l.meterFillColor):i.setFillStyle(R.color||h.color);var _=R.x-R.width/2,S=e.height-R.y-e.area[2];if(l.barBorderRadius&&l.barBorderRadius.length===4||l.barBorderCircle===!0){const D=_,$=R.y,z=R.width,K=x-R.y;l.barBorderCircle&&(l.barBorderRadius=[z/2,z/2,0,0]);let[C,A,I,k]=l.barBorderRadius,re=Math.min(z/2,K/2);C=C>re?re:C,A=A>re?re:A,I=I>re?re:I,k=k>re?re:k,C=C<0?0:C,A=A<0?0:A,I=I<0?0:I,k=k<0?0:k,i.arc(D+C,$+C,C,-Math.PI,-Math.PI/2),i.arc(D+z-A,$+A,A,-Math.PI/2,0),i.arc(D+z-I,$+K-I,I,0,Math.PI/2),i.arc(D+k,$+K-k,k,Math.PI/2,Math.PI),i.fill()}else i.moveTo(_,R.y),i.lineTo(_+R.width,R.y),i.lineTo(_+R.width,x),i.lineTo(_,x),i.lineTo(_,R.y),i.fill();d==0&&l.meterBorder>0&&(i.closePath(),i.stroke())}}break}}),e.dataLabel!==!1&&n===1&&t.forEach(function(h,d){let m,p,g;m=[].concat(e.chartData.yAxisData.ranges[h.index]),p=m.pop(),g=m.shift();var v=h.data;switch(l.type){case"group":var y=Io(v,p,g,o,s,e,r,n);y=or(y,s,t.length,d,r,e),Ur(y,h,r,i,e);break;case"stack":var y=Nr(v,p,g,o,s,e,r,d,t,n);Ur(y,h,r,i,e);break;case"meter":var y=Te(v,p,g,o,s,e,r,n);Ur(y,h,r,i,e);break}}),i.restore(),{xAxisPoints:o,calPoints:c,eachSpacing:s}}function av(t,e,r,i){let n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=e.chartData.xAxisData,o=a.xAxisPoints,s=a.eachSpacing,l=W({},{type:"mount",widthRatio:1,borderWidth:1,barBorderCircle:!1,barBorderRadius:[],linearType:"none",linearOpacity:1,customColor:[],colorStop:0},e.extra.mount);l.widthRatio=l.widthRatio<=0?0:l.widthRatio,l.widthRatio=l.widthRatio>=2?2:l.widthRatio,i.save();let c=-2,u=o.length+2;e._scrollDistance_&&e._scrollDistance_!==0&&e.enableScroll===!0&&(i.translate(e._scrollDistance_,0),c=Math.floor(-e._scrollDistance_/s)-2,u=c+e.xAxis.itemCount+4),l.customColor=Ve(l.linearType,l.customColor,t,r);let f,h,d;f=[].concat(e.chartData.yAxisData.ranges[0]),h=f.pop(),d=f.shift();let p=(e.height-e.area[0]-e.area[2])*(0-h)/(d-h),g=e.height-Math.round(p)-e.area[2];var v=ko(t,h,d,o,s,e,l,g,n);switch(l.type){case"bar":for(let S=0;S<v.length;S++){let w=v[S];if(w!==null&&S>c&&S<u){var y=w.x-s*l.widthRatio/2,x=e.height-w.y-e.area[2];i.beginPath();var b=w.color||t[S].color,P=w.color||t[S].color;if(l.linearType!=="none"){var _=i.createLinearGradient(y,w.y,y,g);l.linearType=="opacity"?(_.addColorStop(0,O(b,l.linearOpacity)),_.addColorStop(1,O(b,1))):(_.addColorStop(0,O(l.customColor[t[S].linearIndex],l.linearOpacity)),_.addColorStop(l.colorStop,O(l.customColor[t[S].linearIndex],l.linearOpacity)),_.addColorStop(1,O(b,1))),b=_}if(l.barBorderRadius&&l.barBorderRadius.length===4||l.barBorderCircle===!0){const T=y,E=w.y>g?g:w.y,L=w.width,M=Math.abs(g-w.y);l.barBorderCircle&&(l.barBorderRadius=[L/2,L/2,0,0]),w.y>g&&(l.barBorderRadius=[0,0,L/2,L/2]);let[j,R,V,q]=l.barBorderRadius,D=Math.min(L/2,M/2);j=j>D?D:j,R=R>D?D:R,V=V>D?D:V,q=q>D?D:q,j=j<0?0:j,R=R<0?0:R,V=V<0?0:V,q=q<0?0:q,i.arc(T+j,E+j,j,-Math.PI,-Math.PI/2),i.arc(T+L-R,E+R,R,-Math.PI/2,0),i.arc(T+L-V,E+M-V,V,0,Math.PI/2),i.arc(T+q,E+M-q,q,Math.PI/2,Math.PI)}else i.moveTo(y,w.y),i.lineTo(y+w.width,w.y),i.lineTo(y+w.width,g),i.lineTo(y,g),i.lineTo(y,w.y);i.setStrokeStyle(P),i.setFillStyle(b),l.borderWidth>0&&(i.setLineWidth(l.borderWidth*e.pix),i.closePath(),i.stroke()),i.fill()}}break;case"triangle":for(let S=0;S<v.length;S++){let w=v[S];if(w!==null&&S>c&&S<u){var y=w.x-s*l.widthRatio/2,x=e.height-w.y-e.area[2];i.beginPath();var b=w.color||t[S].color,P=w.color||t[S].color;if(l.linearType!=="none"){var _=i.createLinearGradient(y,w.y,y,g);l.linearType=="opacity"?(_.addColorStop(0,O(b,l.linearOpacity)),_.addColorStop(1,O(b,1))):(_.addColorStop(0,O(l.customColor[t[S].linearIndex],l.linearOpacity)),_.addColorStop(l.colorStop,O(l.customColor[t[S].linearIndex],l.linearOpacity)),_.addColorStop(1,O(b,1))),b=_}i.moveTo(y,g),i.lineTo(w.x,w.y),i.lineTo(y+w.width,g),i.setStrokeStyle(P),i.setFillStyle(b),l.borderWidth>0&&(i.setLineWidth(l.borderWidth*e.pix),i.stroke()),i.fill()}}break;case"mount":for(let S=0;S<v.length;S++){let w=v[S];if(w!==null&&S>c&&S<u){var y=w.x-s*l.widthRatio/2,x=e.height-w.y-e.area[2];i.beginPath();var b=w.color||t[S].color,P=w.color||t[S].color;if(l.linearType!=="none"){var _=i.createLinearGradient(y,w.y,y,g);l.linearType=="opacity"?(_.addColorStop(0,O(b,l.linearOpacity)),_.addColorStop(1,O(b,1))):(_.addColorStop(0,O(l.customColor[t[S].linearIndex],l.linearOpacity)),_.addColorStop(l.colorStop,O(l.customColor[t[S].linearIndex],l.linearOpacity)),_.addColorStop(1,O(b,1))),b=_}i.moveTo(y,g),i.bezierCurveTo(w.x-w.width/4,g,w.x-w.width/4,w.y,w.x,w.y),i.bezierCurveTo(w.x+w.width/4,w.y,w.x+w.width/4,g,y+w.width,g),i.setStrokeStyle(P),i.setFillStyle(b),l.borderWidth>0&&(i.setLineWidth(l.borderWidth*e.pix),i.stroke()),i.fill()}}break;case"sharp":for(let S=0;S<v.length;S++){let w=v[S];if(w!==null&&S>c&&S<u){var y=w.x-s*l.widthRatio/2,x=e.height-w.y-e.area[2];i.beginPath();var b=w.color||t[S].color,P=w.color||t[S].color;if(l.linearType!=="none"){var _=i.createLinearGradient(y,w.y,y,g);l.linearType=="opacity"?(_.addColorStop(0,O(b,l.linearOpacity)),_.addColorStop(1,O(b,1))):(_.addColorStop(0,O(l.customColor[t[S].linearIndex],l.linearOpacity)),_.addColorStop(l.colorStop,O(l.customColor[t[S].linearIndex],l.linearOpacity)),_.addColorStop(1,O(b,1))),b=_}i.moveTo(y,g),i.quadraticCurveTo(w.x-0,g-x/4,w.x,w.y),i.quadraticCurveTo(w.x+0,g-x/4,y+w.width,g),i.setStrokeStyle(P),i.setFillStyle(b),l.borderWidth>0&&(i.setLineWidth(l.borderWidth*e.pix),i.stroke()),i.fill()}}break}if(e.dataLabel!==!1&&n===1){let S,w,T;S=[].concat(e.chartData.yAxisData.ranges[0]),w=S.pop(),T=S.shift();var v=ko(t,w,T,o,s,e,l,g,n);Xy(v,t,r,i,e,g)}return i.restore(),{xAxisPoints:o,calPoints:v,eachSpacing:s}}function ov(t,e,r,i){let n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=[],o=(e.height-e.area[0]-e.area[2])/e.categories.length;for(let f=0;f<e.categories.length;f++)a.push(e.area[0]+o/2+o*f);let s=W({},{type:"group",width:o/2,meterBorder:4,meterFillColor:"#FFFFFF",barBorderCircle:!1,barBorderRadius:[],seriesGap:2,linearType:"none",linearOpacity:1,customColor:[],colorStop:0},e.extra.bar),l=[];i.save();let c=-2,u=a.length+2;return e.tooltip&&e.tooltip.textList&&e.tooltip.textList.length&&n===1&&iv(e.tooltip.offset.y,e,r,i,o),s.customColor=Ve(s.linearType,s.customColor,t,r),t.forEach(function(f,h){let d,m,p;d=[].concat(e.chartData.xAxisData.ranges),p=d.pop(),m=d.shift();var g=f.data;switch(s.type){case"group":var S=Lo(g,m,p,a,o,e,r,n),v=Br(g,m,p,a,o,e,r,h,t,n);l.push(v),S=Co(S,o,t.length,h,r,e);for(let w=0;w<S.length;w++){let T=S[w];if(T!==null&&w>c&&w<u){var y=e.area[3],x=T.y-T.width/2;T.height,i.beginPath();var b=T.color||f.color,P=T.color||f.color;if(s.linearType!=="none"){var _=i.createLinearGradient(y,T.y,T.x,T.y);s.linearType=="opacity"?(_.addColorStop(0,O(b,s.linearOpacity)),_.addColorStop(1,O(b,1))):(_.addColorStop(0,O(s.customColor[f.linearIndex],s.linearOpacity)),_.addColorStop(s.colorStop,O(s.customColor[f.linearIndex],s.linearOpacity)),_.addColorStop(1,O(b,1))),b=_}if(s.barBorderRadius&&s.barBorderRadius.length===4||s.barBorderCircle===!0){const E=y,L=T.width,M=T.y-T.width/2,j=T.height;s.barBorderCircle&&(s.barBorderRadius=[L/2,L/2,0,0]);let[R,V,q,D]=s.barBorderRadius,$=Math.min(L/2,j/2);R=R>$?$:R,V=V>$?$:V,q=q>$?$:q,D=D>$?$:D,R=R<0?0:R,V=V<0?0:V,q=q<0?0:q,D=D<0?0:D,i.arc(E+D,M+D,D,-Math.PI,-Math.PI/2),i.arc(T.x-R,M+R,R,-Math.PI/2,0),i.arc(T.x-V,M+L-V,V,0,Math.PI/2),i.arc(E+q,M+L-q,q,Math.PI/2,Math.PI)}else i.moveTo(y,x),i.lineTo(T.x,x),i.lineTo(T.x,x+T.width),i.lineTo(y,x+T.width),i.lineTo(y,x),i.setLineWidth(1),i.setStrokeStyle(P);i.setFillStyle(b),i.closePath(),i.fill()}}break;case"stack":var S=Br(g,m,p,a,o,e,r,h,t,n);l.push(S),S=qy(S,o,t.length,h,r,e);for(let w=0;w<S.length;w++){let T=S[w];if(T!==null&&w>c&&w<u){i.beginPath();var b=T.color||f.color,y=T.x0;i.setFillStyle(b),i.moveTo(y,T.y-T.width/2),i.fillRect(y,T.y-T.width/2,T.height,T.width),i.closePath(),i.fill()}}break}}),e.dataLabel!==!1&&n===1&&t.forEach(function(f,h){let d,m,p;d=[].concat(e.chartData.xAxisData.ranges),p=d.pop(),m=d.shift();var g=f.data;switch(s.type){case"group":var v=Lo(g,m,p,a,o,e,r,n);v=Co(v,o,t.length,h,r,e),Do(v,f,r,i,e);break;case"stack":var v=Br(g,m,p,a,o,e,r,h,t,n);Do(v,f,r,i,e);break}}),{yAxisPoints:a,calPoints:l,eachSpacing:o}}function sv(t,e,r,i,n){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1,o=W({},{color:{},average:{}},r.extra.candle);o.color=W({},{upLine:"#f04864",upFill:"#f04864",downLine:"#2fc25b",downFill:"#2fc25b"},o.color),o.average=W({},{show:!1,name:[],day:[],color:i.color},o.average),r.extra.candle=o;let s=r.chartData.xAxisData,l=s.xAxisPoints,c=s.eachSpacing,u=[];n.save();let f=-2,h=l.length+2,d=0,m=r.width+c;return r._scrollDistance_&&r._scrollDistance_!==0&&r.enableScroll===!0&&(n.translate(r._scrollDistance_,0),f=Math.floor(-r._scrollDistance_/c)-2,h=f+r.xAxis.itemCount+4,d=-r._scrollDistance_-c*2+r.area[3],m=d+(r.xAxis.itemCount+4)*c),(o.average.show||e)&&e.forEach(function(p,g){let v,y,x;v=[].concat(r.chartData.yAxisData.ranges[p.index]),y=v.pop(),x=v.shift();var b=p.data,P=Te(b,y,x,l,c,r,i,a),_=jt(P,p);for(let w=0;w<_.length;w++){let T=_[w];if(n.beginPath(),n.setStrokeStyle(p.color),n.setLineWidth(1),T.length===1)n.moveTo(T[0].x,T[0].y),n.arc(T[0].x,T[0].y,1,0,2*Math.PI);else{n.moveTo(T[0].x,T[0].y);let E=0;for(let L=0;L<T.length;L++){let M=T[L];if(E==0&&M.x>d&&(n.moveTo(M.x,M.y),E=1),L>0&&M.x>d&&M.x<m){var S=Wt(T,L-1);n.bezierCurveTo(S.ctrA.x,S.ctrA.y,S.ctrB.x,S.ctrB.y,M.x,M.y)}}n.moveTo(T[0].x,T[0].y)}n.closePath(),n.stroke()}}),t.forEach(function(p,g){let v,y,x;v=[].concat(r.chartData.yAxisData.ranges[p.index]),y=v.pop(),x=v.shift();var b=p.data,P=Vy(b,y,x,l,c,r,i,a);u.push(P);var _=jt(P,p);for(let S=0;S<_[0].length;S++)if(S>f&&S<h){let w=_[0][S];n.beginPath(),b[S][1]-b[S][0]>0?(n.setStrokeStyle(o.color.upLine),n.setFillStyle(o.color.upFill),n.setLineWidth(1*r.pix),n.moveTo(w[3].x,w[3].y),n.lineTo(w[1].x,w[1].y),n.lineTo(w[1].x-c/4,w[1].y),n.lineTo(w[0].x-c/4,w[0].y),n.lineTo(w[0].x,w[0].y),n.lineTo(w[2].x,w[2].y),n.lineTo(w[0].x,w[0].y),n.lineTo(w[0].x+c/4,w[0].y),n.lineTo(w[1].x+c/4,w[1].y),n.lineTo(w[1].x,w[1].y),n.moveTo(w[3].x,w[3].y)):(n.setStrokeStyle(o.color.downLine),n.setFillStyle(o.color.downFill),n.setLineWidth(1*r.pix),n.moveTo(w[3].x,w[3].y),n.lineTo(w[0].x,w[0].y),n.lineTo(w[0].x-c/4,w[0].y),n.lineTo(w[1].x-c/4,w[1].y),n.lineTo(w[1].x,w[1].y),n.lineTo(w[2].x,w[2].y),n.lineTo(w[1].x,w[1].y),n.lineTo(w[1].x+c/4,w[1].y),n.lineTo(w[0].x+c/4,w[0].y),n.lineTo(w[0].x,w[0].y),n.moveTo(w[3].x,w[3].y)),n.closePath(),n.fill(),n.stroke()}}),n.restore(),{xAxisPoints:l,calPoints:u,eachSpacing:c}}function lv(t,e,r,i){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=W({},{type:"straight",opacity:.2,addLine:!1,width:2,gradient:!1,activeType:"none"},e.extra.area);let o=e.chartData.xAxisData,s=o.xAxisPoints,l=o.eachSpacing,c=e.height-e.area[2],u=[];i.save();let f=0,h=e.width+l;return e._scrollDistance_&&e._scrollDistance_!==0&&e.enableScroll===!0&&(i.translate(e._scrollDistance_,0),f=-e._scrollDistance_-l*2+e.area[3],h=f+(e.xAxis.itemCount+4)*l),t.forEach(function(d,m){let p,g,v;p=[].concat(e.chartData.yAxisData.ranges[d.index]),g=p.pop(),v=p.shift();let y=d.data,x=Te(y,g,v,s,l,e,r,n);u.push(x);let b=jt(x,d);for(let P=0;P<b.length;P++){let _=b[P];if(i.beginPath(),i.setStrokeStyle(O(d.color,a.opacity)),a.gradient){let S=i.createLinearGradient(0,e.area[0],0,e.height-e.area[2]);S.addColorStop("0",O(d.color,a.opacity)),S.addColorStop("1.0",O("#FFFFFF",.1)),i.setFillStyle(S)}else i.setFillStyle(O(d.color,a.opacity));if(i.setLineWidth(a.width*e.pix),_.length>1){let S=_[0],w=_[_.length-1];i.moveTo(S.x,S.y);let T=0;if(a.type==="curve")for(let E=0;E<_.length;E++){let L=_[E];if(T==0&&L.x>f&&(i.moveTo(L.x,L.y),T=1),E>0&&L.x>f&&L.x<h){let M=Wt(_,E-1);i.bezierCurveTo(M.ctrA.x,M.ctrA.y,M.ctrB.x,M.ctrB.y,L.x,L.y)}}if(a.type==="straight")for(let E=0;E<_.length;E++){let L=_[E];T==0&&L.x>f&&(i.moveTo(L.x,L.y),T=1),E>0&&L.x>f&&L.x<h&&i.lineTo(L.x,L.y)}if(a.type==="step")for(let E=0;E<_.length;E++){let L=_[E];T==0&&L.x>f&&(i.moveTo(L.x,L.y),T=1),E>0&&L.x>f&&L.x<h&&(i.lineTo(L.x,_[E-1].y),i.lineTo(L.x,L.y))}i.lineTo(w.x,c),i.lineTo(S.x,c),i.lineTo(S.x,S.y)}else{let S=_[0];i.moveTo(S.x-l/2,S.y)}if(i.closePath(),i.fill(),a.addLine){if(d.lineType=="dash"){let S=d.dashLength?d.dashLength:8;S*=e.pix,i.setLineDash([S,S])}if(i.beginPath(),i.setStrokeStyle(d.color),i.setLineWidth(a.width*e.pix),_.length===1)i.moveTo(_[0].x,_[0].y);else{i.moveTo(_[0].x,_[0].y);let S=0;if(a.type==="curve")for(let w=0;w<_.length;w++){let T=_[w];if(S==0&&T.x>f&&(i.moveTo(T.x,T.y),S=1),w>0&&T.x>f&&T.x<h){let E=Wt(_,w-1);i.bezierCurveTo(E.ctrA.x,E.ctrA.y,E.ctrB.x,E.ctrB.y,T.x,T.y)}}if(a.type==="straight")for(let w=0;w<_.length;w++){let T=_[w];S==0&&T.x>f&&(i.moveTo(T.x,T.y),S=1),w>0&&T.x>f&&T.x<h&&i.lineTo(T.x,T.y)}if(a.type==="step")for(let w=0;w<_.length;w++){let T=_[w];S==0&&T.x>f&&(i.moveTo(T.x,T.y),S=1),w>0&&T.x>f&&T.x<h&&(i.lineTo(T.x,_[w-1].y),i.lineTo(T.x,T.y))}i.moveTo(_[0].x,_[0].y)}i.stroke(),i.setLineDash([])}}e.dataPointShape!==!1&&Pr(x,d.color,d.pointShape,i,e),Lc(x,d.color,d.pointShape,i,e,a,m)}),e.dataLabel!==!1&&n===1&&t.forEach(function(d,m){let p,g,v;p=[].concat(e.chartData.yAxisData.ranges[d.index]),g=p.pop(),v=p.shift();var y=d.data,x=Te(y,g,v,s,l,e,r,n);mi(x,d,r,i,e)}),i.restore(),{xAxisPoints:s,calPoints:u,eachSpacing:l}}function cv(t,e,r,i){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1;W({},{type:"circle"},e.extra.scatter);let a=e.chartData.xAxisData,o=a.xAxisPoints,s=a.eachSpacing;var l=[];i.save();let c=0;return e.width+s,e._scrollDistance_&&e._scrollDistance_!==0&&e.enableScroll===!0&&(i.translate(e._scrollDistance_,0),c=-e._scrollDistance_-s*2+e.area[3],c+(e.xAxis.itemCount+4)*s),t.forEach(function(u,f){let h,d,m;h=[].concat(e.chartData.yAxisData.ranges[u.index]),d=h.pop(),m=h.shift();var p=u.data,g=Te(p,d,m,o,s,e,r,n);i.beginPath(),i.setStrokeStyle(u.color),i.setFillStyle(u.color),i.setLineWidth(1*e.pix);var v=u.pointShape;if(v==="diamond")g.forEach(function(y,x){y!==null&&(i.moveTo(y.x,y.y-4.5),i.lineTo(y.x-4.5,y.y),i.lineTo(y.x,y.y+4.5),i.lineTo(y.x+4.5,y.y),i.lineTo(y.x,y.y-4.5))});else if(v==="circle")g.forEach(function(y,x){y!==null&&(i.moveTo(y.x+2.5*e.pix,y.y),i.arc(y.x,y.y,3*e.pix,0,2*Math.PI,!1))});else if(v==="square")g.forEach(function(y,x){y!==null&&(i.moveTo(y.x-3.5,y.y-3.5),i.rect(y.x-3.5,y.y-3.5,7,7))});else if(v==="triangle")g.forEach(function(y,x){y!==null&&(i.moveTo(y.x,y.y-4.5),i.lineTo(y.x-4.5,y.y+4.5),i.lineTo(y.x+4.5,y.y+4.5),i.lineTo(y.x,y.y-4.5))});else if(v==="triangle")return;i.closePath(),i.fill(),i.stroke()}),e.dataLabel!==!1&&n===1&&t.forEach(function(u,f){let h,d,m;h=[].concat(e.chartData.yAxisData.ranges[u.index]),d=h.pop(),m=h.shift();var p=u.data,g=Te(p,d,m,o,s,e,r,n);mi(g,u,r,i,e)}),i.restore(),{xAxisPoints:o,calPoints:l,eachSpacing:s}}function uv(t,e,r,i){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=W({},{opacity:1,border:2},e.extra.bubble);let o=e.chartData.xAxisData,s=o.xAxisPoints,l=o.eachSpacing;var c=[];i.save();let u=0;return e.width+l,e._scrollDistance_&&e._scrollDistance_!==0&&e.enableScroll===!0&&(i.translate(e._scrollDistance_,0),u=-e._scrollDistance_-l*2+e.area[3],u+(e.xAxis.itemCount+4)*l),t.forEach(function(f,h){let d,m,p;d=[].concat(e.chartData.yAxisData.ranges[f.index]),m=d.pop(),p=d.shift();var g=f.data,v=Te(g,m,p,s,l,e,r,n);i.beginPath(),i.setStrokeStyle(f.color),i.setLineWidth(a.border*e.pix),i.setFillStyle(O(f.color,a.opacity)),v.forEach(function(y,x){i.moveTo(y.x+y.r,y.y),i.arc(y.x,y.y,y.r*e.pix,0,2*Math.PI,!1)}),i.closePath(),i.fill(),i.stroke(),e.dataLabel!==!1&&n===1&&v.forEach(function(y,x){i.beginPath();var b=f.textSize*e.pix||r.fontSize;i.setFontSize(b),i.setFillStyle(f.textColor||"#FFFFFF"),i.setTextAlign("center"),i.fillText(String(y.t),y.x,y.y+b/2),i.closePath(),i.stroke(),i.setTextAlign("left")})}),i.restore(),{xAxisPoints:s,calPoints:c,eachSpacing:l}}function fv(t,e,r,i){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=W({},{type:"straight",width:2,activeType:"none",linearType:"none",onShadow:!1,animation:"vertical"},e.extra.line);a.width*=e.pix;let o=e.chartData.xAxisData,s=o.xAxisPoints,l=o.eachSpacing;var c=[];i.save();let u=0,f=e.width+l;return e._scrollDistance_&&e._scrollDistance_!==0&&e.enableScroll===!0&&(i.translate(e._scrollDistance_,0),u=-e._scrollDistance_-l*2+e.area[3],f=u+(e.xAxis.itemCount+4)*l),t.forEach(function(h,d){i.beginPath(),i.setStrokeStyle(h.color),i.moveTo(-1e4,-1e4),i.lineTo(-10001,-10001),i.stroke();let m,p,g;m=[].concat(e.chartData.yAxisData.ranges[h.index]),p=m.pop(),g=m.shift();var v=h.data,y=Ky(v,p,g,s,l,e,r,a,n);c.push(y);var x=jt(y,h);if(h.lineType=="dash"){let S=h.dashLength?h.dashLength:8;S*=e.pix,i.setLineDash([S,S])}i.beginPath();var b=h.color;if(a.linearType!=="none"&&h.linearColor&&h.linearColor.length>0){for(var P=i.createLinearGradient(e.chartData.xAxisData.startX,e.height/2,e.chartData.xAxisData.endX,e.height/2),_=0;_<h.linearColor.length;_++)P.addColorStop(h.linearColor[_][0],O(h.linearColor[_][1],1));b=P}i.setStrokeStyle(b),a.onShadow==!0&&h.setShadow&&h.setShadow.length>0?i.setShadow(h.setShadow[0],h.setShadow[1],h.setShadow[2],h.setShadow[3]):i.setShadow(0,0,0,"rgba(0,0,0,0)"),i.setLineWidth(a.width),x.forEach(function(S,w){if(S.length===1)i.moveTo(S[0].x,S[0].y);else{i.moveTo(S[0].x,S[0].y);let E=0;if(a.type==="curve")for(let L=0;L<S.length;L++){let M=S[L];if(E==0&&M.x>u&&(i.moveTo(M.x,M.y),E=1),L>0&&M.x>u&&M.x<f){var T=Wt(S,L-1);i.bezierCurveTo(T.ctrA.x,T.ctrA.y,T.ctrB.x,T.ctrB.y,M.x,M.y)}}if(a.type==="straight")for(let L=0;L<S.length;L++){let M=S[L];E==0&&M.x>u&&(i.moveTo(M.x,M.y),E=1),L>0&&M.x>u&&M.x<f&&i.lineTo(M.x,M.y)}if(a.type==="step")for(let L=0;L<S.length;L++){let M=S[L];E==0&&M.x>u&&(i.moveTo(M.x,M.y),E=1),L>0&&M.x>u&&M.x<f&&(i.lineTo(M.x,S[L-1].y),i.lineTo(M.x,M.y))}i.moveTo(S[0].x,S[0].y)}}),i.stroke(),i.setLineDash([]),e.dataPointShape!==!1&&Pr(y,h.color,h.pointShape,i,e),Lc(y,h.color,h.pointShape,i,e,a)}),e.dataLabel!==!1&&n===1&&t.forEach(function(h,d){let m,p,g;m=[].concat(e.chartData.yAxisData.ranges[h.index]),p=m.pop(),g=m.shift();var v=h.data,y=Te(v,p,g,s,l,e,r,n);mi(y,h,r,i,e)}),i.restore(),{xAxisPoints:s,calPoints:c,eachSpacing:l}}function hv(t,e,r,i){let n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=e.chartData.xAxisData,o=a.xAxisPoints,s=a.eachSpacing,l=W({},{width:s/2,barBorderCircle:!1,barBorderRadius:[],seriesGap:2,linearType:"none",linearOpacity:1,customColor:[],colorStop:0},e.extra.mix.column),c=W({},{opacity:.2,gradient:!1},e.extra.mix.area),u=W({},{width:2},e.extra.mix.line),f=e.height-e.area[2],h=[];var d=0,m=0;t.forEach(function(x,b){x.type=="column"&&(m+=1)}),i.save();let p=-2,g=o.length+2,v=0,y=e.width+s;if(e._scrollDistance_&&e._scrollDistance_!==0&&e.enableScroll===!0&&(i.translate(e._scrollDistance_,0),p=Math.floor(-e._scrollDistance_/s)-2,g=p+e.xAxis.itemCount+4,v=-e._scrollDistance_-s*2+e.area[3],y=v+(e.xAxis.itemCount+4)*s),l.customColor=Ve(l.linearType,l.customColor,t,r),t.forEach(function(x,b){let P,_,S;P=[].concat(e.chartData.yAxisData.ranges[x.index]),_=P.pop(),S=P.shift();var w=x.data,T=Te(w,_,S,o,s,e,r,n);if(h.push(T),x.type=="column"){T=or(T,s,m,d,r,e);for(let D=0;D<T.length;D++){let $=T[D];if($!==null&&D>p&&D<g){var E=$.x-$.width/2;e.height-$.y-e.area[2],i.beginPath();var L=$.color||x.color,M=$.color||x.color;if(l.linearType!=="none"){var j=i.createLinearGradient(E,$.y,E,e.height-e.area[2]);l.linearType=="opacity"?(j.addColorStop(0,O(L,l.linearOpacity)),j.addColorStop(1,O(L,1))):(j.addColorStop(0,O(l.customColor[x.linearIndex],l.linearOpacity)),j.addColorStop(l.colorStop,O(l.customColor[x.linearIndex],l.linearOpacity)),j.addColorStop(1,O(L,1))),L=j}if(l.barBorderRadius&&l.barBorderRadius.length===4||l.barBorderCircle){const z=E,K=$.y,C=$.width,A=e.height-e.area[2]-$.y;l.barBorderCircle&&(l.barBorderRadius=[C/2,C/2,0,0]);let[I,k,re,Ee]=l.barBorderRadius,Ge=Math.min(C/2,A/2);I=I>Ge?Ge:I,k=k>Ge?Ge:k,re=re>Ge?Ge:re,Ee=Ee>Ge?Ge:Ee,I=I<0?0:I,k=k<0?0:k,re=re<0?0:re,Ee=Ee<0?0:Ee,i.arc(z+I,K+I,I,-Math.PI,-Math.PI/2),i.arc(z+C-k,K+k,k,-Math.PI/2,0),i.arc(z+C-re,K+A-re,re,0,Math.PI/2),i.arc(z+Ee,K+A-Ee,Ee,Math.PI/2,Math.PI)}else i.moveTo(E,$.y),i.lineTo(E+$.width,$.y),i.lineTo(E+$.width,e.height-e.area[2]),i.lineTo(E,e.height-e.area[2]),i.lineTo(E,$.y),i.setLineWidth(1),i.setStrokeStyle(M);i.setFillStyle(L),i.closePath(),i.fill()}}d+=1}if(x.type=="area"){let D=jt(T,x);for(let $=0;$<D.length;$++){let z=D[$];if(i.beginPath(),i.setStrokeStyle(x.color),i.setStrokeStyle(O(x.color,c.opacity)),c.gradient){let K=i.createLinearGradient(0,e.area[0],0,e.height-e.area[2]);K.addColorStop("0",O(x.color,c.opacity)),K.addColorStop("1.0",O("#FFFFFF",.1)),i.setFillStyle(K)}else i.setFillStyle(O(x.color,c.opacity));if(i.setLineWidth(2*e.pix),z.length>1){var R=z[0];let K=z[z.length-1];i.moveTo(R.x,R.y);let C=0;if(x.style==="curve")for(let A=0;A<z.length;A++){let I=z[A];if(C==0&&I.x>v&&(i.moveTo(I.x,I.y),C=1),A>0&&I.x>v&&I.x<y){var V=Wt(z,A-1);i.bezierCurveTo(V.ctrA.x,V.ctrA.y,V.ctrB.x,V.ctrB.y,I.x,I.y)}}else for(let A=0;A<z.length;A++){let I=z[A];C==0&&I.x>v&&(i.moveTo(I.x,I.y),C=1),A>0&&I.x>v&&I.x<y&&i.lineTo(I.x,I.y)}i.lineTo(K.x,f),i.lineTo(R.x,f),i.lineTo(R.x,R.y)}else{let K=z[0];i.moveTo(K.x-s/2,K.y)}i.closePath(),i.fill()}}if(x.type=="line"){var q=jt(T,x);q.forEach(function(D,$){if(x.lineType=="dash"){let K=x.dashLength?x.dashLength:8;K*=e.pix,i.setLineDash([K,K])}if(i.beginPath(),i.setStrokeStyle(x.color),i.setLineWidth(u.width*e.pix),D.length===1)i.moveTo(D[0].x,D[0].y);else{i.moveTo(D[0].x,D[0].y);let K=0;if(x.style=="curve")for(let C=0;C<D.length;C++){let A=D[C];if(K==0&&A.x>v&&(i.moveTo(A.x,A.y),K=1),C>0&&A.x>v&&A.x<y){var z=Wt(D,C-1);i.bezierCurveTo(z.ctrA.x,z.ctrA.y,z.ctrB.x,z.ctrB.y,A.x,A.y)}}else for(let C=0;C<D.length;C++){let A=D[C];K==0&&A.x>v&&(i.moveTo(A.x,A.y),K=1),C>0&&A.x>v&&A.x<y&&i.lineTo(A.x,A.y)}i.moveTo(D[0].x,D[0].y)}i.stroke(),i.setLineDash([])})}x.type=="point"&&(x.addPoint=!0),x.addPoint==!0&&x.type!=="column"&&Pr(T,x.color,x.pointShape,i,e)}),e.dataLabel!==!1&&n===1){var d=0;t.forEach(function(b,P){let _,S,w;_=[].concat(e.chartData.yAxisData.ranges[b.index]),S=_.pop(),w=_.shift();var T=b.data,E=Te(T,S,w,o,s,e,r,n);b.type!=="column"?mi(E,b,r,i,e):(E=or(E,s,m,d,r,e),mi(E,b,r,i,e),d+=1)})}return i.restore(),{xAxisPoints:o,calPoints:h,eachSpacing:s}}function me(t,e,r,i,n,a){var o=t.extra.tooltip||{};o.horizentalLine&&t.tooltip&&i===1&&(t.type=="line"||t.type=="area"||t.type=="column"||t.type=="mount"||t.type=="candle"||t.type=="mix")&&ev(t,e,r),r.save(),t._scrollDistance_&&t._scrollDistance_!==0&&t.enableScroll===!0&&r.translate(t._scrollDistance_,0),t.tooltip&&t.tooltip.textList&&t.tooltip.textList.length&&i===1&&rv(t.tooltip.textList,t.tooltip.offset,t,e,r),r.restore()}function Fe(t,e,r,i){let n=e.chartData.xAxisData,a=n.xAxisPoints,o=n.startX,s=n.endX,l=n.eachSpacing;var c="center";(e.type=="bar"||e.type=="line"||e.type=="area"||e.type=="scatter"||e.type=="bubble")&&(c=e.xAxis.boundaryGap);var u=e.height-e.area[2],f=e.area[0];if(e.enableScroll&&e.xAxis.scrollShow){var h=e.height-e.area[2]+r.xAxisHeight,d=s-o,m=l*(a.length-1);e.type=="mount"&&e.extra&&e.extra.mount&&e.extra.mount.widthRatio&&e.extra.mount.widthRatio>1&&(e.extra.mount.widthRatio>2&&(e.extra.mount.widthRatio=2),m+=(e.extra.mount.widthRatio-1)*l);var p=d*d/m,g=0;e._scrollDistance_&&(g=-e._scrollDistance_*d/m),i.beginPath(),i.setLineCap("round"),i.setLineWidth(6*e.pix),i.setStrokeStyle(e.xAxis.scrollBackgroundColor||"#EFEBEF"),i.moveTo(o,h),i.lineTo(s,h),i.stroke(),i.closePath(),i.beginPath(),i.setLineCap("round"),i.setLineWidth(6*e.pix),i.setStrokeStyle(e.xAxis.scrollColor||"#A6A6A6"),i.moveTo(o+g,h),i.lineTo(o+g+p,h),i.stroke(),i.closePath(),i.setLineCap("butt")}if(i.save(),e._scrollDistance_&&e._scrollDistance_!==0&&i.translate(e._scrollDistance_,0),e.xAxis.calibration===!0&&(i.setStrokeStyle(e.xAxis.gridColor||"#cccccc"),i.setLineCap("butt"),i.setLineWidth(1*e.pix),a.forEach(function(y,x){x>0&&(i.beginPath(),i.moveTo(y-l/2,u),i.lineTo(y-l/2,u+3*e.pix),i.closePath(),i.stroke())})),e.xAxis.disableGrid!==!0&&(i.setStrokeStyle(e.xAxis.gridColor||"#cccccc"),i.setLineCap("butt"),i.setLineWidth(1*e.pix),e.xAxis.gridType=="dash"&&i.setLineDash([e.xAxis.dashLength*e.pix,e.xAxis.dashLength*e.pix]),e.xAxis.gridEval=e.xAxis.gridEval||1,a.forEach(function(y,x){x%e.xAxis.gridEval==0&&(i.beginPath(),i.moveTo(y,u),i.lineTo(y,f),i.stroke())}),i.setLineDash([])),e.xAxis.disabled!==!0){let y=t.length;e.xAxis.labelCount&&(e.xAxis.itemCount?y=Math.ceil(t.length/e.xAxis.itemCount*e.xAxis.labelCount):y=e.xAxis.labelCount,y-=1);let x=Math.ceil(t.length/y),b=[],P=t.length;for(let _=0;_<P;_++)_%x!==0?b.push(""):b.push(t[_]);b[P-1]=t[P-1];var v=e.xAxis.fontSize*e.pix||r.fontSize;r._xAxisTextAngle_===0?b.forEach(function(_,S){var w=e.xAxis.formatter?e.xAxis.formatter(_,S,e):_,T=-X(String(w),v,i)/2;c=="center"&&(T+=l/2),e.xAxis.scrollShow&&6*e.pix;var E=e._scrollDistance_||0,L=c=="center"?a[S]+l/2:a[S];L-Math.abs(E)>=e.area[3]-1&&L-Math.abs(E)<=e.width-e.area[1]+1&&(i.beginPath(),i.setFontSize(v),i.setFillStyle(e.xAxis.fontColor||e.fontColor),i.fillText(String(w),a[S]+T,u+e.xAxis.marginTop*e.pix+(e.xAxis.lineHeight-e.xAxis.fontSize)*e.pix/2+e.xAxis.fontSize*e.pix),i.closePath(),i.stroke())}):b.forEach(function(_,S){var w=e.xAxis.formatter?e.xAxis.formatter(_):_,T=e._scrollDistance_||0,E=c=="center"?a[S]+l/2:a[S];if(E-Math.abs(T)>=e.area[3]-1&&E-Math.abs(T)<=e.width-e.area[1]+1){i.save(),i.beginPath(),i.setFontSize(v),i.setFillStyle(e.xAxis.fontColor||e.fontColor);var L=X(String(w),v,i),M=a[S];c=="center"&&(M=a[S]+l/2),e.xAxis.scrollShow&&6*e.pix;var j=u+e.xAxis.marginTop*e.pix+v-v*Math.abs(Math.sin(r._xAxisTextAngle_));e.xAxis.rotateAngle<0?(M-=v/2,L=0):(M+=v/2,L=-L),i.translate(M,j),i.rotate(-1*r._xAxisTextAngle_),i.fillText(String(w),L,0),i.closePath(),i.stroke(),i.restore()}})}i.restore(),e.xAxis.title&&(i.beginPath(),i.setFontSize(e.xAxis.titleFontSize*e.pix),i.setFillStyle(e.xAxis.titleFontColor),i.fillText(String(e.xAxis.title),e.width-e.area[1]+e.xAxis.titleOffsetX*e.pix,e.height-e.area[2]+e.xAxis.marginTop*e.pix+(e.xAxis.lineHeight-e.xAxis.titleFontSize)*e.pix/2+(e.xAxis.titleFontSize+e.xAxis.titleOffsetY)*e.pix),i.closePath(),i.stroke()),e.xAxis.axisLine&&(i.beginPath(),i.setStrokeStyle(e.xAxis.axisLineColor),i.setLineWidth(1*e.pix),i.moveTo(o,e.height-e.area[2]),i.lineTo(s,e.height-e.area[2]),i.stroke())}function Ye(t,e,r,i){if(e.yAxis.disableGrid===!0)return;let a=(e.height-e.area[0]-e.area[2])/e.yAxis.splitNumber,o=e.area[3],s=e.chartData.xAxisData.xAxisPoints,l=e.chartData.xAxisData.eachSpacing,c=l*(s.length-1);e.type=="mount"&&e.extra&&e.extra.mount&&e.extra.mount.widthRatio&&e.extra.mount.widthRatio>1&&(e.extra.mount.widthRatio>2&&(e.extra.mount.widthRatio=2),c+=(e.extra.mount.widthRatio-1)*l);let u=o+c,f=[],h=1;e.xAxis.axisLine===!1&&(h=0);for(let d=h;d<e.yAxis.splitNumber+1;d++)f.push(e.height-e.area[2]-a*d);i.save(),e._scrollDistance_&&e._scrollDistance_!==0&&i.translate(e._scrollDistance_,0),e.yAxis.gridType=="dash"&&i.setLineDash([e.yAxis.dashLength*e.pix,e.yAxis.dashLength*e.pix]),i.setStrokeStyle(e.yAxis.gridColor),i.setLineWidth(1*e.pix),f.forEach(function(d,m){i.beginPath(),i.moveTo(o,d),i.lineTo(u,d),i.stroke()}),i.setLineDash([]),i.restore()}function $e(t,e,r,i){if(e.yAxis.disabled===!0)return;var n=e.height-e.area[0]-e.area[2],a=n/e.yAxis.splitNumber,o=e.area[3],s=e.width-e.area[1],l=e.height-e.area[2];i.beginPath(),i.setFillStyle(e.background),e.enableScroll==!0&&e.xAxis.scrollPosition&&e.xAxis.scrollPosition!=="left"&&i.fillRect(0,0,o,l+2*e.pix),e.enableScroll==!0&&e.xAxis.scrollPosition&&e.xAxis.scrollPosition!=="right"&&i.fillRect(s,0,e.width,l+2*e.pix),i.closePath(),i.stroke();let c=e.area[3],u=e.width-e.area[1],f=e.area[3]+(e.width-e.area[1]-e.area[3])/2;if(e.yAxis.data)for(let d=0;d<e.yAxis.data.length;d++){let m=e.yAxis.data[d];var h=[];if(m.type==="categories")for(let p=0;p<=m.categories.length;p++)h.push(e.area[0]+n/m.categories.length/2+n/m.categories.length*p);else for(let p=0;p<=e.yAxis.splitNumber;p++)h.push(e.area[0]+a*p);if(m.disabled!==!0){let p=e.chartData.yAxisData.rangesFormat[d],g=m.fontSize?m.fontSize*e.pix:r.fontSize,v=e.chartData.yAxisData.yAxisWidth[d],y=m.textAlign||"right";if(p.forEach(function(x,b){var P=h[b];i.beginPath(),i.setFontSize(g),i.setLineWidth(1*e.pix),i.setStrokeStyle(m.axisLineColor||"#cccccc"),i.setFillStyle(m.fontColor||e.fontColor);let _=0,S=4*e.pix;if(v.position=="left"){switch(m.calibration==!0&&(i.moveTo(c,P),i.lineTo(c-3*e.pix,P),S+=3*e.pix),y){case"left":i.setTextAlign("left"),_=c-v.width;break;case"right":i.setTextAlign("right"),_=c-S;break;default:i.setTextAlign("center"),_=c-v.width/2}i.fillText(String(x),_,P+g/2-3*e.pix)}else if(v.position=="right"){switch(m.calibration==!0&&(i.moveTo(u,P),i.lineTo(u+3*e.pix,P),S+=3*e.pix),y){case"left":i.setTextAlign("left"),_=u+S;break;case"right":i.setTextAlign("right"),_=u+v.width;break;default:i.setTextAlign("center"),_=u+v.width/2}i.fillText(String(x),_,P+g/2-3*e.pix)}else if(v.position=="center"){switch(m.calibration==!0&&(i.moveTo(f,P),i.lineTo(f-3*e.pix,P),S+=3*e.pix),y){case"left":i.setTextAlign("left"),_=f-v.width;break;case"right":i.setTextAlign("right"),_=f-S;break;default:i.setTextAlign("center"),_=f-v.width/2}i.fillText(String(x),_,P+g/2-3*e.pix)}i.closePath(),i.stroke(),i.setTextAlign("left")}),m.axisLine!==!1&&(i.beginPath(),i.setStrokeStyle(m.axisLineColor||"#cccccc"),i.setLineWidth(1*e.pix),v.position=="left"?(i.moveTo(c,e.height-e.area[2]),i.lineTo(c,e.area[0])):v.position=="right"?(i.moveTo(u,e.height-e.area[2]),i.lineTo(u,e.area[0])):v.position=="center"&&(i.moveTo(f,e.height-e.area[2]),i.lineTo(f,e.area[0])),i.stroke()),e.yAxis.showTitle){let x=m.titleFontSize*e.pix||r.fontSize,b=m.title;i.beginPath(),i.setFontSize(x),i.setFillStyle(m.titleFontColor||e.fontColor),v.position=="left"?i.fillText(b,c-X(b,x,i)/2+(m.titleOffsetX||0),e.area[0]-(10-(m.titleOffsetY||0))*e.pix):v.position=="right"?i.fillText(b,u-X(b,x,i)/2+(m.titleOffsetX||0),e.area[0]-(10-(m.titleOffsetY||0))*e.pix):v.position=="center"&&i.fillText(b,f-X(b,x,i)/2+(m.titleOffsetX||0),e.area[0]-(10-(m.titleOffsetY||0))*e.pix),i.closePath(),i.stroke()}v.position=="left"?c-=v.width+e.yAxis.padding*e.pix:u+=v.width+e.yAxis.padding*e.pix}}}function ge(t,e,r,i,n){if(e.legend.show===!1)return;let a=n.legendData,o=a.points,s=a.area,l=e.legend.padding*e.pix,c=e.legend.fontSize*e.pix,u=15*e.pix,f=5*e.pix,h=e.legend.itemGap*e.pix,d=Math.max(e.legend.lineHeight*e.pix,c);i.beginPath(),i.setLineWidth(e.legend.borderWidth*e.pix),i.setStrokeStyle(e.legend.borderColor),i.setFillStyle(e.legend.backgroundColor),i.moveTo(s.start.x,s.start.y),i.rect(s.start.x,s.start.y,s.width,s.height),i.closePath(),i.fill(),i.stroke(),o.forEach(function(m,p){let g=0,v=0;g=a.widthArr[p],v=a.heightArr[p];let y=0,x=0;if(e.legend.position=="top"||e.legend.position=="bottom"){switch(e.legend.float){case"left":y=s.start.x+l;break;case"right":y=s.start.x+s.width-g;break;default:y=s.start.x+(s.width-g)/2}x=s.start.y+l+p*d}else p==0?g=0:g=a.widthArr[p-1],y=s.start.x+l+g,x=s.start.y+l+(s.height-v)/2;i.setFontSize(r.fontSize);for(let b=0;b<m.length;b++){let P=m[b];switch(P.area=[0,0,0,0],P.area[0]=y,P.area[1]=x,P.area[3]=x+d,i.beginPath(),i.setLineWidth(1*e.pix),i.setStrokeStyle(P.show?P.color:e.legend.hiddenColor),i.setFillStyle(P.show?P.color:e.legend.hiddenColor),P.legendShape){case"line":i.moveTo(y,x+.5*d-2*e.pix),i.fillRect(y,x+.5*d-2*e.pix,15*e.pix,4*e.pix);break;case"triangle":i.moveTo(y+7.5*e.pix,x+.5*d-5*e.pix),i.lineTo(y+2.5*e.pix,x+.5*d+5*e.pix),i.lineTo(y+12.5*e.pix,x+.5*d+5*e.pix),i.lineTo(y+7.5*e.pix,x+.5*d-5*e.pix);break;case"diamond":i.moveTo(y+7.5*e.pix,x+.5*d-5*e.pix),i.lineTo(y+2.5*e.pix,x+.5*d),i.lineTo(y+7.5*e.pix,x+.5*d+5*e.pix),i.lineTo(y+12.5*e.pix,x+.5*d),i.lineTo(y+7.5*e.pix,x+.5*d-5*e.pix);break;case"circle":i.moveTo(y+7.5*e.pix,x+.5*d),i.arc(y+7.5*e.pix,x+.5*d,5*e.pix,0,2*Math.PI);break;case"rect":i.moveTo(y,x+.5*d-5*e.pix),i.fillRect(y,x+.5*d-5*e.pix,15*e.pix,10*e.pix);break;case"square":i.moveTo(y+5*e.pix,x+.5*d-5*e.pix),i.fillRect(y+5*e.pix,x+.5*d-5*e.pix,10*e.pix,10*e.pix);break;case"none":break;default:i.moveTo(y,x+.5*d-5*e.pix),i.fillRect(y,x+.5*d-5*e.pix,15*e.pix,10*e.pix)}i.closePath(),i.fill(),i.stroke(),y+=u+f;let _=.5*d+.5*c-2;const S=P.legendText?P.legendText:P.name;i.beginPath(),i.setFontSize(c),i.setFillStyle(P.show?e.legend.fontColor:e.legend.hiddenColor),i.fillText(S,y,x+_),i.closePath(),i.stroke(),e.legend.position=="top"||e.legend.position=="bottom"?(y+=X(S,c,i)+h,P.area[2]=y):(P.area[2]=y+X(S,c,i)+h,y-=u+f,x+=d)}})}function Mo(t,e,r,i){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=W({},{activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,ringWidth:30,customRadius:0,border:!1,borderWidth:2,borderColor:"#FFFFFF",centerColor:"#FFFFFF",linearType:"none",customColor:[]},e.type=="pie"?e.extra.pie:e.extra.ring),o={x:e.area[3]+(e.width-e.area[1]-e.area[3])/2,y:e.area[0]+(e.height-e.area[0]-e.area[2])/2};r.pieChartLinePadding==0&&(r.pieChartLinePadding=a.activeRadius*e.pix);var s=Math.min((e.width-e.area[1]-e.area[3])/2-r.pieChartLinePadding-r.pieChartTextPadding-r._pieTextMaxLength_,(e.height-e.area[0]-e.area[2])/2-r.pieChartLinePadding-r.pieChartTextPadding);s=s<10?10:s,a.customRadius>0&&(s=a.customRadius*e.pix),t=ma(t,s,n);var l=a.activeRadius*e.pix;if(a.customColor=Ve(a.linearType,a.customColor,t,r),t=t.map(function(u){return u._start_+=a.offsetAngle*Math.PI/180,u}),t.forEach(function(u,f){e.tooltip&&e.tooltip.index==f&&(i.beginPath(),i.setFillStyle(O(u.color,a.activeOpacity||.5)),i.moveTo(o.x,o.y),i.arc(o.x,o.y,u._radius_+l,u._start_,u._start_+2*u._proportion_*Math.PI),i.closePath(),i.fill()),i.beginPath(),i.setLineWidth(a.borderWidth*e.pix),i.lineJoin="round",i.setStrokeStyle(a.borderColor);var h=u.color;if(a.linearType=="custom"){var d;i.createCircularGradient?d=i.createCircularGradient(o.x,o.y,u._radius_):d=i.createRadialGradient(o.x,o.y,0,o.x,o.y,u._radius_),d.addColorStop(0,O(a.customColor[u.linearIndex],1)),d.addColorStop(1,O(u.color,1)),h=d}i.setFillStyle(h),i.moveTo(o.x,o.y),i.arc(o.x,o.y,u._radius_,u._start_,u._start_+2*u._proportion_*Math.PI),i.closePath(),i.fill(),a.border==!0&&i.stroke()}),e.type==="ring"){var c=s*.6;typeof a.ringWidth=="number"&&a.ringWidth>0&&(c=Math.max(0,s-a.ringWidth*e.pix)),i.beginPath(),i.setFillStyle(a.centerColor),i.moveTo(o.x,o.y),i.arc(o.x,o.y,c,0,2*Math.PI),i.closePath(),i.fill()}return e.dataLabel!==!1&&n===1&&Oc(t,e,r,i,s,o),n===1&&e.type==="ring"&&va(e,r,i,o),{center:o,radius:s,series:t}}function dv(t,e,r,i){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=W({},{type:"area",activeOpacity:.5,activeRadius:10,offsetAngle:0,labelWidth:15,border:!1,borderWidth:2,borderColor:"#FFFFFF",linearType:"none",customColor:[]},e.extra.rose);r.pieChartLinePadding==0&&(r.pieChartLinePadding=a.activeRadius*e.pix);var o={x:e.area[3]+(e.width-e.area[1]-e.area[3])/2,y:e.area[0]+(e.height-e.area[0]-e.area[2])/2},s=Math.min((e.width-e.area[1]-e.area[3])/2-r.pieChartLinePadding-r.pieChartTextPadding-r._pieTextMaxLength_,(e.height-e.area[0]-e.area[2])/2-r.pieChartLinePadding-r.pieChartTextPadding);s=s<10?10:s;var l=a.minRadius||s*.5;s<l&&(s=l+10),t=kc(t,a.type,l,s,n);var c=a.activeRadius*e.pix;return a.customColor=Ve(a.linearType,a.customColor,t,r),t=t.map(function(u){return u._start_+=(a.offsetAngle||0)*Math.PI/180,u}),t.forEach(function(u,f){e.tooltip&&e.tooltip.index==f&&(i.beginPath(),i.setFillStyle(O(u.color,a.activeOpacity||.5)),i.moveTo(o.x,o.y),i.arc(o.x,o.y,c+u._radius_,u._start_,u._start_+2*u._rose_proportion_*Math.PI),i.closePath(),i.fill()),i.beginPath(),i.setLineWidth(a.borderWidth*e.pix),i.lineJoin="round",i.setStrokeStyle(a.borderColor);var h=u.color;if(a.linearType=="custom"){var d;i.createCircularGradient?d=i.createCircularGradient(o.x,o.y,u._radius_):d=i.createRadialGradient(o.x,o.y,0,o.x,o.y,u._radius_),d.addColorStop(0,O(a.customColor[u.linearIndex],1)),d.addColorStop(1,O(u.color,1)),h=d}i.setFillStyle(h),i.moveTo(o.x,o.y),i.arc(o.x,o.y,u._radius_,u._start_,u._start_+2*u._rose_proportion_*Math.PI),i.closePath(),i.fill(),a.border==!0&&i.stroke()}),e.dataLabel!==!1&&n===1&&Oc(t,e,r,i,s,o),{center:o,radius:s,series:t}}function gv(t,e,r,i){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=W({},{startAngle:.75,endAngle:.25,type:"default",direction:"cw",lineCap:"round",width:12,gap:2,linearType:"none",customColor:[]},e.extra.arcbar);t=Ny(t,a,n);var o;a.centerX||a.centerY?o={x:a.centerX?a.centerX:e.width/2,y:a.centerY?a.centerY:e.height/2}:o={x:e.width/2,y:e.height/2};var s;a.radius?s=a.radius:(s=Math.min(o.x,o.y),s-=5*e.pix,s-=a.width/2),s=s<10?10:s,a.customColor=Ve(a.linearType,a.customColor,t,r);for(let u=0;u<t.length;u++){let f=t[u];i.setLineWidth(a.width*e.pix),i.setStrokeStyle(a.backgroundColor||"#E9E9E9"),i.setLineCap(a.lineCap),i.beginPath(),a.type=="default"?i.arc(o.x,o.y,s-(a.width*e.pix+a.gap*e.pix)*u,a.startAngle*Math.PI,a.endAngle*Math.PI,a.direction=="ccw"):i.arc(o.x,o.y,s-(a.width*e.pix+a.gap*e.pix)*u,0,2*Math.PI,a.direction=="ccw"),i.stroke();var l=f.color;if(a.linearType=="custom"){var c=i.createLinearGradient(o.x-s,o.y,o.x+s,o.y);c.addColorStop(1,O(a.customColor[f.linearIndex],1)),c.addColorStop(0,O(f.color,1)),l=c}i.setLineWidth(a.width*e.pix),i.setStrokeStyle(l),i.setLineCap(a.lineCap),i.beginPath(),i.arc(o.x,o.y,s-(a.width*e.pix+a.gap*e.pix)*u,a.startAngle*Math.PI,f._proportion_*Math.PI,a.direction=="ccw"),i.stroke()}return va(e,r,i,o),{center:o,radius:s,series:t}}function pv(t,e,r,i,n){var a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1,o=W({},{type:"default",startAngle:.75,endAngle:.25,width:15,labelOffset:13,splitLine:{fixRadius:0,splitNumber:10,width:15,color:"#FFFFFF",childNumber:5,childWidth:5},pointer:{width:15,color:"auto"}},r.extra.gauge);o.oldAngle==null&&(o.oldAngle=o.startAngle),o.oldData==null&&(o.oldData=0),t=Uy(t,o.startAngle,o.endAngle);var s={x:r.width/2,y:r.height/2},l=Math.min(s.x,s.y);l-=5*r.pix,l-=o.width/2,l=l<10?10:l;var c=l-o.width,u=0;if(o.type=="progress"){var f=l-o.width*3;n.beginPath();let h=n.createLinearGradient(s.x,s.y-f,s.x,s.y+f);h.addColorStop("0",O(e[0].color,.3)),h.addColorStop("1.0",O("#FFFFFF",.1)),n.setFillStyle(h),n.arc(s.x,s.y,f,0,2*Math.PI,!1),n.fill(),n.setLineWidth(o.width),n.setStrokeStyle(O(e[0].color,.3)),n.setLineCap("round"),n.beginPath(),n.arc(s.x,s.y,c,o.startAngle*Math.PI,o.endAngle*Math.PI,!1),n.stroke(),o.endAngle<o.startAngle?u=2+o.endAngle-o.startAngle:u=o.startAngle-o.endAngle,u/o.splitLine.splitNumber;let d=u/o.splitLine.splitNumber/o.splitLine.childNumber,m=-l-o.width*.5-o.splitLine.fixRadius,p=-l-o.width-o.splitLine.fixRadius+o.splitLine.width;n.save(),n.translate(s.x,s.y),n.rotate((o.startAngle-1)*Math.PI);let g=o.splitLine.splitNumber*o.splitLine.childNumber+1,v=e[0].data*a;for(let b=0;b<g;b++)n.beginPath(),v>b/g?n.setStrokeStyle(O(e[0].color,1)):n.setStrokeStyle(O(e[0].color,.3)),n.setLineWidth(3*r.pix),n.moveTo(m,0),n.lineTo(p,0),n.stroke(),n.rotate(d*Math.PI);n.restore(),e=By(e,o,a),n.setLineWidth(o.width),n.setStrokeStyle(e[0].color),n.setLineCap("round"),n.beginPath(),n.arc(s.x,s.y,c,o.startAngle*Math.PI,e[0]._proportion_*Math.PI,!1),n.stroke();let y=l-o.width*2.5;n.save(),n.translate(s.x,s.y),n.rotate((e[0]._proportion_-1)*Math.PI),n.beginPath(),n.setLineWidth(o.width/3);let x=n.createLinearGradient(0,-y*.6,0,y*.6);x.addColorStop("0",O("#FFFFFF",0)),x.addColorStop("0.5",O(e[0].color,1)),x.addColorStop("1.0",O("#FFFFFF",0)),n.setStrokeStyle(x),n.arc(0,0,y,.85*Math.PI,1.15*Math.PI,!1),n.stroke(),n.beginPath(),n.setLineWidth(1),n.setStrokeStyle(e[0].color),n.setFillStyle(e[0].color),n.moveTo(-y-o.width/3/2,-4),n.lineTo(-y-o.width/3/2-4,0),n.lineTo(-y-o.width/3/2,4),n.lineTo(-y-o.width/3/2,-4),n.stroke(),n.fill(),n.restore()}else{n.setLineWidth(o.width),n.setLineCap("butt");for(let v=0;v<t.length;v++){let y=t[v];n.beginPath(),n.setStrokeStyle(y.color),n.arc(s.x,s.y,l,y._startAngle_*Math.PI,y._endAngle_*Math.PI,!1),n.stroke()}n.save(),o.endAngle<o.startAngle?u=2+o.endAngle-o.startAngle:u=o.startAngle-o.endAngle;let h=u/o.splitLine.splitNumber,d=u/o.splitLine.splitNumber/o.splitLine.childNumber,m=-l-o.width*.5-o.splitLine.fixRadius,p=-l-o.width*.5-o.splitLine.fixRadius+o.splitLine.width,g=-l-o.width*.5-o.splitLine.fixRadius+o.splitLine.childWidth;n.translate(s.x,s.y),n.rotate((o.startAngle-1)*Math.PI);for(let v=0;v<o.splitLine.splitNumber+1;v++)n.beginPath(),n.setStrokeStyle(o.splitLine.color),n.setLineWidth(2*r.pix),n.moveTo(m,0),n.lineTo(p,0),n.stroke(),n.rotate(h*Math.PI);n.restore(),n.save(),n.translate(s.x,s.y),n.rotate((o.startAngle-1)*Math.PI);for(let v=0;v<o.splitLine.splitNumber*o.splitLine.childNumber+1;v++)n.beginPath(),n.setStrokeStyle(o.splitLine.color),n.setLineWidth(1*r.pix),n.moveTo(m,0),n.lineTo(g,0),n.stroke(),n.rotate(d*Math.PI);n.restore(),e=Hy(e,t,o,a);for(let v=0;v<e.length;v++){let y=e[v];n.save(),n.translate(s.x,s.y),n.rotate((y._proportion_-1)*Math.PI),n.beginPath(),n.setFillStyle(y.color),n.moveTo(o.pointer.width,0),n.lineTo(0,-o.pointer.width/2),n.lineTo(-c,0),n.lineTo(0,o.pointer.width/2),n.lineTo(o.pointer.width,0),n.closePath(),n.fill(),n.beginPath(),n.setFillStyle("#FFFFFF"),n.arc(0,0,o.pointer.width/6,0,2*Math.PI,!1),n.fill(),n.restore()}r.dataLabel!==!1&&Yy(o,l,s,r,i,n)}return va(r,i,n,s),a===1&&r.type==="gauge"&&(r.extra.gauge.oldAngle=e[0]._proportion_,r.extra.gauge.oldData=e[0].data),{center:s,radius:l,innerRadius:c,categories:t,totalAngle:u}}function mv(t,e,r,i){var n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=W({},{gridColor:"#cccccc",gridType:"radar",gridEval:1,axisLabel:!1,axisLabelTofix:0,labelShow:!0,labelColor:"#666666",labelPointShow:!1,labelPointRadius:3,labelPointColor:"#cccccc",opacity:.2,gridCount:3,border:!1,borderWidth:2,linearType:"none",customColor:[]},e.extra.radar),o=_y(e.categories.length),s={x:e.area[3]+(e.width-e.area[1]-e.area[3])/2,y:e.area[0]+(e.height-e.area[0]-e.area[2])/2},l=(e.width-e.area[1]-e.area[3])/2,c=(e.height-e.area[0]-e.area[2])/2,u=Math.min(l-(xy(e.categories,r.fontSize,i)+r.radarLabelTextMargin),c-r.radarLabelTextMargin);u-=r.radarLabelTextMargin*e.pix,u=u<10?10:u,u=a.radius?a.radius:u,i.beginPath(),i.setLineWidth(1*e.pix),i.setStrokeStyle(a.gridColor),o.forEach(function(m,p){var g=We(u*Math.cos(m),u*Math.sin(m),s);i.moveTo(s.x,s.y),p%a.gridEval==0&&i.lineTo(g.x,g.y)}),i.stroke(),i.closePath();for(var f=function(p){var g={};if(i.beginPath(),i.setLineWidth(1*e.pix),i.setStrokeStyle(a.gridColor),a.gridType=="radar")o.forEach(function(y,x){var b=We(u/a.gridCount*p*Math.cos(y),u/a.gridCount*p*Math.sin(y),s);x===0?(g=b,i.moveTo(b.x,b.y)):i.lineTo(b.x,b.y)}),i.lineTo(g.x,g.y);else{var v=We(u/a.gridCount*p*Math.cos(1.5),u/a.gridCount*p*Math.sin(1.5),s);i.arc(s.x,s.y,s.y-v.y,0,2*Math.PI,!1)}i.stroke(),i.closePath()},h=1;h<=a.gridCount;h++)f(h);a.customColor=Ve(a.linearType,a.customColor,t,r);var d=Fy(o,s,u,t,e,n);if(d.forEach(function(m,p){i.beginPath(),i.setLineWidth(a.borderWidth*e.pix),i.setStrokeStyle(m.color);var g=O(m.color,a.opacity);if(a.linearType=="custom"){var v;i.createCircularGradient?v=i.createCircularGradient(s.x,s.y,u):v=i.createRadialGradient(s.x,s.y,0,s.x,s.y,u),v.addColorStop(0,O(a.customColor[t[p].linearIndex],a.opacity)),v.addColorStop(1,O(m.color,a.opacity)),g=v}if(i.setFillStyle(g),m.data.forEach(function(x,b){b===0?i.moveTo(x.position.x,x.position.y):i.lineTo(x.position.x,x.position.y)}),i.closePath(),i.fill(),a.border===!0&&i.stroke(),i.closePath(),e.dataPointShape!==!1){var y=m.data.map(function(x){return x.position});Pr(y,m.color,m.pointShape,i,e)}}),a.axisLabel===!0){const m=Math.max(a.max,Math.max.apply(null,Sr(t))),p=u/a.gridCount,g=e.fontSize*e.pix;i.setFontSize(g),i.setFillStyle(e.fontColor),i.setTextAlign("left");for(var h=0;h<a.gridCount+1;h++){let y=h*m/a.gridCount;y=y.toFixed(a.axisLabelTofix),i.fillText(String(y),s.x+3*e.pix,s.y-h*p+g/2)}}return Qy(o,u,s,e,r,i),e.dataLabel!==!1&&n===1&&(d.forEach(function(m,p){i.beginPath();var g=m.textSize*e.pix||r.fontSize;i.setFontSize(g),i.setFillStyle(m.textColor||e.fontColor),m.data.forEach(function(v,y){Math.abs(v.position.x-s.x)<2?v.position.y<s.y?(i.setTextAlign("center"),i.fillText(v.value,v.position.x,v.position.y-4)):(i.setTextAlign("center"),i.fillText(v.value,v.position.x,v.position.y+g+2)):v.position.x<s.x?(i.setTextAlign("right"),i.fillText(v.value,v.position.x-4,v.position.y+g/2-2)):(i.setTextAlign("left"),i.fillText(v.value,v.position.x+4,v.position.y+g/2-2))}),i.closePath(),i.stroke()}),i.setTextAlign("left")),{center:s,radius:u,angleList:o}}function Et(t,e){var r=Array(2),i=t*2003750834e-2/180,n=Math.log(Math.tan((90+e)*Math.PI/360))/(Math.PI/180);return n=n*2003750834e-2/180,r[0]=i,r[1]=n,r}function yv(t){var e={},r;e.xMin=180,e.xMax=0,e.yMin=90,e.yMax=0;for(var i=0;i<t.length;i++)for(var n=t[i].geometry.coordinates,a=0;a<n.length;a++){r=n[a],r.length==1&&(r=r[0]);for(var o=0;o<r.length;o++){var s=r[o][0],l=r[o][1],c={x:s,y:l};e.xMin=e.xMin<c.x?e.xMin:c.x,e.xMax=e.xMax>c.x?e.xMax:c.x,e.yMin=e.yMin<c.y?e.yMin:c.y,e.yMax=e.yMax>c.y?e.yMax:c.y}}return e}function Eo(t,e,r,i,n,a){return{x:(e-r.xMin)*i+n,y:(r.yMax-t)*i+a}}function vv(t,e,r,i,n,a){return{x:(e-n)/i+r.xMin,y:r.yMax-(t-a)/i}}function xv(t,e,r){return!(e[1]==r[1]||e[1]>t[1]&&r[1]>t[1]||e[1]<t[1]&&r[1]<t[1]||e[1]==t[1]&&r[1]>t[1]||r[1]==t[1]&&e[1]>t[1]||e[0]<t[0]&&r[1]<t[1]||r[0]-(r[0]-e[0])*(r[1]-t[1])/(r[1]-e[1])<t[0])}function _v(t,e,r){let i=0;for(let n=0;n<e.length;n++){let a=e[n][0];e.length==1&&(a=e[n][0]);for(let o=0;o<a.length-1;o++){let s=a[o],l=a[o+1];r&&(s=Et(a[o][0],a[o][1]),l=Et(a[o+1][0],a[o+1][1])),xv(t,s,l)&&(i+=1)}}return i%2==1}function bv(t,e,r,i){var n=W({},{border:!0,mercator:!1,borderWidth:1,active:!0,borderColor:"#666666",fillOpacity:.6,activeBorderColor:"#f04864",activeFillColor:"#facc14",activeFillOpacity:1},e.extra.map),a,o,s=t,l=yv(s);if(n.mercator){var c=Et(l.xMax,l.yMax),u=Et(l.xMin,l.yMin);l.xMax=c[0],l.yMax=c[1],l.xMin=u[0],l.yMin=u[1]}for(var f=e.width/Math.abs(l.xMax-l.xMin),h=e.height/Math.abs(l.yMax-l.yMin),d=f<h?f:h,m=e.width/2-Math.abs(l.xMax-l.xMin)/2*d,p=e.height/2-Math.abs(l.yMax-l.yMin)/2*d,g=0;g<s.length;g++){i.beginPath(),i.setLineWidth(n.borderWidth*e.pix),i.setStrokeStyle(n.borderColor),i.setFillStyle(O(t[g].color,t[g].fillOpacity||n.fillOpacity)),n.active==!0&&e.tooltip&&e.tooltip.index==g&&(i.setStrokeStyle(n.activeBorderColor),i.setFillStyle(O(n.activeFillColor,n.activeFillOpacity)));for(var v=s[g].geometry.coordinates,y=0;y<v.length;y++){a=v[y],a.length==1&&(a=a[0]);for(var x=0;x<a.length;x++){var b=Array(2);n.mercator?b=Et(a[x][0],a[x][1]):b=a[x],o=Eo(b[1],b[0],l,d,m,p),x===0?(i.beginPath(),i.moveTo(o.x,o.y)):i.lineTo(o.x,o.y)}i.fill(),n.border==!0&&i.stroke()}}if(e.dataLabel==!0)for(var g=0;g<s.length;g++){var P=s[g].properties.centroid;if(P){n.mercator&&(P=Et(s[g].properties.centroid[0],s[g].properties.centroid[1])),o=Eo(P[1],P[0],l,d,m,p);let S=s[g].textSize*e.pix||r.fontSize,w=s[g].textColor||e.fontColor;n.active&&n.activeTextColor&&e.tooltip&&e.tooltip.index==g&&(w=n.activeTextColor);let T=s[g].properties.name;i.beginPath(),i.setFontSize(S),i.setFillStyle(w),i.fillText(T,o.x-X(T,S,i)/2,o.y+S/2),i.closePath(),i.stroke()}}e.chartData.mapData={bounds:l,scale:d,xoffset:m,yoffset:p,mercator:n.mercator},me(e,r,i,1),i.draw()}function Ot(t,e,r){r=r==0?1:r;for(var i=[],n=0;n<r;n++)i[n]=Math.random();return Math.floor(i.reduce(function(a,o){return a+o})/r*(e-t))+t}function Hr(t,e,r,i){var n=!1;for(let a=0;a<e.length;a++)if(e[a].area)if(t[3]<e[a].area[1]||t[0]>e[a].area[2]||t[1]>e[a].area[3]||t[2]<e[a].area[0])if(t[0]<0||t[1]<0||t[2]>r||t[3]>i){n=!0;break}else n=!1;else{n=!0;break}return n}function wv(t,e,r){let i=t.series;switch(e){case"normal":for(let a=0;a<i.length;a++){let o=i[a].name,s=i[a].textSize*t.pix,l=X(o,s,r),c,u,f,h=0;for(;h++,c=Ot(-t.width/2,t.width/2,5)-l/2,u=Ot(-t.height/2,t.height/2,5)+s/2,f=[c-5+t.width/2,u-5-s+t.height/2,c+l+5+t.width/2,u+5+t.height/2],!!Hr(f,i,t.width,t.height);)if(h==1e3){f=[-100,-100,-100,-100];break}i[a].area=f}break;case"vertical":let n=function(){return Math.random()>.7};for(let a=0;a<i.length;a++){let o=i[a].name,s=i[a].textSize*t.pix,l=X(o,s,r),c=n(),u,f,h,d,m=0;for(;;){m++;let p;if(c?(u=Ot(-t.width/2,t.width/2,5)-l/2,f=Ot(-t.height/2,t.height/2,5)+s/2,h=[f-5-l+t.width/2,-u-5+t.height/2,f+5+t.width/2,-u+s+5+t.height/2],d=[t.width-(t.width/2-t.height/2)-(-u+s+5+t.height/2)-5,t.height/2-t.width/2+(f-5-l+t.width/2)-5,t.width-(t.width/2-t.height/2)-(-u+s+5+t.height/2)+s,t.height/2-t.width/2+(f-5-l+t.width/2)+l+5],p=Hr(d,i,t.height,t.width)):(u=Ot(-t.width/2,t.width/2,5)-l/2,f=Ot(-t.height/2,t.height/2,5)+s/2,h=[u-5+t.width/2,f-5-s+t.height/2,u+l+5+t.width/2,f+5+t.height/2],p=Hr(h,i,t.width,t.height)),!p)break;if(m==1e3){h=[-1e3,-1e3,-1e3,-1e3];break}}c?(i[a].area=d,i[a].areav=h):i[a].area=h,i[a].rotate=c}break}return i}function Sv(t,e,r,i){let n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=W({},{type:"normal",autoColors:!0},e.extra.word);e.chartData.wordCloudData||(e.chartData.wordCloudData=wv(e,a.type,i)),i.beginPath(),i.setFillStyle(e.background),i.rect(0,0,e.width,e.height),i.fill(),i.save();let o=e.chartData.wordCloudData;i.translate(e.width/2,e.height/2);for(let s=0;s<o.length;s++){i.save(),o[s].rotate&&i.rotate(90*Math.PI/180);let l=o[s].name,c=o[s].textSize*e.pix,u=X(l,c,i);i.beginPath(),i.setStrokeStyle(o[s].color),i.setFillStyle(o[s].color),i.setFontSize(c),o[s].rotate?o[s].areav[0]>0&&(e.tooltip&&e.tooltip.index==s?i.strokeText(l,(o[s].areav[0]+5-e.width/2)*n-u*(1-n)/2,(o[s].areav[1]+5+c-e.height/2)*n):i.fillText(l,(o[s].areav[0]+5-e.width/2)*n-u*(1-n)/2,(o[s].areav[1]+5+c-e.height/2)*n)):o[s].area[0]>0&&(e.tooltip&&e.tooltip.index==s?i.strokeText(l,(o[s].area[0]+5-e.width/2)*n-u*(1-n)/2,(o[s].area[1]+5+c-e.height/2)*n):i.fillText(l,(o[s].area[0]+5-e.width/2)*n-u*(1-n)/2,(o[s].area[1]+5+c-e.height/2)*n)),i.stroke(),i.restore()}i.restore()}function Pv(t,e,r,i){let n=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,a=W({},{type:"funnel",activeWidth:10,activeOpacity:.3,border:!1,borderWidth:2,borderColor:"#FFFFFF",fillOpacity:1,minSize:0,labelAlign:"right",linearType:"none",customColor:[]},e.extra.funnel),o=(e.height-e.area[0]-e.area[2])/t.length,s={x:e.area[3]+(e.width-e.area[1]-e.area[3])/2,y:e.height-e.area[2]},l=a.activeWidth*e.pix,c=Math.min((e.width-e.area[1]-e.area[3])/2-l,(e.height-e.area[0]-e.area[2])/2-l),u=$y(t,c,a,o,n);if(i.save(),i.translate(s.x,s.y),a.customColor=Ve(a.linearType,a.customColor,t,r),a.type=="pyramid")for(let d=0;d<u.length;d++){if(d==u.length-1){e.tooltip&&e.tooltip.index==d&&(i.beginPath(),i.setFillStyle(O(u[d].color,a.activeOpacity)),i.moveTo(-l,-o),i.lineTo(-u[d].radius-l,0),i.lineTo(u[d].radius+l,0),i.lineTo(l,-o),i.lineTo(-l,-o),i.closePath(),i.fill()),u[d].funnelArea=[s.x-u[d].radius,s.y-o*(d+1),s.x+u[d].radius,s.y-o*d],i.beginPath(),i.setLineWidth(a.borderWidth*e.pix),i.setStrokeStyle(a.borderColor);var f=O(u[d].color,a.fillOpacity);if(a.linearType=="custom"){var h=i.createLinearGradient(u[d].radius,-o,-u[d].radius,-o);h.addColorStop(0,O(u[d].color,a.fillOpacity)),h.addColorStop(.5,O(a.customColor[u[d].linearIndex],a.fillOpacity)),h.addColorStop(1,O(u[d].color,a.fillOpacity)),f=h}i.setFillStyle(f),i.moveTo(0,-o),i.lineTo(-u[d].radius,0),i.lineTo(u[d].radius,0),i.lineTo(0,-o),i.closePath(),i.fill(),a.border==!0&&i.stroke()}else{e.tooltip&&e.tooltip.index==d&&(i.beginPath(),i.setFillStyle(O(u[d].color,a.activeOpacity)),i.moveTo(0,0),i.lineTo(-u[d].radius-l,0),i.lineTo(-u[d+1].radius-l,-o),i.lineTo(u[d+1].radius+l,-o),i.lineTo(u[d].radius+l,0),i.lineTo(0,0),i.closePath(),i.fill()),u[d].funnelArea=[s.x-u[d].radius,s.y-o*(d+1),s.x+u[d].radius,s.y-o*d],i.beginPath(),i.setLineWidth(a.borderWidth*e.pix),i.setStrokeStyle(a.borderColor);var f=O(u[d].color,a.fillOpacity);if(a.linearType=="custom"){var h=i.createLinearGradient(u[d].radius,-o,-u[d].radius,-o);h.addColorStop(0,O(u[d].color,a.fillOpacity)),h.addColorStop(.5,O(a.customColor[u[d].linearIndex],a.fillOpacity)),h.addColorStop(1,O(u[d].color,a.fillOpacity)),f=h}i.setFillStyle(f),i.moveTo(0,0),i.lineTo(-u[d].radius,0),i.lineTo(-u[d+1].radius,-o),i.lineTo(u[d+1].radius,-o),i.lineTo(u[d].radius,0),i.lineTo(0,0),i.closePath(),i.fill(),a.border==!0&&i.stroke()}i.translate(0,-o)}else{i.translate(0,-(u.length-1)*o);for(let d=0;d<u.length;d++){if(d==u.length-1){e.tooltip&&e.tooltip.index==d&&(i.beginPath(),i.setFillStyle(O(u[d].color,a.activeOpacity)),i.moveTo(-l-a.minSize/2,0),i.lineTo(-u[d].radius-l,-o),i.lineTo(u[d].radius+l,-o),i.lineTo(l+a.minSize/2,0),i.lineTo(-l-a.minSize/2,0),i.closePath(),i.fill()),u[d].funnelArea=[s.x-u[d].radius,s.y-o,s.x+u[d].radius,s.y],i.beginPath(),i.setLineWidth(a.borderWidth*e.pix),i.setStrokeStyle(a.borderColor);var f=O(u[d].color,a.fillOpacity);if(a.linearType=="custom"){var h=i.createLinearGradient(u[d].radius,-o,-u[d].radius,-o);h.addColorStop(0,O(u[d].color,a.fillOpacity)),h.addColorStop(.5,O(a.customColor[u[d].linearIndex],a.fillOpacity)),h.addColorStop(1,O(u[d].color,a.fillOpacity)),f=h}i.setFillStyle(f),i.moveTo(0,0),i.lineTo(-a.minSize/2,0),i.lineTo(-u[d].radius,-o),i.lineTo(u[d].radius,-o),i.lineTo(a.minSize/2,0),i.lineTo(0,0),i.closePath(),i.fill(),a.border==!0&&i.stroke()}else{e.tooltip&&e.tooltip.index==d&&(i.beginPath(),i.setFillStyle(O(u[d].color,a.activeOpacity)),i.moveTo(0,0),i.lineTo(-u[d+1].radius-l,0),i.lineTo(-u[d].radius-l,-o),i.lineTo(u[d].radius+l,-o),i.lineTo(u[d+1].radius+l,0),i.lineTo(0,0),i.closePath(),i.fill()),u[d].funnelArea=[s.x-u[d].radius,s.y-o*(u.length-d),s.x+u[d].radius,s.y-o*(u.length-d-1)],i.beginPath(),i.setLineWidth(a.borderWidth*e.pix),i.setStrokeStyle(a.borderColor);var f=O(u[d].color,a.fillOpacity);if(a.linearType=="custom"){var h=i.createLinearGradient(u[d].radius,-o,-u[d].radius,-o);h.addColorStop(0,O(u[d].color,a.fillOpacity)),h.addColorStop(.5,O(a.customColor[u[d].linearIndex],a.fillOpacity)),h.addColorStop(1,O(u[d].color,a.fillOpacity)),f=h}i.setFillStyle(f),i.moveTo(0,0),i.lineTo(-u[d+1].radius,0),i.lineTo(-u[d].radius,-o),i.lineTo(u[d].radius,-o),i.lineTo(u[d+1].radius,0),i.lineTo(0,0),i.closePath(),i.fill(),a.border==!0&&i.stroke()}i.translate(0,o)}}return i.restore(),e.dataLabel!==!1&&n===1&&Av(u,e,i,o,a.labelAlign,l,s),n===1&&Tv(u,e,i,o,a.labelAlign,l,s),{center:s,radius:c,series:u}}function Av(t,e,r,i,n,a,o){for(let s=0;s<t.length;s++){let l=t[s];if(l.labelShow===!1)continue;let c,u,f,h,d=l.formatter?l.formatter(l,s,t,e):ze.toFixed(l._proportion_*100)+"%";d=l.labelText?l.labelText:d,n=="right"&&(s==t.length-1?c=(l.funnelArea[2]+o.x)/2:c=(l.funnelArea[2]+t[s+1].funnelArea[2])/2,u=c+a*2,f=l.funnelArea[1]+i/2,h=l.textSize*e.pix||e.fontSize*e.pix,r.setLineWidth(1*e.pix),r.setStrokeStyle(l.color),r.setFillStyle(l.color),r.beginPath(),r.moveTo(c,f),r.lineTo(u,f),r.stroke(),r.closePath(),r.beginPath(),r.moveTo(u,f),r.arc(u,f,2*e.pix,0,2*Math.PI),r.closePath(),r.fill(),r.beginPath(),r.setFontSize(h),r.setFillStyle(l.textColor||e.fontColor),r.fillText(d,u+5,f+h/2-2),r.closePath(),r.stroke(),r.closePath()),n=="left"&&(s==t.length-1?c=(l.funnelArea[0]+o.x)/2:c=(l.funnelArea[0]+t[s+1].funnelArea[0])/2,u=c-a*2,f=l.funnelArea[1]+i/2,h=l.textSize*e.pix||e.fontSize*e.pix,r.setLineWidth(1*e.pix),r.setStrokeStyle(l.color),r.setFillStyle(l.color),r.beginPath(),r.moveTo(c,f),r.lineTo(u,f),r.stroke(),r.closePath(),r.beginPath(),r.moveTo(u,f),r.arc(u,f,2,0,2*Math.PI),r.closePath(),r.fill(),r.beginPath(),r.setFontSize(h),r.setFillStyle(l.textColor||e.fontColor),r.fillText(d,u-5-X(d,h,r),f+h/2-2),r.closePath(),r.stroke(),r.closePath())}}function Tv(t,e,r,i,n,a,o){for(let s=0;s<t.length;s++){let l=t[s],c,u;l.centerText&&(c=l.funnelArea[1]+i/2,u=l.centerTextSize*e.pix||e.fontSize*e.pix,r.beginPath(),r.setFontSize(u),r.setFillStyle(l.centerTextColor||"#FFFFFF"),r.fillText(l.centerText,o.x-X(l.centerText,u,r)/2,c+u/2-2),r.closePath(),r.stroke(),r.closePath())}}function ce(t,e){e.save(),e.translate(0,.5),e.restore(),e.draw()}var Cv={easeIn:function(e){return Math.pow(e,3)},easeOut:function(e){return Math.pow(e-1,3)+1},easeInOut:function(e){return(e/=.5)<1?.5*Math.pow(e,3):.5*(Math.pow(e-2,3)+2)},linear:function(e){return e}};function ne(t){this.isStop=!1,t.duration=typeof t.duration>"u"?1e3:t.duration,t.timing=t.timing||"easeInOut";var e=17;function r(){return typeof setTimeout<"u"?function(o,s){setTimeout(function(){var l=+new Date;o(l)},s)}:typeof requestAnimationFrame<"u"?requestAnimationFrame:function(o){o(null)}}var i=r(),n=null,a=function(s){if(s===null||this.isStop===!0){t.onProcess&&t.onProcess(1),t.onAnimationFinish&&t.onAnimationFinish();return}if(n===null&&(n=s),s-n<t.duration){var l=(s-n)/t.duration,c=Cv[t.timing];l=c(l),t.onProcess&&t.onProcess(l),i(a,e)}else t.onProcess&&t.onProcess(1),t.onAnimationFinish&&t.onAnimationFinish()};a=a.bind(this),i(a,e)}ne.prototype.stop=function(){this.isStop=!0};function fe(t,e,r,i){var n=this,a=e.series;(t==="pie"||t==="ring"||t==="mount"||t==="rose"||t==="funnel")&&(a=yy(a,e));var o=e.categories;if(t==="mount"){o=[];for(let m=0;m<a.length;m++)a[m].show!==!1&&o.push(a[m].name);e.categories=o}a=$r(a,e,r);var s=e.animation?e.duration:0;n.animationInstance&&n.animationInstance.stop();var l=null;if(t=="candle"){let m=W({},e.extra.candle.average);m.show?(l=gy(m.day,m.name,m.color,a[0].data),l=$r(l,e,r),e.seriesMA=l):e.seriesMA?l=e.seriesMA=$r(e.seriesMA,e,r):l=a}else l=a;e._series_=a=Cc(a),e.area=new Array(4);for(let m=0;m<4;m++)e.area[m]=e.padding[m]*e.pix;var c=My(l,e,r,e.chartData,i),u=c.area.wholeHeight,f=c.area.wholeWidth;switch(e.legend.position){case"top":e.area[0]+=u;break;case"bottom":e.area[2]+=u;break;case"left":e.area[3]+=f;break;case"right":e.area[1]+=f;break}let h={},d=0;if(e.type==="line"||e.type==="column"||e.type==="mount"||e.type==="area"||e.type==="mix"||e.type==="candle"||e.type==="scatter"||e.type==="bubble"||e.type==="bar"){if(h=ya(a,e,r,i),d=h.yAxisWidth,e.yAxis.showTitle){let g=0;for(let v=0;v<e.yAxis.data.length;v++)g=Math.max(g,e.yAxis.data[v].titleFontSize?e.yAxis.data[v].titleFontSize*e.pix:r.fontSize);e.area[0]+=g}let m=0,p=0;for(let g=0;g<d.length;g++)d[g].position=="left"?(p>0?e.area[3]+=d[g].width+e.yAxis.padding*e.pix:e.area[3]+=d[g].width,p+=1):d[g].position=="right"&&(m>0?e.area[1]+=d[g].width+e.yAxis.padding*e.pix:e.area[1]+=d[g].width,m+=1)}else r.yAxisWidth=d;if(e.chartData.yAxisData=h,e.categories&&e.categories.length&&e.type!=="radar"&&e.type!=="gauge"&&e.type!=="bar"){e.chartData.xAxisData=Pi(e.categories,e);let m=To(e.categories,e,r,e.chartData.xAxisData.eachSpacing,i),p=m.xAxisHeight,g=m.angle;r.xAxisHeight=p,r._xAxisTextAngle_=g,e.area[2]+=p,e.chartData.categoriesData=m}else if(e.type==="line"||e.type==="area"||e.type==="scatter"||e.type==="bubble"||e.type==="bar"){e.chartData.xAxisData=Ry(a,e,r,i),o=e.chartData.xAxisData.rangesFormat;let m=To(o,e,r,e.chartData.xAxisData.eachSpacing,i),p=m.xAxisHeight,g=m.angle;r.xAxisHeight=p,r._xAxisTextAngle_=g,e.area[2]+=p,e.chartData.categoriesData=m}else e.chartData.xAxisData={xAxisPoints:[]};if(e.enableScroll&&e.xAxis.scrollAlign=="right"&&e._scrollDistance_===void 0){let m=0,p=e.chartData.xAxisData.xAxisPoints,g=e.chartData.xAxisData.startX,v=e.chartData.xAxisData.endX,x=e.chartData.xAxisData.eachSpacing*(p.length-1);m=v-g-x,n.scrollOption.currentOffset=m,n.scrollOption.startTouchX=m,n.scrollOption.distance=0,n.scrollOption.lastMoveTime=0,e._scrollDistance_=m}switch((t==="pie"||t==="ring"||t==="rose")&&(r._pieTextMaxLength_=e.dataLabel===!1?0:Wy(l,r,i,e)),t){case"word":this.animationInstance=new ne({timing:e.timing,duration:s,onProcess:function(m){i.clearRect(0,0,e.width,e.height),e.rotate&&le(i,e),Sv(a,e,r,i,m),ce(e,i)},onAnimationFinish:function(){n.uevent.trigger("renderComplete")}});break;case"map":i.clearRect(0,0,e.width,e.height),bv(a,e,r,i),setTimeout(()=>{this.uevent.trigger("renderComplete")},50);break;case"funnel":this.animationInstance=new ne({timing:e.timing,duration:s,onProcess:function(m){i.clearRect(0,0,e.width,e.height),e.rotate&&le(i,e),e.chartData.funnelData=Pv(a,e,r,i,m),ge(e.series,e,r,i,e.chartData),me(e,r,i,m),ce(e,i)},onAnimationFinish:function(){n.uevent.trigger("renderComplete")}});break;case"line":this.animationInstance=new ne({timing:e.timing,duration:s,onProcess:function(p){i.clearRect(0,0,e.width,e.height),e.rotate&&le(i,e),Ye(o,e,r,i),Fe(o,e,r,i);var g=fv(a,e,r,i,p),v=g.xAxisPoints,y=g.calPoints,x=g.eachSpacing;e.chartData.xAxisPoints=v,e.chartData.calPoints=y,e.chartData.eachSpacing=x,$e(a,e,r,i),e.enableMarkLine!==!1&&p===1&&Re(e,r,i),ge(e.series,e,r,i,e.chartData),me(e,r,i,p),ce(e,i)},onAnimationFinish:function(){n.uevent.trigger("renderComplete")}});break;case"scatter":this.animationInstance=new ne({timing:e.timing,duration:s,onProcess:function(p){i.clearRect(0,0,e.width,e.height),e.rotate&&le(i,e),Ye(o,e,r,i),Fe(o,e,r,i);var g=cv(a,e,r,i,p),v=g.xAxisPoints,y=g.calPoints,x=g.eachSpacing;e.chartData.xAxisPoints=v,e.chartData.calPoints=y,e.chartData.eachSpacing=x,$e(a,e,r,i),e.enableMarkLine!==!1&&p===1&&Re(e,r,i),ge(e.series,e,r,i,e.chartData),me(e,r,i,p),ce(e,i)},onAnimationFinish:function(){n.uevent.trigger("renderComplete")}});break;case"bubble":this.animationInstance=new ne({timing:e.timing,duration:s,onProcess:function(p){i.clearRect(0,0,e.width,e.height),e.rotate&&le(i,e),Ye(o,e,r,i),Fe(o,e,r,i);var g=uv(a,e,r,i,p),v=g.xAxisPoints,y=g.calPoints,x=g.eachSpacing;e.chartData.xAxisPoints=v,e.chartData.calPoints=y,e.chartData.eachSpacing=x,$e(a,e,r,i),e.enableMarkLine!==!1&&p===1&&Re(e,r,i),ge(e.series,e,r,i,e.chartData),me(e,r,i,p),ce(e,i)},onAnimationFinish:function(){n.uevent.trigger("renderComplete")}});break;case"mix":this.animationInstance=new ne({timing:e.timing,duration:s,onProcess:function(p){i.clearRect(0,0,e.width,e.height),e.rotate&&le(i,e),Ye(o,e,r,i),Fe(o,e,r,i);var g=hv(a,e,r,i,p),v=g.xAxisPoints,y=g.calPoints,x=g.eachSpacing;e.chartData.xAxisPoints=v,e.chartData.calPoints=y,e.chartData.eachSpacing=x,$e(a,e,r,i),e.enableMarkLine!==!1&&p===1&&Re(e,r,i),ge(e.series,e,r,i,e.chartData),me(e,r,i,p),ce(e,i)},onAnimationFinish:function(){n.uevent.trigger("renderComplete")}});break;case"column":this.animationInstance=new ne({timing:e.timing,duration:s,onProcess:function(p){i.clearRect(0,0,e.width,e.height),e.rotate&&le(i,e),Ye(o,e,r,i),Fe(o,e,r,i);var g=nv(a,e,r,i,p),v=g.xAxisPoints,y=g.calPoints,x=g.eachSpacing;e.chartData.xAxisPoints=v,e.chartData.calPoints=y,e.chartData.eachSpacing=x,$e(a,e,r,i),e.enableMarkLine!==!1&&p===1&&Re(e,r,i),ge(e.series,e,r,i,e.chartData),me(e,r,i,p),ce(e,i)},onAnimationFinish:function(){n.uevent.trigger("renderComplete")}});break;case"mount":this.animationInstance=new ne({timing:e.timing,duration:s,onProcess:function(p){i.clearRect(0,0,e.width,e.height),e.rotate&&le(i,e),Ye(o,e,r,i),Fe(o,e,r,i);var g=av(a,e,r,i,p),v=g.xAxisPoints,y=g.calPoints,x=g.eachSpacing;e.chartData.xAxisPoints=v,e.chartData.calPoints=y,e.chartData.eachSpacing=x,$e(a,e,r,i),e.enableMarkLine!==!1&&p===1&&Re(e,r,i),ge(e.series,e,r,i,e.chartData),me(e,r,i,p),ce(e,i)},onAnimationFinish:function(){n.uevent.trigger("renderComplete")}});break;case"bar":this.animationInstance=new ne({timing:e.timing,duration:s,onProcess:function(p){i.clearRect(0,0,e.width,e.height),e.rotate&&le(i,e),Fe(o,e,r,i);var g=ov(a,e,r,i,p),v=g.yAxisPoints,y=g.calPoints,x=g.eachSpacing;e.chartData.yAxisPoints=v,e.chartData.xAxisPoints=e.chartData.xAxisData.xAxisPoints,e.chartData.calPoints=y,e.chartData.eachSpacing=x,$e(a,e,r,i),e.enableMarkLine!==!1&&p===1&&Re(e,r,i),ge(e.series,e,r,i,e.chartData),me(e,r,i,p),ce(e,i)},onAnimationFinish:function(){n.uevent.trigger("renderComplete")}});break;case"area":this.animationInstance=new ne({timing:e.timing,duration:s,onProcess:function(p){i.clearRect(0,0,e.width,e.height),e.rotate&&le(i,e),Ye(o,e,r,i),Fe(o,e,r,i);var g=lv(a,e,r,i,p),v=g.xAxisPoints,y=g.calPoints,x=g.eachSpacing;e.chartData.xAxisPoints=v,e.chartData.calPoints=y,e.chartData.eachSpacing=x,$e(a,e,r,i),e.enableMarkLine!==!1&&p===1&&Re(e,r,i),ge(e.series,e,r,i,e.chartData),me(e,r,i,p),ce(e,i)},onAnimationFinish:function(){n.uevent.trigger("renderComplete")}});break;case"ring":this.animationInstance=new ne({timing:e.timing,duration:s,onProcess:function(p){i.clearRect(0,0,e.width,e.height),e.rotate&&le(i,e),e.chartData.pieData=Mo(a,e,r,i,p),ge(e.series,e,r,i,e.chartData),me(e,r,i,p),ce(e,i)},onAnimationFinish:function(){n.uevent.trigger("renderComplete")}});break;case"pie":this.animationInstance=new ne({timing:e.timing,duration:s,onProcess:function(p){i.clearRect(0,0,e.width,e.height),e.rotate&&le(i,e),e.chartData.pieData=Mo(a,e,r,i,p),ge(e.series,e,r,i,e.chartData),me(e,r,i,p),ce(e,i)},onAnimationFinish:function(){n.uevent.trigger("renderComplete")}});break;case"rose":this.animationInstance=new ne({timing:e.timing,duration:s,onProcess:function(p){i.clearRect(0,0,e.width,e.height),e.rotate&&le(i,e),e.chartData.pieData=dv(a,e,r,i,p),ge(e.series,e,r,i,e.chartData),me(e,r,i,p),ce(e,i)},onAnimationFinish:function(){n.uevent.trigger("renderComplete")}});break;case"radar":this.animationInstance=new ne({timing:e.timing,duration:s,onProcess:function(p){i.clearRect(0,0,e.width,e.height),e.rotate&&le(i,e),e.chartData.radarData=mv(a,e,r,i,p),ge(e.series,e,r,i,e.chartData),me(e,r,i,p),ce(e,i)},onAnimationFinish:function(){n.uevent.trigger("renderComplete")}});break;case"arcbar":this.animationInstance=new ne({timing:e.timing,duration:s,onProcess:function(p){i.clearRect(0,0,e.width,e.height),e.rotate&&le(i,e),e.chartData.arcbarData=gv(a,e,r,i,p),ce(e,i)},onAnimationFinish:function(){n.uevent.trigger("renderComplete")}});break;case"gauge":this.animationInstance=new ne({timing:e.timing,duration:s,onProcess:function(p){i.clearRect(0,0,e.width,e.height),e.rotate&&le(i,e),e.chartData.gaugeData=pv(o,a,e,r,i,p),ce(e,i)},onAnimationFinish:function(){n.uevent.trigger("renderComplete")}});break;case"candle":this.animationInstance=new ne({timing:e.timing,duration:s,onProcess:function(p){i.clearRect(0,0,e.width,e.height),e.rotate&&le(i,e),Ye(o,e,r,i),Fe(o,e,r,i);var g=sv(a,l,e,r,i,p),v=g.xAxisPoints,y=g.calPoints,x=g.eachSpacing;e.chartData.xAxisPoints=v,e.chartData.calPoints=y,e.chartData.eachSpacing=x,$e(a,e,r,i),e.enableMarkLine!==!1&&p===1&&Re(e,r,i),ge(l||e.series,e,r,i,e.chartData),me(e,r,i,p),ce(e,i)},onAnimationFinish:function(){n.uevent.trigger("renderComplete")}});break}}function Ar(){this.events={}}Ar.prototype.addEventListener=function(t,e){this.events[t]=this.events[t]||[],this.events[t].push(e)};Ar.prototype.delEventListener=function(t){this.events[t]=[]};Ar.prototype.trigger=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var i=e[0],n=e.slice(1);this.events[i]&&this.events[i].forEach(function(a){try{a.apply(null,n)}catch{}})};var ve=function(e){e.pix=e.pixelRatio?e.pixelRatio:1,e.fontSize=e.fontSize?e.fontSize:13,e.fontColor=e.fontColor?e.fontColor:Zt.fontColor,(e.background==""||e.background=="none")&&(e.background="#FFFFFF"),e.title=W({},e.title),e.subtitle=W({},e.subtitle),e.duration=e.duration?e.duration:1e3,e.yAxis=W({},{data:[],showTitle:!1,disabled:!1,disableGrid:!1,gridSet:"number",splitNumber:5,gridType:"solid",dashLength:4*e.pix,gridColor:"#cccccc",padding:10,fontColor:"#666666"},e.yAxis),e.xAxis=W({},{rotateLabel:!1,rotateAngle:45,disabled:!1,disableGrid:!1,splitNumber:5,calibration:!1,fontColor:"#666666",fontSize:13,lineHeight:20,marginTop:0,gridType:"solid",dashLength:4,scrollAlign:"left",boundaryGap:"center",axisLine:!0,axisLineColor:"#cccccc",titleFontSize:13,titleOffsetY:0,titleOffsetX:0,titleFontColor:"#666666"},e.xAxis),e.xAxis.scrollPosition=e.xAxis.scrollAlign,e.legend=W({},{show:!0,position:"bottom",float:"center",backgroundColor:"rgba(0,0,0,0)",borderColor:"rgba(0,0,0,0)",borderWidth:0,padding:5,margin:5,itemGap:10,fontSize:e.fontSize,lineHeight:e.fontSize,fontColor:e.fontColor,formatter:{},hiddenColor:"#CECECE"},e.legend),e.extra=W({tooltip:{legendShape:"auto"}},e.extra),e.rotate=!!e.rotate,e.animation=!!e.animation,e.rotate=!!e.rotate,e.canvas2d=!!e.canvas2d;let r=W({},Zt);if(r.color=e.color?e.color:r.color,e.type=="pie"&&(r.pieChartLinePadding=e.dataLabel===!1?0:e.extra.pie.labelWidth*e.pix||r.pieChartLinePadding*e.pix),e.type=="ring"&&(r.pieChartLinePadding=e.dataLabel===!1?0:e.extra.ring.labelWidth*e.pix||r.pieChartLinePadding*e.pix),e.type=="rose"&&(r.pieChartLinePadding=e.dataLabel===!1?0:e.extra.rose.labelWidth*e.pix||r.pieChartLinePadding*e.pix),r.pieChartTextPadding=e.dataLabel===!1?0:r.pieChartTextPadding*e.pix,r.rotate=e.rotate,e.rotate){let i=e.width,n=e.height;e.width=n,e.height=i}if(e.padding=e.padding?e.padding:r.padding,r.yAxisWidth=Zt.yAxisWidth*e.pix,r.fontSize=e.fontSize*e.pix,r.titleFontSize=Zt.titleFontSize*e.pix,r.subtitleFontSize=Zt.subtitleFontSize*e.pix,!e.context)throw new Error("[uCharts] 未获取到context！注意：v2.0版本后，需要自行获取canvas的绘图上下文并传入opts.context！");this.context=e.context,this.context.setTextAlign||(this.context.setStrokeStyle=function(i){return this.strokeStyle=i},this.context.setLineWidth=function(i){return this.lineWidth=i},this.context.setLineCap=function(i){return this.lineCap=i},this.context.setFontSize=function(i){return this.font=i+"px sans-serif"},this.context.setFillStyle=function(i){return this.fillStyle=i},this.context.setTextAlign=function(i){return this.textAlign=i},this.context.setTextBaseline=function(i){return this.textBaseline=i},this.context.setShadow=function(i,n,a,o){this.shadowColor=o,this.shadowOffsetX=i,this.shadowOffsetY=n,this.shadowBlur=a},this.context.draw=function(){}),this.context.setLineDash||(this.context.setLineDash=function(i){}),e.chartData={},this.uevent=new Ar,this.scrollOption={currentOffset:0,startTouchX:0,distance:0,lastMoveTime:0},this.opts=e,this.config=r,fe.call(this,e.type,e,r,this.context)};ve.prototype.updateData=function(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(this.opts=W({},this.opts,t),this.opts.updateData=!0,t.scrollPosition||"current"){case"current":this.opts._scrollDistance_=this.scrollOption.currentOffset;break;case"left":this.opts._scrollDistance_=0,this.scrollOption={currentOffset:0,startTouchX:0,distance:0,lastMoveTime:0};break;case"right":let r=ya(this.opts.series,this.opts,this.config,this.context),i=r.yAxisWidth;this.config.yAxisWidth=i;let n=0,a=Pi(this.opts.categories,this.opts,this.config),o=a.xAxisPoints,s=a.startX,l=a.endX,u=a.eachSpacing*(o.length-1);n=l-s-u,this.scrollOption={currentOffset:n,startTouchX:n,distance:0,lastMoveTime:0},this.opts._scrollDistance_=n;break}fe.call(this,this.opts.type,this.opts,this.config,this.context)};ve.prototype.zoom=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.opts.xAxis.itemCount;if(this.opts.enableScroll!==!0){console.log("[uCharts] 请启用滚动条后使用");return}let e=Math.round(Math.abs(this.scrollOption.currentOffset)/this.opts.chartData.eachSpacing)+Math.round(this.opts.xAxis.itemCount/2);this.opts.animation=!1,this.opts.xAxis.itemCount=t.itemCount;let r=ya(this.opts.series,this.opts,this.config,this.context),i=r.yAxisWidth;this.config.yAxisWidth=i;let n=0,a=Pi(this.opts.categories,this.opts,this.config),o=a.xAxisPoints,s=a.startX,l=a.endX,c=a.eachSpacing,u=c*e,f=l-s,h=f-c*(o.length-1);n=f/2-u,n>0&&(n=0),n<h&&(n=h),this.scrollOption={currentOffset:n,startTouchX:0,distance:0,lastMoveTime:0},ga(this,n,this.opts.chartData,this.config,this.opts),this.opts._scrollDistance_=n,fe.call(this,this.opts.type,this.opts,this.config,this.context)};ve.prototype.dobuleZoom=function(t){if(this.opts.enableScroll!==!0){console.log("[uCharts] 请启用滚动条后使用");return}const e=t.changedTouches;if(e.length<2)return;for(var r=0;r<e.length;r++)e[r].x=e[r].x?e[r].x:e[r].clientX,e[r].y=e[r].y?e[r].y:e[r].clientY;const i=[ut(e[0],this.opts,t),ut(e[1],this.opts,t)],n=Math.abs(i[0].x-i[1].x);if(!this.scrollOption.moveCount){let g={changedTouches:[{x:e[0].x,y:this.opts.area[0]/this.opts.pix+2}]},v={changedTouches:[{x:e[1].x,y:this.opts.area[0]/this.opts.pix+2}]};this.opts.rotate&&(g={changedTouches:[{x:this.opts.height/this.opts.pix-this.opts.area[0]/this.opts.pix-2,y:e[0].y}]},v={changedTouches:[{x:this.opts.height/this.opts.pix-this.opts.area[0]/this.opts.pix-2,y:e[1].y}]});const y=this.getCurrentDataIndex(g).index,x=this.getCurrentDataIndex(v).index,b=Math.abs(y-x);this.scrollOption.moveCount=b,this.scrollOption.moveCurrent1=Math.min(y,x),this.scrollOption.moveCurrent2=Math.max(y,x);return}let a=n/this.scrollOption.moveCount,o=(this.opts.width-this.opts.area[1]-this.opts.area[3])/a;o=o<=2?2:o,o=o>=this.opts.categories.length?this.opts.categories.length:o,this.opts.animation=!1,this.opts.xAxis.itemCount=o;let s=0,l=Pi(this.opts.categories,this.opts,this.config),c=l.xAxisPoints,u=l.startX,f=l.endX,h=l.eachSpacing,d=h*this.scrollOption.moveCurrent1,p=f-u-h*(c.length-1);s=-d+Math.min(i[0].x,i[1].x)-this.opts.area[3]-h,s>0&&(s=0),s<p&&(s=p),this.scrollOption.currentOffset=s,this.scrollOption.startTouchX=0,this.scrollOption.distance=0,ga(this,s,this.opts.chartData,this.config,this.opts),this.opts._scrollDistance_=s,fe.call(this,this.opts.type,this.opts,this.config,this.context)};ve.prototype.stopAnimation=function(){this.animationInstance&&this.animationInstance.stop()};ve.prototype.addEventListener=function(t,e){this.uevent.addEventListener(t,e)};ve.prototype.delEventListener=function(t){this.uevent.delEventListener(t)};ve.prototype.getCurrentDataIndex=function(t){var e=null;if(t.changedTouches?e=t.changedTouches[0]:e=t.mp.changedTouches[0],e){let r=ut(e,this.opts,t);return this.opts.type==="pie"||this.opts.type==="ring"?Dy({x:r.x,y:r.y},this.opts.chartData.pieData,this.opts):this.opts.type==="rose"?Oy({x:r.x,y:r.y},this.opts.chartData.pieData,this.opts):this.opts.type==="radar"?Cy({x:r.x,y:r.y},this.opts.chartData.radarData,this.opts.categories.length):this.opts.type==="funnel"?Iy({x:r.x,y:r.y},this.opts.chartData.funnelData):this.opts.type==="map"?Ly({x:r.x,y:r.y},this.opts):this.opts.type==="word"?ky({x:r.x,y:r.y},this.opts.chartData.wordCloudData):this.opts.type==="bar"?Py({x:r.x,y:r.y},this.opts.chartData.calPoints,this.opts,this.config,Math.abs(this.scrollOption.currentOffset)):Sy({x:r.x,y:r.y},this.opts.chartData.calPoints,this.opts,this.config,Math.abs(this.scrollOption.currentOffset))}return-1};ve.prototype.getLegendDataIndex=function(t){var e=null;if(t.changedTouches?e=t.changedTouches[0]:e=t.mp.changedTouches[0],e){let r=ut(e,this.opts,t);return Ay({x:r.x,y:r.y},this.opts.chartData.legendData)}return-1};ve.prototype.touchLegend=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=null;if(t.changedTouches?r=t.changedTouches[0]:r=t.mp.changedTouches[0],r){ut(r,this.opts,t);var i=this.getLegendDataIndex(t);i>=0&&(this.opts.type=="candle"?this.opts.seriesMA[i].show=!this.opts.seriesMA[i].show:this.opts.series[i].show=!this.opts.series[i].show,this.opts.animation=!!e.animation,this.opts._scrollDistance_=this.scrollOption.currentOffset,fe.call(this,this.opts.type,this.opts,this.config,this.context))}};ve.prototype.showToolTip=function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=null;t.changedTouches?r=t.changedTouches[0]:r=t.mp.changedTouches[0],r||console.log("[uCharts] 未获取到event坐标信息");var i=ut(r,this.opts,t),n=this.scrollOption.currentOffset,a=W({},this.opts,{_scrollDistance_:n,animation:!1});if(this.opts.type==="line"||this.opts.type==="area"||this.opts.type==="column"||this.opts.type==="scatter"||this.opts.type==="bubble"){var o=this.getCurrentDataIndex(t),s=e.index==null?o.index:e.index;if(s>-1||s.length>0){var l=ei(this.opts.series,s,o.group);if(l.length!==0){var c=Ao(l,this.opts,s,o.group,this.opts.categories,e),u=c.textList,f=c.offset;f.y=i.y,a.tooltip={textList:e.textList!==void 0?e.textList:u,offset:e.offset!==void 0?e.offset:f,option:e,index:s,group:o.group}}}fe.call(this,a.type,a,this.config,this.context)}if(this.opts.type==="mount"){var s=e.index==null?this.getCurrentDataIndex(t).index:e.index;if(s>-1){var a=W({},this.opts,{animation:!1}),l=W({},a._series_[s]),u=[{text:e.formatter?e.formatter(l,void 0,s,a):l.name+": "+l.data,color:l.color,legendShape:this.opts.extra.tooltip.legendShape=="auto"?l.legendShape:this.opts.extra.tooltip.legendShape}],f={x:a.chartData.calPoints[s].x,y:i.y};a.tooltip={textList:e.textList?e.textList:u,offset:e.offset!==void 0?e.offset:f,option:e,index:s}}fe.call(this,a.type,a,this.config,this.context)}if(this.opts.type==="bar"){var o=this.getCurrentDataIndex(t),s=e.index==null?o.index:e.index;if(s>-1||s.length>0){var l=ei(this.opts.series,s,o.group);if(l.length!==0){var c=Ao(l,this.opts,s,o.group,this.opts.categories,e),u=c.textList,f=c.offset;f.x=i.x,a.tooltip={textList:e.textList!==void 0?e.textList:u,offset:e.offset!==void 0?e.offset:f,option:e,index:s}}}fe.call(this,a.type,a,this.config,this.context)}if(this.opts.type==="mix"){var o=this.getCurrentDataIndex(t),s=e.index==null?o.index:e.index;if(s>-1){var n=this.scrollOption.currentOffset,a=W({},this.opts,{_scrollDistance_:n,animation:!1}),l=ei(this.opts.series,s);if(l.length!==0){var h=by(l,this.opts,s,this.opts.categories,e),u=h.textList,f=h.offset;f.y=i.y,a.tooltip={textList:e.textList?e.textList:u,offset:e.offset!==void 0?e.offset:f,option:e,index:s}}}fe.call(this,a.type,a,this.config,this.context)}if(this.opts.type==="candle"){var o=this.getCurrentDataIndex(t),s=e.index==null?o.index:e.index;if(s>-1){var n=this.scrollOption.currentOffset,a=W({},this.opts,{_scrollDistance_:n,animation:!1}),l=ei(this.opts.series,s);if(l.length!==0){var c=wy(this.opts.series[0].data,l,this.opts,s,this.opts.categories,this.opts.extra.candle),u=c.textList,f=c.offset;f.y=i.y,a.tooltip={textList:e.textList?e.textList:u,offset:e.offset!==void 0?e.offset:f,option:e,index:s}}}fe.call(this,a.type,a,this.config,this.context)}if(this.opts.type==="pie"||this.opts.type==="ring"||this.opts.type==="rose"||this.opts.type==="funnel"){var s=e.index==null?this.getCurrentDataIndex(t):e.index;if(s>-1){var a=W({},this.opts,{animation:!1}),l=W({},a._series_[s]),u=[{text:e.formatter?e.formatter(l,void 0,s,a):l.name+": "+l.data,color:l.color,legendShape:this.opts.extra.tooltip.legendShape=="auto"?l.legendShape:this.opts.extra.tooltip.legendShape}],f={x:i.x,y:i.y};a.tooltip={textList:e.textList?e.textList:u,offset:e.offset!==void 0?e.offset:f,option:e,index:s}}fe.call(this,a.type,a,this.config,this.context)}if(this.opts.type==="map"){var s=e.index==null?this.getCurrentDataIndex(t):e.index;if(s>-1){var a=W({},this.opts,{animation:!1}),l=W({},this.opts.series[s]);l.name=l.properties.name;var u=[{text:e.formatter?e.formatter(l,void 0,s,this.opts):l.name,color:l.color,legendShape:this.opts.extra.tooltip.legendShape=="auto"?l.legendShape:this.opts.extra.tooltip.legendShape}],f={x:i.x,y:i.y};a.tooltip={textList:e.textList?e.textList:u,offset:e.offset!==void 0?e.offset:f,option:e,index:s}}a.updateData=!1,fe.call(this,a.type,a,this.config,this.context)}if(this.opts.type==="word"){var s=e.index==null?this.getCurrentDataIndex(t):e.index;if(s>-1){var a=W({},this.opts,{animation:!1}),l=W({},this.opts.series[s]),u=[{text:e.formatter?e.formatter(l,void 0,s,this.opts):l.name,color:l.color,legendShape:this.opts.extra.tooltip.legendShape=="auto"?l.legendShape:this.opts.extra.tooltip.legendShape}],f={x:i.x,y:i.y};a.tooltip={textList:e.textList?e.textList:u,offset:e.offset!==void 0?e.offset:f,option:e,index:s}}a.updateData=!1,fe.call(this,a.type,a,this.config,this.context)}if(this.opts.type==="radar"){var s=e.index==null?this.getCurrentDataIndex(t):e.index;if(s>-1){var a=W({},this.opts,{animation:!1}),l=ei(this.opts.series,s);if(l.length!==0){var u=l.map(y=>({text:e.formatter?e.formatter(y,this.opts.categories[s],s,this.opts):y.name+": "+y.data,color:y.color,legendShape:this.opts.extra.tooltip.legendShape=="auto"?y.legendShape:this.opts.extra.tooltip.legendShape})),f={x:i.x,y:i.y};a.tooltip={textList:e.textList?e.textList:u,offset:e.offset!==void 0?e.offset:f,option:e,index:s}}}fe.call(this,a.type,a,this.config,this.context)}};ve.prototype.translate=function(t){this.scrollOption={currentOffset:t,startTouchX:t,distance:0,lastMoveTime:0};let e=W({},this.opts,{_scrollDistance_:t,animation:!1});fe.call(this,this.opts.type,e,this.config,this.context)};ve.prototype.scrollStart=function(t){var e=null;t.changedTouches?e=t.changedTouches[0]:e=t.mp.changedTouches[0];var r=ut(e,this.opts,t);e&&this.opts.enableScroll===!0&&(this.scrollOption.startTouchX=r.x)};ve.prototype.scroll=function(t){this.scrollOption.lastMoveTime===0&&(this.scrollOption.lastMoveTime=Date.now());let e=this.opts.touchMoveLimit||60,r=Date.now();if(!(r-this.scrollOption.lastMoveTime<Math.floor(1e3/e))&&this.scrollOption.startTouchX!=0){this.scrollOption.lastMoveTime=r;var n=null;if(t.changedTouches?n=t.changedTouches[0]:n=t.mp.changedTouches[0],n&&this.opts.enableScroll===!0){var a=ut(n,this.opts,t),o;o=a.x-this.scrollOption.startTouchX;var s=this.scrollOption.currentOffset,l=ga(this,s+o,this.opts.chartData,this.config,this.opts);this.scrollOption.distance=o=l-s;var c=W({},this.opts,{_scrollDistance_:s+o,animation:!1});return this.opts=c,fe.call(this,c.type,c,this.config,this.context),s+o}}};ve.prototype.scrollEnd=function(t){if(this.opts.enableScroll===!0){var e=this.scrollOption,r=e.currentOffset,i=e.distance;this.scrollOption.currentOffset=r+i,this.scrollOption.distance=0,this.scrollOption.moveCount=0}};const Iv=[{path:"pages/teammateHall/teammateHall",style:{navigationBarTitleText:"组队大厅"}},{path:"pages/seminarRoom/seminarRoom",style:{navigationBarTitleText:"研讨室",enablePullDownRefresh:!1}},{path:"pages/home/home",style:{navigationBarTitleText:"个人中心",enablePullDownRefresh:!1}},{path:"components/teamInfo/teamInfo",style:{navigationBarTitleText:"组件测试",enablePullDownRefresh:!1}},{path:"pages/chatRoom/chatRoom",style:{navigationBarTitleText:"研讨室",enablePullDownRefresh:!1}},{path:"pages/makeTeam/makeTeam",style:{navigationBarTitleText:"发布组队",enablePullDownRefresh:!1}},{path:"pages/searchDetail/searchDetail",style:{navigationBarTitleText:"搜索组队",enablePullDownRefresh:!1}},{path:"pages/moreDetail/moreDetail",style:{navigationBarTitleText:"更多组队",enablePullDownRefresh:!1}},{path:"pages/connect/connect",style:{navigationBarTitleText:"联系方式",enablePullDownRefresh:!1}},{path:"pages/newsCenter/newsCenter",style:{navigationBarTitleText:"信息中心",enablePullDownRefresh:!1}},{path:"pages/teamDetail/teamDetail",style:{navigationBarTitleText:"组队详情",enablePullDownRefresh:!1}},{path:"pages/inviteMate/inviteMate",style:{navigationBarTitleText:"邀请组队",enablePullDownRefresh:!1}},{path:"pages/test/test",style:{navigationBarTitleText:"",enablePullDownRefresh:!1}},{path:"pages/fakedetail/fakedetail",style:{navigationBarTitleText:"组队详情",enablePullDownRefresh:!1}},{path:"pages/editProfile/editProfile",style:{navigationBarTitleText:"编辑名片",enablePullDownRefresh:!1}},{path:"pages/ai/ai",style:{navigationBarTitleText:"",enablePullDownRefresh:!1}},{path:"pages/userRating/userRating",text:"评价"}],kv={navigationBarTextStyle:"black",navigationBarTitleText:"Teammate",navigationBarBackgroundColor:"#fff",backgroundColor:"#F8F8F8",usingComponents:{"van-popup":"/wxcomponents/dist/popup/index","van-button":"/wxcomponents/dist/button/index","van-cell":"/wxcomponents/dist/cell/index","van-notice-bar":"/wxcomponents/dist/notice-bar/index","van-dropdown-menu":"/wxcomponents/dist/dropdown-menu/index","van-dropdown-item":"/wxcomponents/dist/dropdown-item/index","van-switch":"/wxcomponents/dist/switch/index","van-dialog":"/wxcomponents/dist/dialog/index","van-field":"/wxcomponents/dist/field/index"}},Lv={},Ov={color:"#7600FF",selectedColor:"#D43030",list:[{pagePath:"pages/teammateHall/teammateHall",text:"组队大厅",iconPath:"./static/images/search.png",selectedIconPath:"./static/images/opt-search.png"},{pagePath:"pages/seminarRoom/seminarRoom",text:"研讨室",iconPath:"./static/images/comment.png",selectedIconPath:"./static/images/opt-comment.png"},{pagePath:"pages/home/home",text:"个人中心",iconPath:"./static/images/Home.png",selectedIconPath:"./static/images/opt-Home.png"}]},Dv={autoscan:!0,custom:{"qiun-data-charts":"qiun-data-charts"}},Dc={pages:Iv,globalStyle:kv,uniIdRouter:Lv,tabBar:Ov,easycom:Dv};var Mv=[];function Ev(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function De(t,e,r){return t(r={path:e,exports:{},require:function(i,n){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(n==null&&r.path)}},r.exports),r.exports}var Rv=De(function(t,e){var r;t.exports=(r=r||function(i,n){var a=Object.create||function(){function g(){}return function(v){var y;return g.prototype=v,y=new g,g.prototype=null,y}}(),o={},s=o.lib={},l=s.Base={extend:function(g){var v=a(this);return g&&v.mixIn(g),v.hasOwnProperty("init")&&this.init!==v.init||(v.init=function(){v.$super.init.apply(this,arguments)}),v.init.prototype=v,v.$super=this,v},create:function(){var g=this.extend();return g.init.apply(g,arguments),g},init:function(){},mixIn:function(g){for(var v in g)g.hasOwnProperty(v)&&(this[v]=g[v]);g.hasOwnProperty("toString")&&(this.toString=g.toString)},clone:function(){return this.init.prototype.extend(this)}},c=s.WordArray=l.extend({init:function(g,v){g=this.words=g||[],this.sigBytes=v!=n?v:4*g.length},toString:function(g){return(g||f).stringify(this)},concat:function(g){var v=this.words,y=g.words,x=this.sigBytes,b=g.sigBytes;if(this.clamp(),x%4)for(var P=0;P<b;P++){var _=y[P>>>2]>>>24-P%4*8&255;v[x+P>>>2]|=_<<24-(x+P)%4*8}else for(P=0;P<b;P+=4)v[x+P>>>2]=y[P>>>2];return this.sigBytes+=b,this},clamp:function(){var g=this.words,v=this.sigBytes;g[v>>>2]&=4294967295<<32-v%4*8,g.length=i.ceil(v/4)},clone:function(){var g=l.clone.call(this);return g.words=this.words.slice(0),g},random:function(g){for(var v,y=[],x=function(_){_=_;var S=987654321,w=4294967295;return function(){var T=((S=36969*(65535&S)+(S>>16)&w)<<16)+(_=18e3*(65535&_)+(_>>16)&w)&w;return T/=4294967296,(T+=.5)*(i.random()>.5?1:-1)}},b=0;b<g;b+=4){var P=x(4294967296*(v||i.random()));v=987654071*P(),y.push(4294967296*P()|0)}return new c.init(y,g)}}),u=o.enc={},f=u.Hex={stringify:function(g){for(var v=g.words,y=g.sigBytes,x=[],b=0;b<y;b++){var P=v[b>>>2]>>>24-b%4*8&255;x.push((P>>>4).toString(16)),x.push((15&P).toString(16))}return x.join("")},parse:function(g){for(var v=g.length,y=[],x=0;x<v;x+=2)y[x>>>3]|=parseInt(g.substr(x,2),16)<<24-x%8*4;return new c.init(y,v/2)}},h=u.Latin1={stringify:function(g){for(var v=g.words,y=g.sigBytes,x=[],b=0;b<y;b++){var P=v[b>>>2]>>>24-b%4*8&255;x.push(String.fromCharCode(P))}return x.join("")},parse:function(g){for(var v=g.length,y=[],x=0;x<v;x++)y[x>>>2]|=(255&g.charCodeAt(x))<<24-x%4*8;return new c.init(y,v)}},d=u.Utf8={stringify:function(g){try{return decodeURIComponent(escape(h.stringify(g)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(g){return h.parse(unescape(encodeURIComponent(g)))}},m=s.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(g){typeof g=="string"&&(g=d.parse(g)),this._data.concat(g),this._nDataBytes+=g.sigBytes},_process:function(g){var v=this._data,y=v.words,x=v.sigBytes,b=this.blockSize,P=x/(4*b),_=(P=g?i.ceil(P):i.max((0|P)-this._minBufferSize,0))*b,S=i.min(4*_,x);if(_){for(var w=0;w<_;w+=b)this._doProcessBlock(y,w);var T=y.splice(0,_);v.sigBytes-=S}return new c.init(T,S)},clone:function(){var g=l.clone.call(this);return g._data=this._data.clone(),g},_minBufferSize:0});s.Hasher=m.extend({cfg:l.extend(),init:function(g){this.cfg=this.cfg.extend(g),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(g){return this._append(g),this._process(),this},finalize:function(g){return g&&this._append(g),this._doFinalize()},blockSize:16,_createHelper:function(g){return function(v,y){return new g.init(y).finalize(v)}},_createHmacHelper:function(g){return function(v,y){return new p.HMAC.init(g,y).finalize(v)}}});var p=o.algo={};return o}(Math),r)}),ot=Rv,Fv=(De(function(t,e){var r;t.exports=(r=ot,function(i){var n=r,a=n.lib,o=a.WordArray,s=a.Hasher,l=n.algo,c=[];(function(){for(var p=0;p<64;p++)c[p]=4294967296*i.abs(i.sin(p+1))|0})();var u=l.MD5=s.extend({_doReset:function(){this._hash=new o.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(p,g){for(var v=0;v<16;v++){var y=g+v,x=p[y];p[y]=16711935&(x<<8|x>>>24)|4278255360&(x<<24|x>>>8)}var b=this._hash.words,P=p[g+0],_=p[g+1],S=p[g+2],w=p[g+3],T=p[g+4],E=p[g+5],L=p[g+6],M=p[g+7],j=p[g+8],R=p[g+9],V=p[g+10],q=p[g+11],D=p[g+12],$=p[g+13],z=p[g+14],K=p[g+15],C=b[0],A=b[1],I=b[2],k=b[3];C=f(C,A,I,k,P,7,c[0]),k=f(k,C,A,I,_,12,c[1]),I=f(I,k,C,A,S,17,c[2]),A=f(A,I,k,C,w,22,c[3]),C=f(C,A,I,k,T,7,c[4]),k=f(k,C,A,I,E,12,c[5]),I=f(I,k,C,A,L,17,c[6]),A=f(A,I,k,C,M,22,c[7]),C=f(C,A,I,k,j,7,c[8]),k=f(k,C,A,I,R,12,c[9]),I=f(I,k,C,A,V,17,c[10]),A=f(A,I,k,C,q,22,c[11]),C=f(C,A,I,k,D,7,c[12]),k=f(k,C,A,I,$,12,c[13]),I=f(I,k,C,A,z,17,c[14]),C=h(C,A=f(A,I,k,C,K,22,c[15]),I,k,_,5,c[16]),k=h(k,C,A,I,L,9,c[17]),I=h(I,k,C,A,q,14,c[18]),A=h(A,I,k,C,P,20,c[19]),C=h(C,A,I,k,E,5,c[20]),k=h(k,C,A,I,V,9,c[21]),I=h(I,k,C,A,K,14,c[22]),A=h(A,I,k,C,T,20,c[23]),C=h(C,A,I,k,R,5,c[24]),k=h(k,C,A,I,z,9,c[25]),I=h(I,k,C,A,w,14,c[26]),A=h(A,I,k,C,j,20,c[27]),C=h(C,A,I,k,$,5,c[28]),k=h(k,C,A,I,S,9,c[29]),I=h(I,k,C,A,M,14,c[30]),C=d(C,A=h(A,I,k,C,D,20,c[31]),I,k,E,4,c[32]),k=d(k,C,A,I,j,11,c[33]),I=d(I,k,C,A,q,16,c[34]),A=d(A,I,k,C,z,23,c[35]),C=d(C,A,I,k,_,4,c[36]),k=d(k,C,A,I,T,11,c[37]),I=d(I,k,C,A,M,16,c[38]),A=d(A,I,k,C,V,23,c[39]),C=d(C,A,I,k,$,4,c[40]),k=d(k,C,A,I,P,11,c[41]),I=d(I,k,C,A,w,16,c[42]),A=d(A,I,k,C,L,23,c[43]),C=d(C,A,I,k,R,4,c[44]),k=d(k,C,A,I,D,11,c[45]),I=d(I,k,C,A,K,16,c[46]),C=m(C,A=d(A,I,k,C,S,23,c[47]),I,k,P,6,c[48]),k=m(k,C,A,I,M,10,c[49]),I=m(I,k,C,A,z,15,c[50]),A=m(A,I,k,C,E,21,c[51]),C=m(C,A,I,k,D,6,c[52]),k=m(k,C,A,I,w,10,c[53]),I=m(I,k,C,A,V,15,c[54]),A=m(A,I,k,C,_,21,c[55]),C=m(C,A,I,k,j,6,c[56]),k=m(k,C,A,I,K,10,c[57]),I=m(I,k,C,A,L,15,c[58]),A=m(A,I,k,C,$,21,c[59]),C=m(C,A,I,k,T,6,c[60]),k=m(k,C,A,I,q,10,c[61]),I=m(I,k,C,A,S,15,c[62]),A=m(A,I,k,C,R,21,c[63]),b[0]=b[0]+C|0,b[1]=b[1]+A|0,b[2]=b[2]+I|0,b[3]=b[3]+k|0},_doFinalize:function(){var p=this._data,g=p.words,v=8*this._nDataBytes,y=8*p.sigBytes;g[y>>>5]|=128<<24-y%32;var x=i.floor(v/4294967296),b=v;g[15+(y+64>>>9<<4)]=16711935&(x<<8|x>>>24)|4278255360&(x<<24|x>>>8),g[14+(y+64>>>9<<4)]=16711935&(b<<8|b>>>24)|4278255360&(b<<24|b>>>8),p.sigBytes=4*(g.length+1),this._process();for(var P=this._hash,_=P.words,S=0;S<4;S++){var w=_[S];_[S]=16711935&(w<<8|w>>>24)|4278255360&(w<<24|w>>>8)}return P},clone:function(){var p=s.clone.call(this);return p._hash=this._hash.clone(),p}});function f(p,g,v,y,x,b,P){var _=p+(g&v|~g&y)+x+P;return(_<<b|_>>>32-b)+g}function h(p,g,v,y,x,b,P){var _=p+(g&y|v&~y)+x+P;return(_<<b|_>>>32-b)+g}function d(p,g,v,y,x,b,P){var _=p+(g^v^y)+x+P;return(_<<b|_>>>32-b)+g}function m(p,g,v,y,x,b,P){var _=p+(v^(g|~y))+x+P;return(_<<b|_>>>32-b)+g}n.MD5=s._createHelper(u),n.HmacMD5=s._createHmacHelper(u)}(Math),r.MD5)}),De(function(t,e){var r;t.exports=(r=ot,void function(){var i=r,n=i.lib.Base,a=i.enc.Utf8;i.algo.HMAC=n.extend({init:function(o,s){o=this._hasher=new o.init,typeof s=="string"&&(s=a.parse(s));var l=o.blockSize,c=4*l;s.sigBytes>c&&(s=o.finalize(s)),s.clamp();for(var u=this._oKey=s.clone(),f=this._iKey=s.clone(),h=u.words,d=f.words,m=0;m<l;m++)h[m]^=1549556828,d[m]^=909522486;u.sigBytes=f.sigBytes=c,this.reset()},reset:function(){var o=this._hasher;o.reset(),o.update(this._iKey)},update:function(o){return this._hasher.update(o),this},finalize:function(o){var s=this._hasher,l=s.finalize(o);return s.reset(),s.finalize(this._oKey.clone().concat(l))}})}())}),De(function(t,e){t.exports=ot.HmacMD5})),$v=De(function(t,e){t.exports=ot.enc.Utf8}),Nv=De(function(t,e){var r;t.exports=(r=ot,function(){var i=r,n=i.lib.WordArray;function a(o,s,l){for(var c=[],u=0,f=0;f<s;f++)if(f%4){var h=l[o.charCodeAt(f-1)]<<f%4*2,d=l[o.charCodeAt(f)]>>>6-f%4*2;c[u>>>2]|=(h|d)<<24-u%4*8,u++}return n.create(c,u)}i.enc.Base64={stringify:function(o){var s=o.words,l=o.sigBytes,c=this._map;o.clamp();for(var u=[],f=0;f<l;f+=3)for(var h=(s[f>>>2]>>>24-f%4*8&255)<<16|(s[f+1>>>2]>>>24-(f+1)%4*8&255)<<8|s[f+2>>>2]>>>24-(f+2)%4*8&255,d=0;d<4&&f+.75*d<l;d++)u.push(c.charAt(h>>>6*(3-d)&63));var m=c.charAt(64);if(m)for(;u.length%4;)u.push(m);return u.join("")},parse:function(o){var s=o.length,l=this._map,c=this._reverseMap;if(!c){c=this._reverseMap=[];for(var u=0;u<l.length;u++)c[l.charCodeAt(u)]=u}var f=l.charAt(64);if(f){var h=o.indexOf(f);h!==-1&&(s=h)}return a(o,s,c)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),r.enc.Base64)});const Ro="FUNCTION",Bv="OBJECT",Uv="CLIENT_DB",Fo="pending",Hv="fulfilled",$o="rejected";function yi(t){return Object.prototype.toString.call(t).slice(8,-1).toLowerCase()}function Mc(t){return yi(t)==="object"}function Ec(t){return typeof t=="function"}function Wv(t){return function(){try{return t.apply(t,arguments)}catch(e){console.error(e)}}}const No="REJECTED",Rc="NOT_PENDING";class xa{constructor({createPromise:e,retryRule:r=No}={}){this.createPromise=e,this.status=null,this.promise=null,this.retryRule=r}get needRetry(){if(!this.status)return!0;switch(this.retryRule){case No:return this.status===$o;case Rc:return this.status!==Fo}}exec(){return this.needRetry?(this.status=Fo,this.promise=this.createPromise().then(e=>(this.status=Hv,Promise.resolve(e)),e=>(this.status=$o,Promise.reject(e))),this.promise):this.promise}}function _a(t){return t&&typeof t=="string"?JSON.parse(t):t}const jv=!0,zv="mp-weixin",qv=_a(Mv),zt=zv,Vv=_a(""),Fc=_a("[]")||[];let Kv="";try{Kv="__UNI__1B84B3D"}catch{}let Wr={};function qt(t,e={}){var r,i;return r=Wr,i=t,Object.prototype.hasOwnProperty.call(r,i)||(Wr[t]=e),Wr[t]}const $c=["invoke","success","fail","complete"],Le=qt("_globalUniCloudInterceptor");function Nc(t,e){Le[t]||(Le[t]={}),Mc(e)&&Object.keys(e).forEach(r=>{$c.indexOf(r)>-1&&function(i,n,a){let o=Le[i][n];o||(o=Le[i][n]=[]),o.indexOf(a)===-1&&Ec(a)&&o.push(a)}(t,r,e[r])})}function Gv(t,e){Le[t]||(Le[t]={}),Mc(e)?Object.keys(e).forEach(r=>{$c.indexOf(r)>-1&&function(i,n,a){const o=Le[i][n];if(!o)return;const s=o.indexOf(a);s>-1&&o.splice(s,1)}(t,r,e[r])}):delete Le[t]}function xe(t,e){return t&&t.length!==0?t.reduce((r,i)=>r.then(()=>i(e)),Promise.resolve()):Promise.resolve()}function _e(t,e){return Le[t]&&Le[t][e]||[]}function Jv(t){Nc("callObject",t)}const jr=qt("_globalUniCloudListener"),Oe="response",Vt="needLogin",sr="refreshToken",Bo="clientdb",Fi="cloudfunction",Uo="cloudobject";function Ai(t){return jr[t]||(jr[t]=[]),jr[t]}function zr(t,e){const r=Ai(t);r.includes(e)||r.push(e)}function qr(t,e){const r=Ai(t),i=r.indexOf(e);i!==-1&&r.splice(i,1)}function we(t,e){const r=Ai(t);for(let i=0;i<r.length;i++)(0,r[i])(e)}let Vr,Kr=!1;function Bc(){return Vr||(Vr=new Promise(t=>{Kr&&t(),function e(){if(typeof getCurrentPages=="function"){const r=getCurrentPages();r&&r[0]&&(Kr=!0,t())}Kr||setTimeout(()=>{e()},30)}()}),Vr)}function Uc(t){const e={};for(const r in t){const i=t[r];Ec(i)&&(e[r]=Wv(i))}return e}class N extends Error{constructor(e){super(e.message),this.errMsg=e.message||e.errMsg||"unknown system error",this.code=this.errCode=e.code||e.errCode||"SYSTEM_ERROR",this.errSubject=this.subject=e.subject||e.errSubject,this.cause=e.cause,this.requestId=e.requestId}toJson(e=0){if(!(e>=10))return e++,{errCode:this.errCode,errMsg:this.errMsg,errSubject:this.errSubject,cause:this.cause&&this.cause.toJson?this.cause.toJson(e):this.cause}}}var se={request:t=>J.request(t),uploadFile:t=>J.uploadFile(t),setStorageSync:(t,e)=>J.setStorageSync(t,e),getStorageSync:t=>J.getStorageSync(t),removeStorageSync:t=>J.removeStorageSync(t),clearStorageSync:()=>J.clearStorageSync(),connectSocket:t=>J.connectSocket(t)};function Hc(t){return t&&Hc(t.__v_raw)||t}function Tr(){return{token:se.getStorageSync("uni_id_token")||se.getStorageSync("uniIdToken"),tokenExpired:se.getStorageSync("uni_id_token_expired")}}function Wc({token:t,tokenExpired:e}={}){t&&se.setStorageSync("uni_id_token",t),e&&se.setStorageSync("uni_id_token_expired",e)}let Gr,$i;function jc(){return Gr||(Gr=J.getSystemInfoSync()),Gr}function Xv(){let t,e;try{if(J.getLaunchOptionsSync){if(J.getLaunchOptionsSync.toString().indexOf("not yet implemented")>-1)return;const{scene:r,channel:i}=J.getLaunchOptionsSync();t=i,e=r}}catch{}return{channel:t,scene:e}}let kn={};function zc(){const t=J.getLocale&&J.getLocale()||"en";if($i)return{...kn,...$i,locale:t,LOCALE:t};const e=jc(),{deviceId:r,osName:i,uniPlatform:n,appId:a}=e,o=["appId","appLanguage","appName","appVersion","appVersionCode","appWgtVersion","browserName","browserVersion","deviceBrand","deviceId","deviceModel","deviceType","osName","osVersion","romName","romVersion","ua","hostName","hostVersion","uniPlatform","uniRuntimeVersion","uniRuntimeVersionCode","uniCompilerVersion","uniCompilerVersionCode"];for(const s in e)Object.hasOwnProperty.call(e,s)&&o.indexOf(s)===-1&&delete e[s];return $i={PLATFORM:n,OS:i,APPID:a,DEVICEID:r,...Xv(),...e},{...kn,...$i,locale:t,LOCALE:t}}var ni={sign:function(t,e){let r="";return Object.keys(t).sort().forEach(function(i){t[i]&&(r=r+"&"+i+"="+t[i])}),r=r.slice(1),Fv(r,e).toString()},wrappedRequest:function(t,e){return new Promise((r,i)=>{e(Object.assign(t,{complete(n){n||(n={});const a=n.data&&n.data.header&&n.data.header["x-serverless-request-id"]||n.header&&n.header["request-id"];if(!n.statusCode||n.statusCode>=400){const s=n.data&&n.data.error&&n.data.error.code||"SYS_ERR",l=n.data&&n.data.error&&n.data.error.message||n.errMsg||"request:fail";return i(new N({code:s,message:l,requestId:a}))}const o=n.data;if(o.error)return i(new N({code:o.error.code,message:o.error.message,requestId:a}));o.result=o.data,o.requestId=a,delete o.data,r(o)}}))})},toBase64:function(t){return Nv.stringify($v.parse(t))}},qc=class{constructor(t){["spaceId","clientSecret"].forEach(e=>{if(!Object.prototype.hasOwnProperty.call(t,e))throw new Error(`${e} required`)}),this.config=Object.assign({},{endpoint:t.spaceId.indexOf("mp-")===0?"https://api.next.bspapp.com":"https://api.bspapp.com"},t),this.config.provider="aliyun",this.config.requestUrl=this.config.endpoint+"/client",this.config.envType=this.config.envType||"public",this.config.accessTokenKey="access_token_"+this.config.spaceId,this.adapter=se,this._getAccessTokenPromiseHub=new xa({createPromise:()=>this.requestAuth(this.setupRequest({method:"serverless.auth.user.anonymousAuthorize",params:"{}"},"auth")).then(e=>{if(!e.result||!e.result.accessToken)throw new N({code:"AUTH_FAILED",message:"获取accessToken失败"});this.setAccessToken(e.result.accessToken)}),retryRule:Rc})}get hasAccessToken(){return!!this.accessToken}setAccessToken(t){this.accessToken=t}requestWrapped(t){return ni.wrappedRequest(t,this.adapter.request)}requestAuth(t){return this.requestWrapped(t)}request(t,e){return Promise.resolve().then(()=>this.hasAccessToken?e?this.requestWrapped(t):this.requestWrapped(t).catch(r=>new Promise((i,n)=>{!r||r.code!=="GATEWAY_INVALID_TOKEN"&&r.code!=="InvalidParameter.InvalidToken"?n(r):i()}).then(()=>this.getAccessToken()).then(()=>{const i=this.rebuildRequest(t);return this.request(i,!0)})):this.getAccessToken().then(()=>{const r=this.rebuildRequest(t);return this.request(r,!0)}))}rebuildRequest(t){const e=Object.assign({},t);return e.data.token=this.accessToken,e.header["x-basement-token"]=this.accessToken,e.header["x-serverless-sign"]=ni.sign(e.data,this.config.clientSecret),e}setupRequest(t,e){const r=Object.assign({},t,{spaceId:this.config.spaceId,timestamp:Date.now()}),i={"Content-Type":"application/json"};return e!=="auth"&&(r.token=this.accessToken,i["x-basement-token"]=this.accessToken),i["x-serverless-sign"]=ni.sign(r,this.config.clientSecret),{url:this.config.requestUrl,method:"POST",data:r,dataType:"json",header:i}}getAccessToken(){return this._getAccessTokenPromiseHub.exec()}async authorize(){await this.getAccessToken()}callFunction(t){const e={method:"serverless.function.runtime.invoke",params:JSON.stringify({functionTarget:t.name,functionArgs:t.data||{}})};return this.request(this.setupRequest(e))}getOSSUploadOptionsFromPath(t){const e={method:"serverless.file.resource.generateProximalSign",params:JSON.stringify(t)};return this.request(this.setupRequest(e))}uploadFileToOSS({url:t,formData:e,name:r,filePath:i,fileType:n,onUploadProgress:a}){return new Promise((o,s)=>{const l=this.adapter.uploadFile({url:t,formData:e,name:r,filePath:i,fileType:n,header:{"X-OSS-server-side-encrpytion":"AES256"},success(c){c&&c.statusCode<400?o(c):s(new N({code:"UPLOAD_FAILED",message:"文件上传失败"}))},fail(c){s(new N({code:c.code||"UPLOAD_FAILED",message:c.message||c.errMsg||"文件上传失败"}))}});typeof a=="function"&&l&&typeof l.onProgressUpdate=="function"&&l.onProgressUpdate(c=>{a({loaded:c.totalBytesSent,total:c.totalBytesExpectedToSend})})})}reportOSSUpload(t){const e={method:"serverless.file.resource.report",params:JSON.stringify(t)};return this.request(this.setupRequest(e))}async uploadFile({filePath:t,cloudPath:e,fileType:r="image",cloudPathAsRealPath:i=!1,onUploadProgress:n,config:a}){if(yi(e)!=="string")throw new N({code:"INVALID_PARAM",message:"cloudPath必须为字符串类型"});if(!(e=e.trim()))throw new N({code:"INVALID_PARAM",message:"cloudPath不可为空"});if(/:\/\//.test(e))throw new N({code:"INVALID_PARAM",message:"cloudPath不合法"});const o=a&&a.envType||this.config.envType;if(i&&(e[0]!=="/"&&(e="/"+e),e.indexOf("\\")>-1))throw new N({code:"INVALID_PARAM",message:"使用cloudPath作为路径时，cloudPath不可包含“\\”"});const s=(await this.getOSSUploadOptionsFromPath({env:o,filename:i?e.split("/").pop():e,fileId:i?e:void 0})).result,l="https://"+s.cdnDomain+"/"+s.ossPath,{securityToken:c,accessKeyId:u,signature:f,host:h,ossPath:d,id:m,policy:p,ossCallbackUrl:g}=s,v={"Cache-Control":"max-age=2592000","Content-Disposition":"attachment",OSSAccessKeyId:u,Signature:f,host:h,id:m,key:d,policy:p,success_action_status:200};if(c&&(v["x-oss-security-token"]=c),g){const x=JSON.stringify({callbackUrl:g,callbackBody:JSON.stringify({fileId:m,spaceId:this.config.spaceId}),callbackBodyType:"application/json"});v.callback=ni.toBase64(x)}const y={url:"https://"+s.host,formData:v,fileName:"file",name:"file",filePath:t,fileType:r};if(await this.uploadFileToOSS(Object.assign({},y,{onUploadProgress:n})),g)return{success:!0,filePath:t,fileID:l};if((await this.reportOSSUpload({id:m})).success)return{success:!0,filePath:t,fileID:l};throw new N({code:"UPLOAD_FAILED",message:"文件上传失败"})}getTempFileURL({fileList:t}={}){return new Promise((e,r)=>{Array.isArray(t)&&t.length!==0||r(new N({code:"INVALID_PARAM",message:"fileList的元素必须是非空的字符串"})),e({fileList:t.map(i=>({fileID:i,tempFileURL:i}))})})}async getFileInfo({fileList:t}={}){if(!Array.isArray(t)||t.length===0)throw new N({code:"INVALID_PARAM",message:"fileList的元素必须是非空的字符串"});const e={method:"serverless.file.resource.info",params:JSON.stringify({id:t.map(r=>r.split("?")[0]).join(",")})};return{fileList:(await this.request(this.setupRequest(e))).result}}},Yv={init(t){const e=new qc(t),r={signInAnonymously:function(){return e.authorize()},getLoginState:function(){return Promise.resolve(!1)}};return e.auth=function(){return r},e.customAuth=e.auth,e}};const Qv=typeof location<"u"&&location.protocol==="http:"?"http:":"https:";var Ho;(function(t){t.local="local",t.none="none",t.session="session"})(Ho||(Ho={}));var Zv=function(){},e0=De(function(t,e){var r;t.exports=(r=ot,function(i){var n=r,a=n.lib,o=a.WordArray,s=a.Hasher,l=n.algo,c=[],u=[];(function(){function d(v){for(var y=i.sqrt(v),x=2;x<=y;x++)if(!(v%x))return!1;return!0}function m(v){return 4294967296*(v-(0|v))|0}for(var p=2,g=0;g<64;)d(p)&&(g<8&&(c[g]=m(i.pow(p,.5))),u[g]=m(i.pow(p,1/3)),g++),p++})();var f=[],h=l.SHA256=s.extend({_doReset:function(){this._hash=new o.init(c.slice(0))},_doProcessBlock:function(d,m){for(var p=this._hash.words,g=p[0],v=p[1],y=p[2],x=p[3],b=p[4],P=p[5],_=p[6],S=p[7],w=0;w<64;w++){if(w<16)f[w]=0|d[m+w];else{var T=f[w-15],E=(T<<25|T>>>7)^(T<<14|T>>>18)^T>>>3,L=f[w-2],M=(L<<15|L>>>17)^(L<<13|L>>>19)^L>>>10;f[w]=E+f[w-7]+M+f[w-16]}var j=g&v^g&y^v&y,R=(g<<30|g>>>2)^(g<<19|g>>>13)^(g<<10|g>>>22),V=S+((b<<26|b>>>6)^(b<<21|b>>>11)^(b<<7|b>>>25))+(b&P^~b&_)+u[w]+f[w];S=_,_=P,P=b,b=x+V|0,x=y,y=v,v=g,g=V+(R+j)|0}p[0]=p[0]+g|0,p[1]=p[1]+v|0,p[2]=p[2]+y|0,p[3]=p[3]+x|0,p[4]=p[4]+b|0,p[5]=p[5]+P|0,p[6]=p[6]+_|0,p[7]=p[7]+S|0},_doFinalize:function(){var d=this._data,m=d.words,p=8*this._nDataBytes,g=8*d.sigBytes;return m[g>>>5]|=128<<24-g%32,m[14+(g+64>>>9<<4)]=i.floor(p/4294967296),m[15+(g+64>>>9<<4)]=p,d.sigBytes=4*m.length,this._process(),this._hash},clone:function(){var d=s.clone.call(this);return d._hash=this._hash.clone(),d}});n.SHA256=s._createHelper(h),n.HmacSHA256=s._createHmacHelper(h)}(Math),r.SHA256)}),Ln=e0,Vc=De(function(t,e){t.exports=ot.HmacSHA256});const Ti=()=>{let t;if(!Promise){t=()=>{},t.promise={};const r=()=>{throw new N({message:'Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.'})};return Object.defineProperty(t.promise,"then",{get:r}),Object.defineProperty(t.promise,"catch",{get:r}),t}const e=new Promise((r,i)=>{t=(n,a)=>n?i(n):r(a)});return t.promise=e,t};function t0(t){return t===void 0}function i0(t){return Object.prototype.toString.call(t)==="[object Null]"}var Wo;function r0(t){const e=(r=t,Object.prototype.toString.call(r)==="[object Array]"?t:[t]);var r;for(const i of e){const{isMatch:n,genAdapter:a,runtime:o}=i;if(n())return{adapter:a(),runtime:o}}}(function(t){t.WEB="web",t.WX_MP="wx_mp"})(Wo||(Wo={}));const ye={adapter:null,runtime:void 0},n0=["anonymousUuidKey"];class Jr extends Zv{constructor(){super(),ye.adapter.root.tcbObject||(ye.adapter.root.tcbObject={})}setItem(e,r){ye.adapter.root.tcbObject[e]=r}getItem(e){return ye.adapter.root.tcbObject[e]}removeItem(e){delete ye.adapter.root.tcbObject[e]}clear(){delete ye.adapter.root.tcbObject}}function jo(t,e){switch(t){case"local":return e.localStorage||new Jr;case"none":return new Jr;default:return e.sessionStorage||new Jr}}class zo{constructor(e){if(!this._storage){this._persistence=ye.adapter.primaryStorage||e.persistence,this._storage=jo(this._persistence,ye.adapter);const r=`access_token_${e.env}`,i=`access_token_expire_${e.env}`,n=`refresh_token_${e.env}`,a=`anonymous_uuid_${e.env}`,o=`login_type_${e.env}`,s=`user_info_${e.env}`;this.keys={accessTokenKey:r,accessTokenExpireKey:i,refreshTokenKey:n,anonymousUuidKey:a,loginTypeKey:o,userInfoKey:s}}}updatePersistence(e){if(e===this._persistence)return;const r=this._persistence==="local";this._persistence=e;const i=jo(e,ye.adapter);for(const n in this.keys){const a=this.keys[n];if(r&&n0.includes(n))continue;const o=this._storage.getItem(a);t0(o)||i0(o)||(i.setItem(a,o),this._storage.removeItem(a))}this._storage=i}setStore(e,r,i){if(!this._storage)return;const n={version:i||"localCachev1",content:r},a=JSON.stringify(n);try{this._storage.setItem(e,a)}catch(o){throw o}}getStore(e,r){try{if(!this._storage)return}catch{return""}r=r||"localCachev1";const i=this._storage.getItem(e);return i&&i.indexOf(r)>=0?JSON.parse(i).content:""}removeStore(e){this._storage.removeItem(e)}}const Kc={},Gc={};function Ci(t){return Kc[t]}class Jc{constructor(e,r){this.data=r||null,this.name=e}}class a0 extends Jc{constructor(e,r){super("error",{error:e,data:r}),this.error=e}}const ba=new class{constructor(){this._listeners={}}on(t,e){return function(r,i,n){n[r]=n[r]||[],n[r].push(i)}(t,e,this._listeners),this}off(t,e){return function(r,i,n){if(n&&n[r]){const a=n[r].indexOf(i);a!==-1&&n[r].splice(a,1)}}(t,e,this._listeners),this}fire(t,e){if(t instanceof a0)return console.error(t.error),this;const r=typeof t=="string"?new Jc(t,e||{}):t,i=r.name;if(this._listens(i)){r.target=this;const n=this._listeners[i]?[...this._listeners[i]]:[];for(const a of n)a.call(this,r)}return this}_listens(t){return this._listeners[t]&&this._listeners[t].length>0}};function Qe(t,e){ba.on(t,e)}function be(t,e={}){ba.fire(t,e)}function o0(t,e){ba.off(t,e)}const Kt="loginStateChanged",Xc="loginStateExpire",st="loginTypeChanged",On="anonymousConverted",Yc="refreshAccessToken";var ue;(function(t){t.ANONYMOUS="ANONYMOUS",t.WECHAT="WECHAT",t.WECHAT_PUBLIC="WECHAT-PUBLIC",t.WECHAT_OPEN="WECHAT-OPEN",t.CUSTOM="CUSTOM",t.EMAIL="EMAIL",t.USERNAME="USERNAME",t.NULL="NULL"})(ue||(ue={}));const qo=["auth.getJwt","auth.logout","auth.signInWithTicket","auth.signInAnonymously","auth.signIn","auth.fetchAccessTokenWithRefreshToken","auth.signUpWithEmailAndPassword","auth.activateEndUserMail","auth.sendPasswordResetEmail","auth.resetPasswordWithToken","auth.isUsernameRegistered"],s0={"X-SDK-Version":"1.3.5"};function Xr(t,e,r){const i=t[e];t[e]=function(n){const a={},o={};r.forEach(l=>{const{data:c,headers:u}=l.call(t,n);Object.assign(a,c),Object.assign(o,u)});const s=n.data;return s&&(()=>{var l;if(l=s,Object.prototype.toString.call(l)!=="[object FormData]")n.data={...s,...a};else for(const c in a)s.append(c,a[c])})(),n.headers={...n.headers||{},...o},i.call(t,n)}}function Yr(){const t=Math.random().toString(16).slice(2);return{data:{seqId:t},headers:{...s0,"x-seqid":t}}}class l0{constructor(e={}){var r;this.config=e,this._reqClass=new ye.adapter.reqClass({timeout:this.config.timeout,timeoutMsg:`请求在${this.config.timeout/1e3}s内未完成，已中断`,restrictedMethods:["post"]}),this._cache=Ci(this.config.env),this._localCache=(r=this.config.env,Gc[r]),Xr(this._reqClass,"post",[Yr]),Xr(this._reqClass,"upload",[Yr]),Xr(this._reqClass,"download",[Yr])}async post(e){return await this._reqClass.post(e)}async upload(e){return await this._reqClass.upload(e)}async download(e){return await this._reqClass.download(e)}async refreshAccessToken(){let e,r;this._refreshAccessTokenPromise||(this._refreshAccessTokenPromise=this._refreshAccessToken());try{e=await this._refreshAccessTokenPromise}catch(i){r=i}if(this._refreshAccessTokenPromise=null,this._shouldRefreshAccessTokenHook=null,r)throw r;return e}async _refreshAccessToken(){const{accessTokenKey:e,accessTokenExpireKey:r,refreshTokenKey:i,loginTypeKey:n,anonymousUuidKey:a}=this._cache.keys;this._cache.removeStore(e),this._cache.removeStore(r);let o=this._cache.getStore(i);if(!o)throw new N({message:"未登录CloudBase"});const s={refresh_token:o},l=await this.request("auth.fetchAccessTokenWithRefreshToken",s);if(l.data.code){const{code:c}=l.data;if(c==="SIGN_PARAM_INVALID"||c==="REFRESH_TOKEN_EXPIRED"||c==="INVALID_REFRESH_TOKEN"){if(this._cache.getStore(n)===ue.ANONYMOUS&&c==="INVALID_REFRESH_TOKEN"){const u=this._cache.getStore(a),f=this._cache.getStore(i),h=await this.send("auth.signInAnonymously",{anonymous_uuid:u,refresh_token:f});return this.setRefreshToken(h.refresh_token),this._refreshAccessToken()}be(Xc),this._cache.removeStore(i)}throw new N({code:l.data.code,message:`刷新access token失败：${l.data.code}`})}if(l.data.access_token)return be(Yc),this._cache.setStore(e,l.data.access_token),this._cache.setStore(r,l.data.access_token_expire+Date.now()),{accessToken:l.data.access_token,accessTokenExpire:l.data.access_token_expire};l.data.refresh_token&&(this._cache.removeStore(i),this._cache.setStore(i,l.data.refresh_token),this._refreshAccessToken())}async getAccessToken(){const{accessTokenKey:e,accessTokenExpireKey:r,refreshTokenKey:i}=this._cache.keys;if(!this._cache.getStore(i))throw new N({message:"refresh token不存在，登录状态异常"});let n=this._cache.getStore(e),a=this._cache.getStore(r),o=!0;return this._shouldRefreshAccessTokenHook&&!await this._shouldRefreshAccessTokenHook(n,a)&&(o=!1),(!n||!a||a<Date.now())&&o?this.refreshAccessToken():{accessToken:n,accessTokenExpire:a}}async request(e,r,i){const n=`x-tcb-trace_${this.config.env}`;let a="application/x-www-form-urlencoded";const o={action:e,env:this.config.env,dataVersion:"2019-08-16",...r};if(qo.indexOf(e)===-1){const{refreshTokenKey:v}=this._cache.keys;this._cache.getStore(v)&&(o.access_token=(await this.getAccessToken()).accessToken)}let s;if(e==="storage.uploadFile"){s=new FormData;for(let v in s)s.hasOwnProperty(v)&&s[v]!==void 0&&s.append(v,o[v]);a="multipart/form-data"}else{a="application/json",s={};for(let v in o)o[v]!==void 0&&(s[v]=o[v])}let l={headers:{"content-type":a}};i&&i.onUploadProgress&&(l.onUploadProgress=i.onUploadProgress);const c=this._localCache.getStore(n);c&&(l.headers["X-TCB-Trace"]=c);const{parse:u,inQuery:f,search:h}=r;let d={env:this.config.env};u&&(d.parse=!0),f&&(d={...f,...d});let m=function(v,y,x={}){const b=/\?/.test(y);let P="";for(let _ in x)P===""?!b&&(y+="?"):P+="&",P+=`${_}=${encodeURIComponent(x[_])}`;return/^http(s)?\:\/\//.test(y+=P)?y:`${v}${y}`}(Qv,"//tcb-api.tencentcloudapi.com/web",d);h&&(m+=h);const p=await this.post({url:m,data:s,...l}),g=p.header&&p.header["x-tcb-trace"];if(g&&this._localCache.setStore(n,g),Number(p.status)!==200&&Number(p.statusCode)!==200||!p.data)throw new N({code:"NETWORK_ERROR",message:"network request error"});return p}async send(e,r={}){const i=await this.request(e,r,{onUploadProgress:r.onUploadProgress});if(i.data.code==="ACCESS_TOKEN_EXPIRED"&&qo.indexOf(e)===-1){await this.refreshAccessToken();const n=await this.request(e,r,{onUploadProgress:r.onUploadProgress});if(n.data.code)throw new N({code:n.data.code,message:n.data.message});return n.data}if(i.data.code)throw new N({code:i.data.code,message:i.data.message});return i.data}setRefreshToken(e){const{accessTokenKey:r,accessTokenExpireKey:i,refreshTokenKey:n}=this._cache.keys;this._cache.removeStore(r),this._cache.removeStore(i),this._cache.setStore(n,e)}}const Qc={};function Ke(t){return Qc[t]}class Cr{constructor(e){this.config=e,this._cache=Ci(e.env),this._request=Ke(e.env)}setRefreshToken(e){const{accessTokenKey:r,accessTokenExpireKey:i,refreshTokenKey:n}=this._cache.keys;this._cache.removeStore(r),this._cache.removeStore(i),this._cache.setStore(n,e)}setAccessToken(e,r){const{accessTokenKey:i,accessTokenExpireKey:n}=this._cache.keys;this._cache.setStore(i,e),this._cache.setStore(n,r)}async refreshUserInfo(){const{data:e}=await this._request.send("auth.getUserInfo",{});return this.setLocalUserInfo(e),e}setLocalUserInfo(e){const{userInfoKey:r}=this._cache.keys;this._cache.setStore(r,e)}}class c0{constructor(e){if(!e)throw new N({code:"PARAM_ERROR",message:"envId is not defined"});this._envId=e,this._cache=Ci(this._envId),this._request=Ke(this._envId),this.setUserInfo()}linkWithTicket(e){if(typeof e!="string")throw new N({code:"PARAM_ERROR",message:"ticket must be string"});return this._request.send("auth.linkWithTicket",{ticket:e})}linkWithRedirect(e){e.signInWithRedirect()}updatePassword(e,r){return this._request.send("auth.updatePassword",{oldPassword:r,newPassword:e})}updateEmail(e){return this._request.send("auth.updateEmail",{newEmail:e})}updateUsername(e){if(typeof e!="string")throw new N({code:"PARAM_ERROR",message:"username must be a string"});return this._request.send("auth.updateUsername",{username:e})}async getLinkedUidList(){const{data:e}=await this._request.send("auth.getLinkedUidList",{});let r=!1;const{users:i}=e;return i.forEach(n=>{n.wxOpenId&&n.wxPublicId&&(r=!0)}),{users:i,hasPrimaryUid:r}}setPrimaryUid(e){return this._request.send("auth.setPrimaryUid",{uid:e})}unlink(e){return this._request.send("auth.unlink",{platform:e})}async update(e){const{nickName:r,gender:i,avatarUrl:n,province:a,country:o,city:s}=e,{data:l}=await this._request.send("auth.updateUserInfo",{nickName:r,gender:i,avatarUrl:n,province:a,country:o,city:s});this.setLocalUserInfo(l)}async refresh(){const{data:e}=await this._request.send("auth.getUserInfo",{});return this.setLocalUserInfo(e),e}setUserInfo(){const{userInfoKey:e}=this._cache.keys,r=this._cache.getStore(e);["uid","loginType","openid","wxOpenId","wxPublicId","unionId","qqMiniOpenId","email","hasPassword","customUserId","nickName","gender","avatarUrl"].forEach(i=>{this[i]=r[i]}),this.location={country:r.country,province:r.province,city:r.city}}setLocalUserInfo(e){const{userInfoKey:r}=this._cache.keys;this._cache.setStore(r,e),this.setUserInfo()}}class Ii{constructor(e){if(!e)throw new N({code:"PARAM_ERROR",message:"envId is not defined"});this._cache=Ci(e);const{refreshTokenKey:r,accessTokenKey:i,accessTokenExpireKey:n}=this._cache.keys,a=this._cache.getStore(r),o=this._cache.getStore(i),s=this._cache.getStore(n);this.credential={refreshToken:a,accessToken:o,accessTokenExpire:s},this.user=new c0(e)}get isAnonymousAuth(){return this.loginType===ue.ANONYMOUS}get isCustomAuth(){return this.loginType===ue.CUSTOM}get isWeixinAuth(){return this.loginType===ue.WECHAT||this.loginType===ue.WECHAT_OPEN||this.loginType===ue.WECHAT_PUBLIC}get loginType(){return this._cache.getStore(this._cache.keys.loginTypeKey)}}class Qr extends Cr{async signIn(){this._cache.updatePersistence("local");const{anonymousUuidKey:e,refreshTokenKey:r}=this._cache.keys,i=this._cache.getStore(e)||void 0,n=this._cache.getStore(r)||void 0,a=await this._request.send("auth.signInAnonymously",{anonymous_uuid:i,refresh_token:n});if(a.uuid&&a.refresh_token){this._setAnonymousUUID(a.uuid),this.setRefreshToken(a.refresh_token),await this._request.refreshAccessToken(),be(Kt),be(st,{env:this.config.env,loginType:ue.ANONYMOUS,persistence:"local"});const o=new Ii(this.config.env);return await o.user.refresh(),o}throw new N({message:"匿名登录失败"})}async linkAndRetrieveDataWithTicket(e){const{anonymousUuidKey:r,refreshTokenKey:i}=this._cache.keys,n=this._cache.getStore(r),a=this._cache.getStore(i),o=await this._request.send("auth.linkAndRetrieveDataWithTicket",{anonymous_uuid:n,refresh_token:a,ticket:e});if(o.refresh_token)return this._clearAnonymousUUID(),this.setRefreshToken(o.refresh_token),await this._request.refreshAccessToken(),be(On,{env:this.config.env}),be(st,{loginType:ue.CUSTOM,persistence:"local"}),{credential:{refreshToken:o.refresh_token}};throw new N({message:"匿名转化失败"})}_setAnonymousUUID(e){const{anonymousUuidKey:r,loginTypeKey:i}=this._cache.keys;this._cache.removeStore(r),this._cache.setStore(r,e),this._cache.setStore(i,ue.ANONYMOUS)}_clearAnonymousUUID(){this._cache.removeStore(this._cache.keys.anonymousUuidKey)}}class Vo extends Cr{async signIn(e){if(typeof e!="string")throw new N({code:"PARAM_ERROR",message:"ticket must be a string"});const{refreshTokenKey:r}=this._cache.keys,i=await this._request.send("auth.signInWithTicket",{ticket:e,refresh_token:this._cache.getStore(r)||""});if(i.refresh_token)return this.setRefreshToken(i.refresh_token),await this._request.refreshAccessToken(),be(Kt),be(st,{env:this.config.env,loginType:ue.CUSTOM,persistence:this.config.persistence}),await this.refreshUserInfo(),new Ii(this.config.env);throw new N({message:"自定义登录失败"})}}class Ko extends Cr{async signIn(e,r){if(typeof e!="string")throw new N({code:"PARAM_ERROR",message:"email must be a string"});const{refreshTokenKey:i}=this._cache.keys,n=await this._request.send("auth.signIn",{loginType:"EMAIL",email:e,password:r,refresh_token:this._cache.getStore(i)||""}),{refresh_token:a,access_token:o,access_token_expire:s}=n;if(a)return this.setRefreshToken(a),o&&s?this.setAccessToken(o,s):await this._request.refreshAccessToken(),await this.refreshUserInfo(),be(Kt),be(st,{env:this.config.env,loginType:ue.EMAIL,persistence:this.config.persistence}),new Ii(this.config.env);throw n.code?new N({code:n.code,message:`邮箱登录失败: ${n.message}`}):new N({message:"邮箱登录失败"})}async activate(e){return this._request.send("auth.activateEndUserMail",{token:e})}async resetPasswordWithToken(e,r){return this._request.send("auth.resetPasswordWithToken",{token:e,newPassword:r})}}class Go extends Cr{async signIn(e,r){if(typeof e!="string")throw new N({code:"PARAM_ERROR",message:"username must be a string"});typeof r!="string"&&(r="",console.warn("password is empty"));const{refreshTokenKey:i}=this._cache.keys,n=await this._request.send("auth.signIn",{loginType:ue.USERNAME,username:e,password:r,refresh_token:this._cache.getStore(i)||""}),{refresh_token:a,access_token_expire:o,access_token:s}=n;if(a)return this.setRefreshToken(a),s&&o?this.setAccessToken(s,o):await this._request.refreshAccessToken(),await this.refreshUserInfo(),be(Kt),be(st,{env:this.config.env,loginType:ue.USERNAME,persistence:this.config.persistence}),new Ii(this.config.env);throw n.code?new N({code:n.code,message:`用户名密码登录失败: ${n.message}`}):new N({message:"用户名密码登录失败"})}}class u0{constructor(e){this.config=e,this._cache=Ci(e.env),this._request=Ke(e.env),this._onAnonymousConverted=this._onAnonymousConverted.bind(this),this._onLoginTypeChanged=this._onLoginTypeChanged.bind(this),Qe(st,this._onLoginTypeChanged)}get currentUser(){const e=this.hasLoginState();return e&&e.user||null}get loginType(){return this._cache.getStore(this._cache.keys.loginTypeKey)}anonymousAuthProvider(){return new Qr(this.config)}customAuthProvider(){return new Vo(this.config)}emailAuthProvider(){return new Ko(this.config)}usernameAuthProvider(){return new Go(this.config)}async signInAnonymously(){return new Qr(this.config).signIn()}async signInWithEmailAndPassword(e,r){return new Ko(this.config).signIn(e,r)}signInWithUsernameAndPassword(e,r){return new Go(this.config).signIn(e,r)}async linkAndRetrieveDataWithTicket(e){return this._anonymousAuthProvider||(this._anonymousAuthProvider=new Qr(this.config)),Qe(On,this._onAnonymousConverted),await this._anonymousAuthProvider.linkAndRetrieveDataWithTicket(e)}async signOut(){if(this.loginType===ue.ANONYMOUS)throw new N({message:"匿名用户不支持登出操作"});const{refreshTokenKey:e,accessTokenKey:r,accessTokenExpireKey:i}=this._cache.keys,n=this._cache.getStore(e);if(!n)return;const a=await this._request.send("auth.logout",{refresh_token:n});return this._cache.removeStore(e),this._cache.removeStore(r),this._cache.removeStore(i),be(Kt),be(st,{env:this.config.env,loginType:ue.NULL,persistence:this.config.persistence}),a}async signUpWithEmailAndPassword(e,r){return this._request.send("auth.signUpWithEmailAndPassword",{email:e,password:r})}async sendPasswordResetEmail(e){return this._request.send("auth.sendPasswordResetEmail",{email:e})}onLoginStateChanged(e){Qe(Kt,()=>{const i=this.hasLoginState();e.call(this,i)});const r=this.hasLoginState();e.call(this,r)}onLoginStateExpired(e){Qe(Xc,e.bind(this))}onAccessTokenRefreshed(e){Qe(Yc,e.bind(this))}onAnonymousConverted(e){Qe(On,e.bind(this))}onLoginTypeChanged(e){Qe(st,()=>{const r=this.hasLoginState();e.call(this,r)})}async getAccessToken(){return{accessToken:(await this._request.getAccessToken()).accessToken,env:this.config.env}}hasLoginState(){const{refreshTokenKey:e}=this._cache.keys;return this._cache.getStore(e)?new Ii(this.config.env):null}async isUsernameRegistered(e){if(typeof e!="string")throw new N({code:"PARAM_ERROR",message:"username must be a string"});const{data:r}=await this._request.send("auth.isUsernameRegistered",{username:e});return r&&r.isRegistered}getLoginState(){return Promise.resolve(this.hasLoginState())}async signInWithTicket(e){return new Vo(this.config).signIn(e)}shouldRefreshAccessToken(e){this._request._shouldRefreshAccessTokenHook=e.bind(this)}getUserInfo(){return this._request.send("auth.getUserInfo",{}).then(e=>e.code?e:{...e.data,requestId:e.seqId})}getAuthHeader(){const{refreshTokenKey:e,accessTokenKey:r}=this._cache.keys,i=this._cache.getStore(e);return{"x-cloudbase-credentials":this._cache.getStore(r)+"/@@/"+i}}_onAnonymousConverted(e){const{env:r}=e.data;r===this.config.env&&this._cache.updatePersistence(this.config.persistence)}_onLoginTypeChanged(e){const{loginType:r,persistence:i,env:n}=e.data;n===this.config.env&&(this._cache.updatePersistence(i),this._cache.setStore(this._cache.keys.loginTypeKey,r))}}const f0=function(t,e){e=e||Ti();const r=Ke(this.config.env),{cloudPath:i,filePath:n,onUploadProgress:a,fileType:o="image"}=t;return r.send("storage.getUploadMetadata",{path:i}).then(s=>{const{data:{url:l,authorization:c,token:u,fileId:f,cosFileId:h},requestId:d}=s,m={key:i,signature:c,"x-cos-meta-fileid":h,success_action_status:"201","x-cos-security-token":u};r.upload({url:l,data:m,file:n,name:i,fileType:o,onUploadProgress:a}).then(p=>{p.statusCode===201?e(null,{fileID:f,requestId:d}):e(new N({code:"STORAGE_REQUEST_FAIL",message:`STORAGE_REQUEST_FAIL: ${p.data}`}))}).catch(p=>{e(p)})}).catch(s=>{e(s)}),e.promise},h0=function(t,e){e=e||Ti();const r=Ke(this.config.env),{cloudPath:i}=t;return r.send("storage.getUploadMetadata",{path:i}).then(n=>{e(null,n)}).catch(n=>{e(n)}),e.promise},d0=function({fileList:t},e){if(e=e||Ti(),!t||!Array.isArray(t))return{code:"INVALID_PARAM",message:"fileList必须是非空的数组"};for(let i of t)if(!i||typeof i!="string")return{code:"INVALID_PARAM",message:"fileList的元素必须是非空的字符串"};const r={fileid_list:t};return Ke(this.config.env).send("storage.batchDeleteFile",r).then(i=>{i.code?e(null,i):e(null,{fileList:i.data.delete_list,requestId:i.requestId})}).catch(i=>{e(i)}),e.promise},Zc=function({fileList:t},e){e=e||Ti(),t&&Array.isArray(t)||e(null,{code:"INVALID_PARAM",message:"fileList必须是非空的数组"});let r=[];for(let n of t)typeof n=="object"?(n.hasOwnProperty("fileID")&&n.hasOwnProperty("maxAge")||e(null,{code:"INVALID_PARAM",message:"fileList的元素必须是包含fileID和maxAge的对象"}),r.push({fileid:n.fileID,max_age:n.maxAge})):typeof n=="string"?r.push({fileid:n}):e(null,{code:"INVALID_PARAM",message:"fileList的元素必须是字符串"});const i={file_list:r};return Ke(this.config.env).send("storage.batchGetDownloadUrl",i).then(n=>{n.code?e(null,n):e(null,{fileList:n.data.download_list,requestId:n.requestId})}).catch(n=>{e(n)}),e.promise},g0=async function({fileID:t},e){const r=(await Zc.call(this,{fileList:[{fileID:t,maxAge:600}]})).fileList[0];if(r.code!=="SUCCESS")return e?e(r):new Promise(a=>{a(r)});const i=Ke(this.config.env);let n=r.download_url;if(n=encodeURI(n),!e)return i.download({url:n});e(await i.download({url:n}))},p0=function({name:t,data:e,query:r,parse:i,search:n},a){const o=a||Ti();let s;try{s=e?JSON.stringify(e):""}catch(c){return Promise.reject(c)}if(!t)return Promise.reject(new N({code:"PARAM_ERROR",message:"函数名不能为空"}));const l={inQuery:r,parse:i,search:n,function_name:t,request_data:s};return Ke(this.config.env).send("functions.invokeFunction",l).then(c=>{if(c.code)o(null,c);else{let u=c.data.response_data;if(i)o(null,{result:u,requestId:c.requestId});else try{u=JSON.parse(c.data.response_data),o(null,{result:u,requestId:c.requestId})}catch{o(new N({message:"response data must be json"}))}}return o.promise}).catch(c=>{o(c)}),o.promise},Jo={timeout:15e3,persistence:"session"},Xo={};class wa{constructor(e){this.config=e||this.config,this.authObj=void 0}init(e){switch(ye.adapter||(this.requestClient=new ye.adapter.reqClass({timeout:e.timeout||5e3,timeoutMsg:`请求在${(e.timeout||5e3)/1e3}s内未完成，已中断`})),this.config={...Jo,...e},!0){case this.config.timeout>6e5:console.warn("timeout大于可配置上限[10分钟]，已重置为上限数值"),this.config.timeout=6e5;break;case this.config.timeout<100:console.warn("timeout小于可配置下限[100ms]，已重置为下限数值"),this.config.timeout=100}return new wa(this.config)}auth({persistence:e}={}){if(this.authObj)return this.authObj;const r=e||ye.adapter.primaryStorage||Jo.persistence;var i;return r!==this.config.persistence&&(this.config.persistence=r),function(n){const{env:a}=n;Kc[a]=new zo(n),Gc[a]=new zo({...n,persistence:"local"})}(this.config),i=this.config,Qc[i.env]=new l0(i),this.authObj=new u0(this.config),this.authObj}on(e,r){return Qe.apply(this,[e,r])}off(e,r){return o0.apply(this,[e,r])}callFunction(e,r){return p0.apply(this,[e,r])}deleteFile(e,r){return d0.apply(this,[e,r])}getTempFileURL(e,r){return Zc.apply(this,[e,r])}downloadFile(e,r){return g0.apply(this,[e,r])}uploadFile(e,r){return f0.apply(this,[e,r])}getUploadMetadata(e,r){return h0.apply(this,[e,r])}registerExtension(e){Xo[e.name]=e}async invokeExtension(e,r){const i=Xo[e];if(!i)throw new N({message:`扩展${e} 必须先注册`});return await i.invoke(r,this)}useAdapters(e){const{adapter:r,runtime:i}=r0(e)||{};r&&(ye.adapter=r),i&&(ye.runtime=i)}}var eu=new wa;function Yo(t,e,r){r===void 0&&(r={});var i=/\?/.test(e),n="";for(var a in r)n===""?!i&&(e+="?"):n+="&",n+=a+"="+encodeURIComponent(r[a]);return/^http(s)?:\/\//.test(e+=n)?e:""+t+e}class m0{post(e){const{url:r,data:i,headers:n}=e;return new Promise((a,o)=>{se.request({url:Yo("https:",r),data:i,method:"POST",header:n,success(s){a(s)},fail(s){o(s)}})})}upload(e){return new Promise((r,i)=>{const{url:n,file:a,data:o,headers:s,fileType:l}=e,c=se.uploadFile({url:Yo("https:",n),name:"file",formData:Object.assign({},o),filePath:a,fileType:l,header:s,success(u){const f={statusCode:u.statusCode,data:u.data||{}};u.statusCode===200&&o.success_action_status&&(f.statusCode=parseInt(o.success_action_status,10)),r(f)},fail(u){i(new Error(u.errMsg||"uploadFile:fail"))}});typeof e.onUploadProgress=="function"&&c&&typeof c.onProgressUpdate=="function"&&c.onProgressUpdate(u=>{e.onUploadProgress({loaded:u.totalBytesSent,total:u.totalBytesExpectedToSend})})})}}const y0={setItem(t,e){se.setStorageSync(t,e)},getItem:t=>se.getStorageSync(t),removeItem(t){se.removeStorageSync(t)},clear(){se.clearStorageSync()}};var v0={genAdapter:function(){return{root:{},reqClass:m0,localStorage:y0,primaryStorage:"local"}},isMatch:function(){return!0},runtime:"uni_app"};eu.useAdapters(v0);const Sa=eu,x0=Sa.init;Sa.init=function(t){t.env=t.spaceId;const e=x0.call(this,t);e.config.provider="tencent",e.config.spaceId=t.spaceId;const r=e.auth;return e.auth=function(i){const n=r.call(this,i);return["linkAndRetrieveDataWithTicket","signInAnonymously","signOut","getAccessToken","getLoginState","signInWithTicket","getUserInfo"].forEach(a=>{var o;n[a]=(o=n[a],function(s){s=s||{};const{success:l,fail:c,complete:u}=Uc(s);if(!(l||c||u))return o.call(this,s);o.call(this,s).then(f=>{l&&l(f),u&&u(f)},f=>{c&&c(f),u&&u(f)})}).bind(n)}),n},e.customAuth=e.auth,e};var Qo=Sa,_0=class extends qc{getAccessToken(){return new Promise((t,e)=>{const r="Anonymous_Access_token";this.setAccessToken(r),t(r)})}setupRequest(t,e){const r=Object.assign({},t,{spaceId:this.config.spaceId,timestamp:Date.now()}),i={"Content-Type":"application/json"};e!=="auth"&&(r.token=this.accessToken,i["x-basement-token"]=this.accessToken),i["x-serverless-sign"]=ni.sign(r,this.config.clientSecret);const n=zc();i["x-client-info"]=encodeURIComponent(JSON.stringify(n));const{token:a}=Tr();return i["x-client-token"]=a,{url:this.config.requestUrl,method:"POST",data:r,dataType:"json",header:JSON.parse(JSON.stringify(i))}}uploadFileToOSS({url:t,formData:e,name:r,filePath:i,fileType:n,onUploadProgress:a}){return new Promise((o,s)=>{const l=this.adapter.uploadFile({url:t,formData:e,name:r,filePath:i,fileType:n,success(c){c&&c.statusCode<400?o(c):s(new N({code:"UPLOAD_FAILED",message:"文件上传失败"}))},fail(c){s(new N({code:c.code||"UPLOAD_FAILED",message:c.message||c.errMsg||"文件上传失败"}))}});typeof a=="function"&&l&&typeof l.onProgressUpdate=="function"&&l.onProgressUpdate(c=>{a({loaded:c.totalBytesSent,total:c.totalBytesExpectedToSend})})})}uploadFile({filePath:t,cloudPath:e,fileType:r="image",onUploadProgress:i}){if(!e)throw new N({code:"CLOUDPATH_REQUIRED",message:"cloudPath不可为空"});let n;return this.getOSSUploadOptionsFromPath({cloudPath:e}).then(a=>{const{url:o,formData:s,name:l}=a.result;n=a.result.fileUrl;const c={url:o,formData:s,name:l,filePath:t,fileType:r};return this.uploadFileToOSS(Object.assign({},c,{onUploadProgress:i}))}).then(()=>this.reportOSSUpload({cloudPath:e})).then(a=>new Promise((o,s)=>{a.success?o({success:!0,filePath:t,fileID:n}):s(new N({code:"UPLOAD_FAILED",message:"文件上传失败"}))}))}deleteFile({fileList:t}){const e={method:"serverless.file.resource.delete",params:JSON.stringify({fileList:t})};return this.request(this.setupRequest(e)).then(r=>{if(r.success)return r.result;throw new N({code:"DELETE_FILE_FAILED",message:"删除文件失败"})})}getTempFileURL({fileList:t,maxAge:e}={}){if(!Array.isArray(t)||t.length===0)throw new N({code:"INVALID_PARAM",message:"fileList的元素必须是非空的字符串"});const r={method:"serverless.file.resource.getTempFileURL",params:JSON.stringify({fileList:t,maxAge:e})};return this.request(this.setupRequest(r)).then(i=>{if(i.success)return{fileList:i.result.fileList.map(n=>({fileID:n.fileID,tempFileURL:n.tempFileURL}))};throw new N({code:"GET_TEMP_FILE_URL_FAILED",message:"获取临时文件链接失败"})})}},b0={init(t){const e=new _0(t),r={signInAnonymously:function(){return e.authorize()},getLoginState:function(){return Promise.resolve(!1)}};return e.auth=function(){return r},e.customAuth=e.auth,e}},ci=De(function(t,e){t.exports=ot.enc.Hex});function tu(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var e=16*Math.random()|0;return(t==="x"?e:3&e|8).toString(16)})}function iu(t="",e={}){const{data:r,functionName:i,method:n,headers:a,signHeaderKeys:o=[],config:s}=e,l=Date.now(),c=tu(),u=Object.assign({},a,{"x-from-app-id":s.spaceAppId,"x-from-env-id":s.spaceId,"x-to-env-id":s.spaceId,"x-from-instance-id":l,"x-from-function-name":i,"x-client-timestamp":l,"x-alipay-source":"client","x-request-id":c,"x-alipay-callid":c,"x-trace-id":c}),f=["x-from-app-id","x-from-env-id","x-to-env-id","x-from-instance-id","x-from-function-name","x-client-timestamp"].concat(o),[h="",d=""]=t.split("?")||[],m=function(p){const g=p.signedHeaders.join(";"),v=p.signedHeaders.map(S=>`${S.toLowerCase()}:${p.headers[S]}
`).join(""),y=Ln(p.body).toString(ci),x=`${p.method.toUpperCase()}
${p.path}
${p.query}
${v}
${g}
${y}
`,b=Ln(x).toString(ci),P=`HMAC-SHA256
${p.timestamp}
${b}
`,_=Vc(P,p.secretKey).toString(ci);return`HMAC-SHA256 Credential=${p.secretId}, SignedHeaders=${g}, Signature=${_}`}({path:h,query:d,method:n,headers:u,timestamp:l,body:JSON.stringify(r),secretId:s.accessKey,secretKey:s.secretKey,signedHeaders:f.sort()});return{url:`${s.endpoint}${t}`,headers:Object.assign({},u,{Authorization:m})}}function ru({url:t,data:e,method:r="POST",headers:i={}}){return new Promise((n,a)=>{se.request({url:t,method:r,data:typeof e=="object"?JSON.stringify(e):e,header:i,dataType:"json",complete:(o={})=>{const s=i["x-trace-id"]||"";if(!o.statusCode||o.statusCode>=400){const{message:l,errMsg:c,trace_id:u}=o.data||{};return a(new N({code:"SYS_ERR",message:l||c||"request:fail",requestId:u||s}))}n({status:o.statusCode,data:o.data,headers:o.header,requestId:s})}})})}function Zo(t,e){const{path:r,data:i,method:n="GET"}=t,{url:a,headers:o}=iu(r,{functionName:"",data:i,method:n,headers:{"x-alipay-cloud-mode":"oss","x-data-api-type":"oss","x-expire-timestamp":Date.now()+6e4},signHeaderKeys:["x-data-api-type","x-expire-timestamp"],config:e});return ru({url:a,data:i,method:n,headers:o}).then(s=>{const l=s.data||{};if(!l.success)throw new N({code:s.errCode,message:s.errMsg,requestId:s.requestId});return l.data||{}}).catch(s=>{throw new N({code:s.errCode,message:s.errMsg,requestId:s.requestId})})}function w0(t=""){const e=t.trim().replace(/^cloud:\/\//,""),r=e.indexOf("/");if(r<=0)throw new N({code:"INVALID_PARAM",message:"fileID不合法"});const i=e.substring(0,r),n=e.substring(r+1);return i!==this.config.spaceId&&console.warn("file ".concat(t," does not belong to env ").concat(this.config.spaceId)),n}function S0(t=""){return"cloud://".concat(this.config.spaceId,"/").concat(t.replace(/^\/+/,""))}class P0{constructor(e){this.config=e}signedURL(e,r={}){const i=`/ws/function/${e}`,n=this.config.wsEndpoint.replace(/^ws(s)?:\/\//,""),a=Object.assign({},r,{accessKeyId:this.config.accessKey,signatureNonce:tu(),timestamp:""+Date.now()}),o=[i,["accessKeyId","authorization","signatureNonce","timestamp"].sort().map(function(u){return a[u]?"".concat(u,"=").concat(a[u]):null}).filter(Boolean).join("&"),`host:${n}`].join(`
`),s=["HMAC-SHA256",Ln(o).toString(ci)].join(`
`),l=Vc(s,this.config.secretKey).toString(ci),c=Object.keys(a).map(u=>`${u}=${encodeURIComponent(a[u])}`).join("&");return`${this.config.wsEndpoint}${i}?${c}&signature=${l}`}}var A0=class{constructor(t){if(["spaceId","spaceAppId","accessKey","secretKey"].forEach(e=>{if(!Object.prototype.hasOwnProperty.call(t,e))throw new Error(`${e} required`)}),t.endpoint){if(typeof t.endpoint!="string")throw new Error("endpoint must be string");if(!/^https:\/\//.test(t.endpoint))throw new Error("endpoint must start with https://");t.endpoint=t.endpoint.replace(/\/$/,"")}this.config=Object.assign({},t,{endpoint:t.endpoint||`https://${t.spaceId}.api-hz.cloudbasefunction.cn`,wsEndpoint:t.wsEndpoint||`wss://${t.spaceId}.api-hz.cloudbasefunction.cn`}),this._websocket=new P0(this.config)}callFunction(t){return function(e,r){const{name:i,data:n,async:a=!1}=e,o="POST",s={"x-to-function-name":i};a&&(s["x-function-invoke-type"]="async");const{url:l,headers:c}=iu("/functions/invokeFunction",{functionName:i,data:n,method:o,headers:s,signHeaderKeys:["x-to-function-name"],config:r});return ru({url:l,data:n,method:o,headers:c}).then(u=>{let f=0;if(a){const h=u.data||{};f=h.errCode==="200"?0:h.errCode,u.data=h.data||{},u.errMsg=h.errMsg}if(f!==0)throw new N({code:f,message:u.errMsg,requestId:u.requestId});return{errCode:f,success:f===0,requestId:u.requestId,result:u.data}}).catch(u=>{throw new N({code:u.errCode,message:u.errMsg,requestId:u.requestId})})}(t,this.config)}uploadFileToOSS({url:t,filePath:e,fileType:r,formData:i,onUploadProgress:n}){return new Promise((a,o)=>{const s=se.uploadFile({url:t,filePath:e,fileType:r,formData:i,name:"file",success(l){l&&l.statusCode<400?a(l):o(new N({code:"UPLOAD_FAILED",message:"文件上传失败"}))},fail(l){o(new N({code:l.code||"UPLOAD_FAILED",message:l.message||l.errMsg||"文件上传失败"}))}});typeof n=="function"&&s&&typeof s.onProgressUpdate=="function"&&s.onProgressUpdate(l=>{n({loaded:l.totalBytesSent,total:l.totalBytesExpectedToSend})})})}async uploadFile({filePath:t,cloudPath:e="",fileType:r="image",onUploadProgress:i}){if(yi(e)!=="string")throw new N({code:"INVALID_PARAM",message:"cloudPath必须为字符串类型"});if(!(e=e.trim()))throw new N({code:"INVALID_PARAM",message:"cloudPath不可为空"});if(/:\/\//.test(e))throw new N({code:"INVALID_PARAM",message:"cloudPath不合法"});const n=await Zo({path:"/".concat(e.replace(/^\//,""),"?post_url")},this.config),{file_id:a,upload_url:o,form_data:s}=n,l=s&&s.reduce((c,u)=>(c[u.key]=u.value,c),{});return this.uploadFileToOSS({url:o,filePath:t,fileType:r,formData:l,onUploadProgress:i}).then(()=>({fileID:a}))}async getTempFileURL({fileList:t}){return new Promise((e,r)=>{(!t||t.length<0)&&r(new N({errCode:"INVALID_PARAM",errMsg:"fileList不能为空数组"})),t.length>50&&r(new N({errCode:"INVALID_PARAM",errMsg:"fileList数组长度不能超过50"}));const i=[];for(const n of t){yi(n)!=="string"&&r(new N({errCode:"INVALID_PARAM",errMsg:"fileList的元素必须是非空的字符串"}));const a=w0.call(this,n);i.push({file_id:a,expire:600})}Zo({path:"/?download_url",data:{file_list:i},method:"POST"},this.config).then(n=>{const{file_list:a=[]}=n;e({fileList:a.map(o=>({fileID:S0.call(this,o.file_id),tempFileURL:o.download_url}))})}).catch(n=>r(n))})}async connectWebSocket(t){const{name:e,query:r}=t;return se.connectSocket({url:this._websocket.signedURL(e,r),complete:()=>{}})}},T0={init:t=>{t.provider="alipay";const e=new A0(t);return e.auth=function(){return{signInAnonymously:function(){return Promise.resolve()},getLoginState:function(){return Promise.resolve(!0)}}},e}};function nu({data:t}){let e;e=zc();const r=JSON.parse(JSON.stringify(t||{}));if(Object.assign(r,{clientInfo:e}),!r.uniIdToken){const{token:i}=Tr();i&&(r.uniIdToken=i)}return r}async function es({name:t,data:e}={}){await this.__dev__.initLocalNetwork();const{localAddress:r,localPort:i}=this.__dev__,n={aliyun:"aliyun",tencent:"tcb",alipay:"alipay"}[this.config.provider],a=this.config.spaceId,o=`http://${r}:${i}/system/check-function`,s=`http://${r}:${i}/cloudfunctions/${t}`;return new Promise((l,c)=>{se.request({method:"POST",url:o,data:{name:t,platform:zt,provider:n,spaceId:a},timeout:3e3,success(u){l(u)},fail(){l({data:{code:"NETWORK_ERROR",message:"连接本地调试服务失败，请检查客户端是否和主机在同一局域网下，自动切换为已部署的云函数。"}})}})}).then(({data:l}={})=>{const{code:c,message:u}=l||{};return{code:c===0?0:c||"SYS_ERR",message:u||"SYS_ERR"}}).then(({code:l,message:c})=>{if(l!==0){switch(l){case"MODULE_ENCRYPTED":console.error(`此云函数（${t}）依赖加密公共模块不可本地调试，自动切换为云端已部署的云函数`);break;case"FUNCTION_ENCRYPTED":console.error(`此云函数（${t}）已加密不可本地调试，自动切换为云端已部署的云函数`);break;case"ACTION_ENCRYPTED":console.error(c||"需要访问加密的uni-clientDB-action，自动切换为云端环境");break;case"NETWORK_ERROR":console.error(c||"连接本地调试服务失败，请检查客户端是否和主机在同一局域网下");break;case"SWITCH_TO_CLOUD":break;default:{const u=`检测本地调试服务出现错误：${c}，请检查网络环境或重启客户端再试`;throw console.error(u),new Error(u)}}return this._callCloudFunction({name:t,data:e})}return new Promise((u,f)=>{const h=nu.call(this,{data:e});se.request({method:"POST",url:s,data:{provider:n,platform:zt,param:h},success:({statusCode:d,data:m}={})=>!d||d>=400?f(new N({code:m.code||"SYS_ERR",message:m.message||"request:fail"})):u({result:m}),fail(d){f(new N({code:d.code||d.errCode||"SYS_ERR",message:d.message||d.errMsg||"request:fail"}))}})})})}const C0=[{rule:/fc_function_not_found|FUNCTION_NOT_FOUND/,content:"，云函数[{functionName}]在云端不存在，请检查此云函数名称是否正确以及该云函数是否已上传到服务空间",mode:"append"}];var au=/[\\^$.*+?()[\]{}|]/g,I0=RegExp(au.source);function ts(t,e,r){return t.replace(new RegExp((i=e)&&I0.test(i)?i.replace(au,"\\$&"):i,"g"),r);var i}const k0="request",L0="response",O0="both",D0={code:2e4,message:"System error"},M0={code:20101,message:"Invalid client"};function ou(t){const{errSubject:e,subject:r,errCode:i,errMsg:n,code:a,message:o,cause:s}=t||{};return new N({subject:e||r||"uni-secure-network",code:i||a||D0.code,message:n||o,cause:s})}let Dn;function is({secretType:t}={}){return t===k0||t===L0||t===O0}function rs({name:t,data:e={}}={}){return zt==="app"}function E0({provider:t,spaceId:e,functionName:r}={}){const{appId:i,uniPlatform:n,osName:a}=jc();let o=n;n==="app"&&(o=a);const s=function({provider:f,spaceId:h}={}){const d=qv;if(!d)return{};f=function(p){return p==="tencent"?"tcb":p}(f);const m=d.find(p=>p.provider===f&&p.spaceId===h);return m&&m.config}({provider:t,spaceId:e});if(!s||!s.accessControl||!s.accessControl.enable)return!1;const l=s.accessControl.function||{},c=Object.keys(l);if(c.length===0)return!0;const u=function(f,h){let d,m,p;for(let g=0;g<f.length;g++){const v=f[g];v!==h?v!=="*"?v.split(",").map(y=>y.trim()).indexOf(h)>-1&&(m=v):p=v:d=v}return d||m||p}(c,r);if(!u)return!1;if((l[u]||[]).find((f={})=>f.appId===i&&(f.platform||"").toLowerCase()===o.toLowerCase()))return!0;throw console.error(`此应用[appId: ${i}, platform: ${o}]不在云端配置的允许访问的应用列表内，参考：https://uniapp.dcloud.net.cn/uniCloud/secure-network.html#verify-client`),ou(M0)}function ns({functionName:t,result:e,logPvd:r}){if(this.__dev__.debugLog&&e&&e.requestId){const i=JSON.stringify({spaceId:this.config.spaceId,functionName:t,requestId:e.requestId});console.log(`[${r}-request]${i}[/${r}-request]`)}}function R0(t){const e=t.callFunction,r=function(i){const n=i.name;i.data=nu.call(t,{data:i.data});const a={aliyun:"aliyun",tencent:"tcb",tcb:"tcb",alipay:"alipay"}[this.config.provider],o=is(i),s=rs(i),l=o||s;return e.call(this,i).then(c=>(c.errCode=0,!l&&ns.call(this,{functionName:n,result:c,logPvd:a}),Promise.resolve(c)),c=>(!l&&ns.call(this,{functionName:n,result:c,logPvd:a}),c&&c.message&&(c.message=function({message:u="",extraInfo:f={},formatter:h=[]}={}){for(let d=0;d<h.length;d++){const{rule:m,content:p,mode:g}=h[d],v=u.match(m);if(!v)continue;let y=p;for(let x=1;x<v.length;x++)y=ts(y,`{$${x}}`,v[x]);for(const x in f)y=ts(y,`{${x}}`,f[x]);return g==="replace"?y:u+y}return u}({message:`[${i.name}]: ${c.message}`,formatter:C0,extraInfo:{functionName:n}})),Promise.reject(c)))};t.callFunction=function(i){const{provider:n,spaceId:a}=t.config,o=i.name;let s,l;return i.data=i.data||{},t.__dev__.debugInfo&&!t.__dev__.debugInfo.forceRemote&&Fc?(t._callCloudFunction||(t._callCloudFunction=r,t._callLocalFunction=es),s=es):s=r,s=s.bind(t),rs(i)||(function({name:c,data:u={}}){return c==="uni-id-co"&&u.method==="secureNetworkHandshakeByWeixin"}(i)?l=s.call(t,i):is(i)?l=new Dn({secretType:i.secretType,uniCloudIns:t}).wrapEncryptDataCallFunction(r.bind(t))(i):E0({provider:n,spaceId:a,functionName:o})?l=new Dn({secretType:i.secretType,uniCloudIns:t}).wrapVerifyClientCallFunction(r.bind(t))(i):l=s(i)),Object.defineProperty(l,"result",{get:()=>(console.warn("当前返回结果为Promise类型，不可直接访问其result属性，详情请参考：https://uniapp.dcloud.net.cn/uniCloud/faq?id=promise"),{})}),l.then(c=>(typeof UTSJSONObject<"u"&&(c.result=new UTSJSONObject(c.result)),c))}}Dn=class{constructor(){throw ou({message:`Platform ${zt} is not enabled, please check whether secure network module is enabled in your manifest.json`})}};const su=Symbol("CLIENT_DB_INTERNAL");function lr(t,e){return t.then="DoNotReturnProxyWithAFunctionNamedThen",t._internalType=su,t.inspect=null,t.__v_raw=void 0,new Proxy(t,{get(r,i,n){if(i==="_uniClient")return null;if(typeof i=="symbol")return r[i];if(i in r||typeof i!="string"){const a=r[i];return typeof a=="function"?a.bind(r):a}return e.get(r,i,n)}})}function as(t){return{on:(e,r)=>{t[e]=t[e]||[],t[e].indexOf(r)>-1||t[e].push(r)},off:(e,r)=>{t[e]=t[e]||[];const i=t[e].indexOf(r);i!==-1&&t[e].splice(i,1)}}}const F0=["db.Geo","db.command","command.aggregate"];function lu(t,e){return F0.indexOf(`${t}.${e}`)>-1}function _t(t){switch(yi(t=Hc(t))){case"array":return t.map(e=>_t(e));case"object":return t._internalType===su||Object.keys(t).forEach(e=>{t[e]=_t(t[e])}),t;case"regexp":return{$regexp:{source:t.source,flags:t.flags}};case"date":return{$date:t.toISOString()};default:return t}}function ti(t){return t&&t.content&&t.content.$method}class $0{constructor(e,r,i){this.content=e,this.prevStage=r||null,this.udb=null,this._database=i}toJSON(){let e=this;const r=[e.content];for(;e.prevStage;)e=e.prevStage,r.push(e.content);return{$db:r.reverse().map(i=>({$method:i.$method,$param:_t(i.$param)}))}}toString(){return JSON.stringify(this.toJSON())}getAction(){const e=this.toJSON().$db.find(r=>r.$method==="action");return e&&e.$param&&e.$param[0]}getCommand(){return{$db:this.toJSON().$db.filter(e=>e.$method!=="action")}}get isAggregate(){let e=this;for(;e;){const r=ti(e),i=ti(e.prevStage);if(r==="aggregate"&&i==="collection"||r==="pipeline")return!0;e=e.prevStage}return!1}get isCommand(){let e=this;for(;e;){if(ti(e)==="command")return!0;e=e.prevStage}return!1}get isAggregateCommand(){let e=this;for(;e;){const r=ti(e),i=ti(e.prevStage);if(r==="aggregate"&&i==="command")return!0;e=e.prevStage}return!1}getNextStageFn(e){const r=this;return function(){return vi({$method:e,$param:_t(Array.from(arguments))},r,r._database)}}get count(){return this.isAggregate?this.getNextStageFn("count"):function(){return this._send("count",Array.from(arguments))}}get remove(){return this.isCommand?this.getNextStageFn("remove"):function(){return this._send("remove",Array.from(arguments))}}get(){return this._send("get",Array.from(arguments))}get add(){return this.isCommand?this.getNextStageFn("add"):function(){return this._send("add",Array.from(arguments))}}update(){return this._send("update",Array.from(arguments))}end(){return this._send("end",Array.from(arguments))}get set(){return this.isCommand?this.getNextStageFn("set"):function(){throw new Error("JQL禁止使用set方法")}}_send(e,r){const i=this.getAction(),n=this.getCommand();if(n.$db.push({$method:e,$param:_t(r)}),jv){const a=n.$db.find(s=>s.$method==="collection"),o=a&&a.$param;o&&o.length===1&&typeof a.$param[0]=="string"&&a.$param[0].indexOf(",")>-1&&console.warn(`检测到使用JQL语法联表查询时，未使用getTemp先过滤主表数据，在主表数据量大的情况下可能会查询缓慢。
- 如何优化请参考此文档：https://uniapp.dcloud.net.cn/uniCloud/jql?id=lookup-with-temp 
- 如果主表数据量很小请忽略此信息，项目发行时不会出现此提示。`)}return this._database._callCloudFunction({action:i,command:n})}}function vi(t,e,r){return lr(new $0(t,e,r),{get(i,n){let a="db";return i&&i.content&&(a=i.content.$method),lu(a,n)?vi({$method:n},i,r):function(){return vi({$method:n,$param:_t(Array.from(arguments))},i,r)}}})}function Zr({path:t,method:e}){return class{constructor(){this.param=Array.from(arguments)}toJSON(){return{$newDb:[...t.map(r=>({$method:r})),{$method:e,$param:this.param}]}}toString(){return JSON.stringify(this.toJSON())}}}function os(t,e={}){return lr(new t(e),{get:(r,i)=>lu("db",i)?vi({$method:i},null,r):function(){return vi({$method:i,$param:_t(Array.from(arguments))},null,r)}})}class ss extends class{constructor({uniClient:e={},isJQL:r=!1}={}){this._uniClient=e,this._authCallBacks={},this._dbCallBacks={},e._isDefault&&(this._dbCallBacks=qt("_globalUniCloudDatabaseCallback")),r||(this.auth=as(this._authCallBacks)),this._isJQL=r,Object.assign(this,as(this._dbCallBacks)),this.env=lr({},{get:(i,n)=>({$env:n})}),this.Geo=lr({},{get:(i,n)=>Zr({path:["Geo"],method:n})}),this.serverDate=Zr({path:[],method:"serverDate"}),this.RegExp=Zr({path:[],method:"RegExp"})}getCloudEnv(e){if(typeof e!="string"||!e.trim())throw new Error("getCloudEnv参数错误");return{$env:e.replace("$cloudEnv_","")}}_callback(e,r){const i=this._dbCallBacks;i[e]&&i[e].forEach(n=>{n(...r)})}_callbackAuth(e,r){const i=this._authCallBacks;i[e]&&i[e].forEach(n=>{n(...r)})}multiSend(){const e=Array.from(arguments),r=e.map(i=>{const n=i.getAction(),a=i.getCommand();if(a.$db[a.$db.length-1].$method!=="getTemp")throw new Error("multiSend只支持子命令内使用getTemp");return{action:n,command:a}});return this._callCloudFunction({multiCommand:r,queryList:e})}}{_parseResult(e){return this._isJQL?e.result:e}_callCloudFunction({action:e,command:r,multiCommand:i,queryList:n}){function a(f,h){if(i&&n)for(let d=0;d<n.length;d++){const m=n[d];m.udb&&typeof m.udb.setResult=="function"&&(h?m.udb.setResult(h):m.udb.setResult(f.result.dataList[d]))}}const o=this,s=this._isJQL?"databaseForJQL":"database";function l(f){return o._callback("error",[f]),xe(_e(s,"fail"),f).then(()=>xe(_e(s,"complete"),f)).then(()=>(a(null,f),we(Oe,{type:Bo,content:f}),Promise.reject(f)))}const c=xe(_e(s,"invoke")),u=this._uniClient;return c.then(()=>u.callFunction({name:"DCloud-clientDB",type:Uv,data:{action:e,command:r,multiCommand:i}})).then(f=>{const{code:h,message:d,token:m,tokenExpired:p,systemInfo:g=[]}=f.result;if(g)for(let y=0;y<g.length;y++){const{level:x,message:b,detail:P}=g[y],_=console[x]||console.log;let S="[System Info]"+b;P&&(S=`${S}
详细信息：${P}`),_(S)}if(h)return l(new N({code:h,message:d,requestId:f.requestId}));f.result.errCode=f.result.errCode||f.result.code,f.result.errMsg=f.result.errMsg||f.result.message,m&&p&&(Wc({token:m,tokenExpired:p}),this._callbackAuth("refreshToken",[{token:m,tokenExpired:p}]),this._callback("refreshToken",[{token:m,tokenExpired:p}]),we(sr,{token:m,tokenExpired:p}));const v=[{prop:"affectedDocs",tips:"affectedDocs不再推荐使用，请使用inserted/deleted/updated/data.length替代"},{prop:"code",tips:"code不再推荐使用，请使用errCode替代"},{prop:"message",tips:"message不再推荐使用，请使用errMsg替代"}];for(let y=0;y<v.length;y++){const{prop:x,tips:b}=v[y];if(x in f.result){const P=f.result[x];Object.defineProperty(f.result,x,{get:()=>(console.warn(b),P)})}}return function(y){return xe(_e(s,"success"),y).then(()=>xe(_e(s,"complete"),y)).then(()=>{a(y,null);const x=o._parseResult(y);return we(Oe,{type:Bo,content:x}),Promise.resolve(x)})}(f)},f=>(/fc_function_not_found|FUNCTION_NOT_FOUND/g.test(f.message)&&console.warn("clientDB未初始化，请在web控制台保存一次schema以开启clientDB"),l(new N({code:f.code||"SYSTEM_ERROR",message:f.message,requestId:f.requestId}))))}}const gt="token无效，跳转登录页面",cu="token过期，跳转登录页面",N0={TOKEN_INVALID_TOKEN_EXPIRED:cu,TOKEN_INVALID_INVALID_CLIENTID:gt,TOKEN_INVALID:gt,TOKEN_INVALID_WRONG_TOKEN:gt,TOKEN_INVALID_ANONYMOUS_USER:gt},Mn={"uni-id-token-expired":cu,"uni-id-check-token-failed":gt,"uni-id-token-not-exist":gt,"uni-id-check-device-feature-failed":gt};function ls(t,e){let r="";return r=t?`${t}/${e}`:e,r.replace(/^\//,"")}function cs(t=[],e=""){const r=[],i=[];return t.forEach(n=>{n.needLogin===!0?r.push(ls(e,n.path)):n.needLogin===!1&&i.push(ls(e,n.path))}),{needLoginPage:r,notNeedLoginPage:i}}function xi(t){return t.split("?")[0].replace(/^\//,"")}function Pa(){return function(t){let e=t&&t.$page&&t.$page.fullPath||"";return e&&(e.charAt(0)!=="/"&&(e="/"+e),e)}(function(){const t=getCurrentPages();return t[t.length-1]}())}function uu(){return xi(Pa())}function B0(t="",e={}){if(!t||!(e&&e.list&&e.list.length))return!1;const r=e.list,i=xi(t);return r.some(n=>n.pagePath===i)}const U0=!!Dc.uniIdRouter,{loginPage:_i,routerNeedLogin:H0,resToLogin:W0,needLoginPage:fu,notNeedLoginPage:j0,loginPageInTabBar:z0}=function({pages:t=[],subPackages:e=[],uniIdRouter:r={},tabBar:i={}}=Dc){const{loginPage:n,needLogin:a=[],resToLogin:o=!0}=r,{needLoginPage:s,notNeedLoginPage:l}=cs(t),{needLoginPage:c,notNeedLoginPage:u}=function(f=[]){const h=[],d=[];return f.forEach(m=>{const{root:p,pages:g=[]}=m,{needLoginPage:v,notNeedLoginPage:y}=cs(g,p);h.push(...v),d.push(...y)}),{needLoginPage:h,notNeedLoginPage:d}}(e);return{loginPage:n,routerNeedLogin:a,resToLogin:o,needLoginPage:[...s,...c],notNeedLoginPage:[...l,...u],loginPageInTabBar:B0(n,i)}}();if(fu.indexOf(_i)>-1)throw new Error(`Login page [${_i}] should not be "needLogin", please check your pages.json`);function hu(t){const e=uu();if(t.charAt(0)==="/")return t;const[r,i]=t.split("?"),n=r.replace(/^\//,"").split("/"),a=e.split("/");a.pop();for(let o=0;o<n.length;o++){const s=n[o];s===".."?a.pop():s!=="."&&a.push(s)}return a[0]===""&&a.shift(),"/"+a.join("/")+(i?"?"+i:"")}function q0(t){const e=xi(hu(t));return!(j0.indexOf(e)>-1)&&(fu.indexOf(e)>-1||H0.some(r=>function(i,n){return new RegExp(n).test(i)}(t,r)))}function du({redirect:t}){const e=xi(t),r=xi(_i);return uu()!==r&&e!==r}function En({api:t,redirect:e}={}){if(!e||!du({redirect:e}))return;const r=function(n,a){return n.charAt(0)!=="/"&&(n="/"+n),a?n.indexOf("?")>-1?n+`&uniIdRedirectUrl=${encodeURIComponent(a)}`:n+`?uniIdRedirectUrl=${encodeURIComponent(a)}`:n}(_i,e);z0?t!=="navigateTo"&&t!=="redirectTo"||(t="switchTab"):t==="switchTab"&&(t="navigateTo");const i={navigateTo:J.navigateTo,redirectTo:J.redirectTo,switchTab:J.switchTab,reLaunch:J.reLaunch};setTimeout(()=>{i[t]({url:r})},0)}function us({url:t}={}){const e={abortLoginPageJump:!1,autoToLoginPage:!1},r=function(){const{token:i,tokenExpired:n}=Tr();let a;if(i){if(n<Date.now()){const o="uni-id-token-expired";a={errCode:o,errMsg:Mn[o]}}}else{const o="uni-id-check-token-failed";a={errCode:o,errMsg:Mn[o]}}return a}();if(q0(t)&&r){if(r.uniIdRedirectUrl=t,Ai(Vt).length>0)return setTimeout(()=>{we(Vt,r)},0),e.abortLoginPageJump=!0,e;e.autoToLoginPage=!0}return e}function V0(){(function(){const e=Pa(),{abortLoginPageJump:r,autoToLoginPage:i}=us({url:e});r||i&&En({api:"redirectTo",redirect:e})})();const t=["navigateTo","redirectTo","reLaunch","switchTab"];for(let e=0;e<t.length;e++){const r=t[e];J.addInterceptor(r,{invoke(i){const{abortLoginPageJump:n,autoToLoginPage:a}=us({url:i.url});return n?i:a?(En({api:r,redirect:hu(i.url)}),!1):i}})}}function K0(){this.onResponse(t=>{const{type:e,content:r}=t;let i=!1;switch(e){case"cloudobject":i=function(n){if(typeof n!="object")return!1;const{errCode:a}=n||{};return a in Mn}(r);break;case"clientdb":i=function(n){if(typeof n!="object")return!1;const{errCode:a}=n||{};return a in N0}(r)}i&&function(n={}){const a=Ai(Vt);Bc().then(()=>{const o=Pa();if(o&&du({redirect:o}))return a.length>0?we(Vt,Object.assign({uniIdRedirectUrl:o},n)):void(_i&&En({api:"navigateTo",redirect:o}))})}(r)})}function G0(t){(function(e){e.onResponse=function(r){zr(Oe,r)},e.offResponse=function(r){qr(Oe,r)}})(t),function(e){e.onNeedLogin=function(r){zr(Vt,r)},e.offNeedLogin=function(r){qr(Vt,r)},U0&&(qt("_globalUniCloudStatus").needLoginInit||(qt("_globalUniCloudStatus").needLoginInit=!0,Bc().then(()=>{V0.call(e)}),W0&&K0.call(e)))}(t),function(e){e.onRefreshToken=function(r){zr(sr,r)},e.offRefreshToken=function(r){qr(sr,r)}}(t)}let gu;const Ni="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",J0=/^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/;function X0(){const t=Tr().token||"",e=t.split(".");if(!t||e.length!==3)return{uid:null,role:[],permission:[],tokenExpired:0};let r;try{r=JSON.parse((i=e[1],decodeURIComponent(gu(i).split("").map(function(n){return"%"+("00"+n.charCodeAt(0).toString(16)).slice(-2)}).join(""))))}catch(n){throw new Error("获取当前用户信息出错，详细错误信息为："+n.message)}var i;return r.tokenExpired=1e3*r.exp,delete r.exp,delete r.iat,r}gu=typeof atob!="function"?function(t){if(t=String(t).replace(/[\t\n\f\r ]+/g,""),!J0.test(t))throw new Error("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");var e;t+="==".slice(2-(3&t.length));for(var r,i,n="",a=0;a<t.length;)e=Ni.indexOf(t.charAt(a++))<<18|Ni.indexOf(t.charAt(a++))<<12|(r=Ni.indexOf(t.charAt(a++)))<<6|(i=Ni.indexOf(t.charAt(a++))),n+=r===64?String.fromCharCode(e>>16&255):i===64?String.fromCharCode(e>>16&255,e>>8&255):String.fromCharCode(e>>16&255,e>>8&255,255&e);return n}:atob;var Y0=De(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const r="chooseAndUploadFile:ok",i="chooseAndUploadFile:fail";function n(o,s){return o.tempFiles.forEach((l,c)=>{l.name||(l.name=l.path.substring(l.path.lastIndexOf("/")+1)),s&&(l.fileType=s),l.cloudPath=Date.now()+"_"+c+l.name.substring(l.name.lastIndexOf("."))}),o.tempFilePaths||(o.tempFilePaths=o.tempFiles.map(l=>l.path)),o}function a(o,s,{onChooseFile:l,onUploadProgress:c}){return s.then(u=>{if(l){const f=l(u);if(f!==void 0)return Promise.resolve(f).then(h=>h===void 0?u:h)}return u}).then(u=>u===!1?{errMsg:r,tempFilePaths:[],tempFiles:[]}:function(f,h,d=5,m){(h=Object.assign({},h)).errMsg=r;const p=h.tempFiles,g=p.length;let v=0;return new Promise(y=>{for(;v<d;)x();function x(){const b=v++;if(b>=g)return void(!p.find(_=>!_.url&&!_.errMsg)&&y(h));const P=p[b];f.uploadFile({provider:P.provider,filePath:P.path,cloudPath:P.cloudPath,fileType:P.fileType,cloudPathAsRealPath:P.cloudPathAsRealPath,onUploadProgress(_){_.index=b,_.tempFile=P,_.tempFilePath=P.path,m&&m(_)}}).then(_=>{P.url=_.fileID,b<g&&x()}).catch(_=>{P.errMsg=_.errMsg||_.message,b<g&&x()})}})}(o,u,5,c))}e.initChooseAndUploadFile=function(o){return function(s={type:"all"}){return s.type==="image"?a(o,function(l){const{count:c,sizeType:u,sourceType:f=["album","camera"],extension:h}=l;return new Promise((d,m)=>{J.chooseImage({count:c,sizeType:u,sourceType:f,extension:h,success(p){d(n(p,"image"))},fail(p){m({errMsg:p.errMsg.replace("chooseImage:fail",i)})}})})}(s),s):s.type==="video"?a(o,function(l){const{camera:c,compressed:u,maxDuration:f,sourceType:h=["album","camera"],extension:d}=l;return new Promise((m,p)=>{J.chooseVideo({camera:c,compressed:u,maxDuration:f,sourceType:h,extension:d,success(g){const{tempFilePath:v,duration:y,size:x,height:b,width:P}=g;m(n({errMsg:"chooseVideo:ok",tempFilePaths:[v],tempFiles:[{name:g.tempFile&&g.tempFile.name||"",path:v,size:x,type:g.tempFile&&g.tempFile.type||"",width:P,height:b,duration:y,fileType:"video",cloudPath:""}]},"video"))},fail(g){p({errMsg:g.errMsg.replace("chooseVideo:fail",i)})}})})}(s),s):a(o,function(l){const{count:c,extension:u}=l;return new Promise((f,h)=>{let d=J.chooseFile;if(typeof oi<"u"&&typeof oi.chooseMessageFile=="function"&&(d=oi.chooseMessageFile),typeof d!="function")return h({errMsg:i+" 请指定 type 类型，该平台仅支持选择 image 或 video。"});d({type:"all",count:c,extension:u,success(m){f(n(m))},fail(m){h({errMsg:m.errMsg.replace("chooseFile:fail",i)})}})})}(s),s)}}}),Q0=Ev(Y0);const Z0="manual";function pu(t){return{props:{localdata:{type:Array,default:()=>[]},options:{type:[Object,Array],default:()=>({})},spaceInfo:{type:Object,default:()=>({})},collection:{type:[String,Array],default:""},action:{type:String,default:""},field:{type:String,default:""},orderby:{type:String,default:""},where:{type:[String,Object],default:""},pageData:{type:String,default:"add"},pageCurrent:{type:Number,default:1},pageSize:{type:Number,default:20},getcount:{type:[Boolean,String],default:!1},gettree:{type:[Boolean,String],default:!1},gettreepath:{type:[Boolean,String],default:!1},startwith:{type:String,default:""},limitlevel:{type:Number,default:10},groupby:{type:String,default:""},groupField:{type:String,default:""},distinct:{type:[Boolean,String],default:!1},foreignKey:{type:String,default:""},loadtime:{type:String,default:"auto"},manual:{type:Boolean,default:!1}},data:()=>({mixinDatacomLoading:!1,mixinDatacomHasMore:!1,mixinDatacomResData:[],mixinDatacomErrorMessage:"",mixinDatacomPage:{},mixinDatacomError:null}),created(){this.mixinDatacomPage={current:this.pageCurrent,size:this.pageSize,count:0},this.$watch(()=>{var e=[];return["pageCurrent","pageSize","localdata","collection","action","field","orderby","where","getont","getcount","gettree","groupby","groupField","distinct"].forEach(r=>{e.push(this[r])}),e},(e,r)=>{if(this.loadtime===Z0)return;let i=!1;const n=[];for(let a=2;a<e.length;a++)e[a]!==r[a]&&(n.push(e[a]),i=!0);e[0]!==r[0]&&(this.mixinDatacomPage.current=this.pageCurrent),this.mixinDatacomPage.size=this.pageSize,this.onMixinDatacomPropsChange(i,n)})},methods:{onMixinDatacomPropsChange(e,r){},mixinDatacomEasyGet({getone:e=!1,success:r,fail:i}={}){this.mixinDatacomLoading||(this.mixinDatacomLoading=!0,this.mixinDatacomErrorMessage="",this.mixinDatacomError=null,this.mixinDatacomGet().then(n=>{this.mixinDatacomLoading=!1;const{data:a,count:o}=n.result;this.getcount&&(this.mixinDatacomPage.count=o),this.mixinDatacomHasMore=a.length<this.pageSize;const s=e?a.length?a[0]:void 0:a;this.mixinDatacomResData=s,r&&r(s)}).catch(n=>{this.mixinDatacomLoading=!1,this.mixinDatacomErrorMessage=n,this.mixinDatacomError=n,i&&i(n)}))},mixinDatacomGet(e={}){let r;e=e||{},r=typeof __uniX<"u"&&__uniX?t.databaseForJQL(this.spaceInfo):t.database(this.spaceInfo);const i=e.action||this.action;i&&(r=r.action(i));const n=e.collection||this.collection;r=Array.isArray(n)?r.collection(...n):r.collection(n);const a=e.where||this.where;a&&Object.keys(a).length&&(r=r.where(a));const o=e.field||this.field;o&&(r=r.field(o));const s=e.foreignKey||this.foreignKey;s&&(r=r.foreignKey(s));const l=e.groupby||this.groupby;l&&(r=r.groupBy(l));const c=e.groupField||this.groupField;c&&(r=r.groupField(c)),(e.distinct!==void 0?e.distinct:this.distinct)===!0&&(r=r.distinct());const u=e.orderby||this.orderby;u&&(r=r.orderBy(u));const f=e.pageCurrent!==void 0?e.pageCurrent:this.mixinDatacomPage.current,h=e.pageSize!==void 0?e.pageSize:this.mixinDatacomPage.size,d=e.getcount!==void 0?e.getcount:this.getcount,m=e.gettree!==void 0?e.gettree:this.gettree,p=e.gettreepath!==void 0?e.gettreepath:this.gettreepath,g={getCount:d},v={limitLevel:e.limitlevel!==void 0?e.limitlevel:this.limitlevel,startWith:e.startwith!==void 0?e.startwith:this.startwith};return m&&(g.getTree=v),p&&(g.getTreePath=v),r=r.skip(h*(f-1)).limit(h).get(g),r}}}}function ex(t){return function(e,r={}){r=function(l,c={}){return l.customUI=c.customUI||l.customUI,l.parseSystemError=c.parseSystemError||l.parseSystemError,Object.assign(l.loadingOptions,c.loadingOptions),Object.assign(l.errorOptions,c.errorOptions),typeof c.secretMethods=="object"&&(l.secretMethods=c.secretMethods),l}({customUI:!1,loadingOptions:{title:"加载中...",mask:!0},errorOptions:{type:"modal",retry:!1}},r);const{customUI:i,loadingOptions:n,errorOptions:a,parseSystemError:o}=r,s=!i;return new Proxy({},{get(l,c){switch(c){case"toString":return"[object UniCloudObject]";case"toJSON":return{}}return function({fn:u,interceptorName:f,getCallbackArgs:h}={}){return async function(...d){const m=h?h({params:d}):{};let p,g;try{return await xe(_e(f,"invoke"),{...m}),p=await u(...d),await xe(_e(f,"success"),{...m,result:p}),p}catch(v){throw g=v,await xe(_e(f,"fail"),{...m,error:g}),g}finally{await xe(_e(f,"complete"),g?{...m,error:g}:{...m,result:p})}}}({fn:async function u(...f){let h;s&&J.showLoading({title:n.title,mask:n.mask});const d={name:e,type:Bv,data:{method:c,params:f}};typeof r.secretMethods=="object"&&function(x,b){const P=b.data.method,_=x.secretMethods||{},S=_[P]||_["*"];S&&(b.secretType=S)}(r,d);let m=!1;try{h=await t.callFunction(d)}catch(x){m=!0,h={result:new N(x)}}const{errSubject:p,errCode:g,errMsg:v,newToken:y}=h.result||{};if(s&&J.hideLoading(),y&&y.token&&y.tokenExpired&&(Wc(y),we(sr,{...y})),g){let x=v;if(m&&o&&(x=(await o({objectName:e,methodName:c,params:f,errSubject:p,errCode:g,errMsg:v})).errMsg||v),s)if(a.type==="toast")J.showToast({title:x,icon:"none"});else{if(a.type!=="modal")throw new Error(`Invalid errorOptions.type: ${a.type}`);{const{confirm:P}=await async function({title:_,content:S,showCancel:w,cancelText:T,confirmText:E}={}){return new Promise((L,M)=>{J.showModal({title:_,content:S,showCancel:w,cancelText:T,confirmText:E,success(j){L(j)},fail(){L({confirm:!1,cancel:!0})}})})}({title:"提示",content:x,showCancel:a.retry,cancelText:"取消",confirmText:a.retry?"重试":"确定"});if(a.retry&&P)return u(...f)}}const b=new N({subject:p,code:g,message:v,requestId:h.requestId});throw b.detail=h.result,we(Oe,{type:Uo,content:b}),b}return we(Oe,{type:Uo,content:h.result}),h.result},interceptorName:"callObject",getCallbackArgs:function({params:u}={}){return{objectName:e,methodName:c,params:u}}})}})}}function mu(t){return qt("_globalUniCloudSecureNetworkCache__{spaceId}".replace("{spaceId}",t.config.spaceId))}async function tx({openid:t,callLoginByWeixin:e=!1}={}){const r=mu(this);if(t&&e)throw new Error("[SecureNetwork] openid and callLoginByWeixin cannot be passed at the same time");if(t)return r.mpWeixinOpenid=t,{};const i=await new Promise((a,o)=>{J.login({success(s){a(s.code)},fail(s){o(new Error(s.errMsg))}})});return await this.importObject("uni-id-co",{customUI:!0}).secureNetworkHandshakeByWeixin({code:i,callLoginByWeixin:e}),r.mpWeixinCode=i,{code:i}}async function ix(t){const e=mu(this);return e.initPromise||(e.initPromise=tx.call(this,t).then(r=>r).catch(r=>{throw delete e.initPromise,r})),e.initPromise}function rx(t){return function({openid:e,callLoginByWeixin:r=!1}={}){return ix.call(t,{openid:e,callLoginByWeixin:r})}}function nx(t){(function(e){kn=e})(t)}function fs(t){const e={getSystemInfo:J.getSystemInfo,getPushClientId:J.getPushClientId};return function(r){return new Promise((i,n)=>{e[t]({...r,success(a){i(a)},fail(a){n(a)}})})}}class ax extends class{constructor(){this._callback={}}addListener(e,r){this._callback[e]||(this._callback[e]=[]),this._callback[e].push(r)}on(e,r){return this.addListener(e,r)}removeListener(e,r){if(!r)throw new Error('The "listener" argument must be of type function. Received undefined');const i=this._callback[e];if(!i)return;const n=function(a,o){for(let s=a.length-1;s>=0;s--)if(a[s]===o)return s;return-1}(i,r);i.splice(n,1)}off(e,r){return this.removeListener(e,r)}removeAllListener(e){delete this._callback[e]}emit(e,...r){const i=this._callback[e];if(i)for(let n=0;n<i.length;n++)i[n](...r)}}{constructor(){super(),this._uniPushMessageCallback=this._receivePushMessage.bind(this),this._currentMessageId=-1,this._payloadQueue=[]}init(){return Promise.all([fs("getSystemInfo")(),fs("getPushClientId")()]).then(([{appId:e}={},{cid:r}={}]=[])=>{if(!e)throw new Error("Invalid appId, please check the manifest.json file");if(!r)throw new Error("Invalid push client id");this._appId=e,this._pushClientId=r,this._seqId=Date.now()+"-"+Math.floor(9e5*Math.random()+1e5),this.emit("open"),this._initMessageListener()},e=>{throw this.emit("error",e),this.close(),e})}async open(){return this.init()}_isUniCloudSSE(e){if(e.type!=="receive")return!1;const r=e&&e.data&&e.data.payload;return!(!r||r.channel!=="UNI_CLOUD_SSE"||r.seqId!==this._seqId)}_receivePushMessage(e){if(!this._isUniCloudSSE(e))return;const r=e&&e.data&&e.data.payload,{action:i,messageId:n,message:a}=r;this._payloadQueue.push({action:i,messageId:n,message:a}),this._consumMessage()}_consumMessage(){for(;;){const e=this._payloadQueue.find(r=>r.messageId===this._currentMessageId+1);if(!e)break;this._currentMessageId++,this._parseMessagePayload(e)}}_parseMessagePayload(e){const{action:r,messageId:i,message:n}=e;r==="end"?this._end({messageId:i,message:n}):r==="message"&&this._appendMessage({messageId:i,message:n})}_appendMessage({messageId:e,message:r}={}){this.emit("message",r)}_end({messageId:e,message:r}={}){this.emit("end",r),this.close()}_initMessageListener(){J.onPushMessage(this._uniPushMessageCallback)}_destroy(){J.offPushMessage(this._uniPushMessageCallback)}toJSON(){return{appId:this._appId,pushClientId:this._pushClientId,seqId:this._seqId}}close(){this._destroy(),this.emit("close")}}async function ox(t,e){const r=`http://${t}:${e}/system/ping`;try{const n=await(i={url:r,timeout:500},new Promise((a,o)=>{se.request({...i,success(s){a(s)},fail(s){o(s)}})}));return!(!n.data||n.data.code!==0)}catch{return!1}var i}async function sx(t){const e=t.__dev__;if(!e.debugInfo)return;const{address:r,servePort:i}=e.debugInfo,{address:n}=await async function(s,l){let c;for(let u=0;u<s.length;u++){const f=s[u];if(await ox(f,l)){c=f;break}}return{address:c,port:l}}(r,i);if(n)return e.localAddress=n,void(e.localPort=i);const a=console.warn;let o="";if(e.debugInfo.initialLaunchType==="remote"?(e.debugInfo.forceRemote=!0,o=`当前客户端和HBuilderX不在同一局域网下（或其他网络原因无法连接HBuilderX），uniCloud本地调试服务不对当前客户端生效。
- 如果不使用uniCloud本地调试服务，请直接忽略此信息。
- 如需使用uniCloud本地调试服务，请将客户端与主机连接到同一局域网下并重新运行到客户端。`):o=`无法连接uniCloud本地调试服务，请检查当前客户端是否与主机在同一局域网下。
- 如需使用uniCloud本地调试服务，请将客户端与主机连接到同一局域网下并重新运行到客户端。`,o+=`
- 如果在HBuilderX开启的状态下切换过网络环境，请重启HBuilderX后再试
- 检查系统防火墙是否拦截了HBuilderX自带的nodejs
- 检查是否错误的使用拦截器修改uni.request方法的参数`,zt.indexOf("mp-")===0&&(o+=`
- 小程序中如何使用uniCloud，请参考：https://uniapp.dcloud.net.cn/uniCloud/publish.html#useinmp`),!e.debugInfo.forceRemote)throw new Error(o);a(o)}function lx(t){t._initPromiseHub||(t._initPromiseHub=new xa({createPromise:function(){let e=Promise.resolve();var r;r=1,e=new Promise(n=>{setTimeout(()=>{n()},r)});const i=t.auth();return e.then(()=>i.getLoginState()).then(n=>n?Promise.resolve():i.signInAnonymously())}}))}const cx={tcb:Qo,tencent:Qo,aliyun:Yv,private:b0,alipay:T0};let Se=new class{init(t){let e={};const r=cx[t.provider];if(!r)throw new Error("未提供正确的provider参数");return e=r.init(t),function(i){const n={};i.__dev__=n,n.debugLog=zt==="app";const a=Vv;a&&!a.code&&(n.debugInfo=a);const o=new xa({createPromise:function(){return sx(i)}});n.initLocalNetwork=function(){return o.exec()}}(e),lx(e),R0(e),function(i){const n=i.uploadFile;i.uploadFile=function(a){return n.call(this,a)}}(e),function(i){i.database=function(n){if(n&&Object.keys(n).length>0)return i.init(n).database();if(this._database)return this._database;const a=os(ss,{uniClient:i});return this._database=a,a},i.databaseForJQL=function(n){if(n&&Object.keys(n).length>0)return i.init(n).databaseForJQL();if(this._databaseForJQL)return this._databaseForJQL;const a=os(ss,{uniClient:i,isJQL:!0});return this._databaseForJQL=a,a}}(e),function(i){i.getCurrentUserInfo=X0,i.chooseAndUploadFile=Q0.initChooseAndUploadFile(i),Object.assign(i,{get mixinDatacom(){return pu(i)}}),i.SSEChannel=ax,i.initSecureNetworkByWeixin=rx(i),i.setCustomClientInfo=nx,i.importObject=ex(i)}(e),["callFunction","uploadFile","deleteFile","getTempFileURL","downloadFile","chooseAndUploadFile"].forEach(i=>{if(!e[i])return;const n=e[i];e[i]=function(){return n.apply(e,Array.from(arguments))},e[i]=function(a,o){return function(s){let l=!1;o==="callFunction"&&(l=(s&&s.type||Ro)!==Ro);const c=o==="callFunction"&&!l,u=this._initPromiseHub.exec();s=s||{};const{success:f,fail:h,complete:d}=Uc(s),m=u.then(()=>l?Promise.resolve():xe(_e(o,"invoke"),s)).then(()=>a.call(this,s)).then(p=>l?Promise.resolve(p):xe(_e(o,"success"),p).then(()=>xe(_e(o,"complete"),p)).then(()=>(c&&we(Oe,{type:Fi,content:p}),Promise.resolve(p))),p=>l?Promise.reject(p):xe(_e(o,"fail"),p).then(()=>xe(_e(o,"complete"),p)).then(()=>(we(Oe,{type:Fi,content:p}),Promise.reject(p))));if(!(f||h||d))return m;m.then(p=>{f&&f(p),d&&d(p),c&&we(Oe,{type:Fi,content:p})},p=>{h&&h(p),d&&d(p),c&&we(Oe,{type:Fi,content:p})})}}(e[i],i).bind(e)}),e.init=this.init,e}};(()=>{const t=Fc;let e={};if(t&&t.length===1)e=t[0],Se=Se.init(e),Se._isDefault=!0;else{const r=["auth","callFunction","uploadFile","deleteFile","getTempFileURL","downloadFile","database","getCurrentUSerInfo","importObject"];let i;i=t&&t.length>0?"应用有多个服务空间，请通过uniCloud.init方法指定要使用的服务空间":"应用未关联服务空间，请在uniCloud目录右键关联服务空间",r.forEach(n=>{Se[n]=function(){return console.error(i),Promise.reject(new N({code:"SYS_ERR",message:i}))}})}Object.assign(Se,{get mixinDatacom(){return pu(Se)}}),G0(Se),Se.addInterceptor=Nc,Se.removeInterceptor=Gv,Se.interceptObject=Jv})();var ux=Se;exports.Vs=ux;exports._export_sfc=yu;exports.computed=rc;exports.createSSRApp=fm;exports.e=am;exports.f=im;exports.getCurrentInstance=kt;exports.index=J;exports.initVueI18n=lf;exports.n=om;exports.nextTick$1=ta;exports.o=tm;exports.onLoad=dy;exports.onMounted=na;exports.onShow=hy;exports.onUnmounted=oa;exports.p=lm;exports.r=rm;exports.reactive=mr;exports.ref=Dl;exports.resolveComponent=pg;exports.s=nm;exports.sr=cm;exports.t=sm;exports.toRefs=Vd;exports.uCharts=ve;exports.unref=Xn;exports.useRouter=fy;exports.watch=Hi;exports.wx$1=oi;
