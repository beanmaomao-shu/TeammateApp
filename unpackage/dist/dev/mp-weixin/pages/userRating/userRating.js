"use strict";const a=require("../../common/vendor.js"),p=require("../../api/userInfo.js");Array||a.resolveComponent("uni-icons")();const _=()=>"../../uni_modules/uni-icons/components/uni-icons/uni-icons.js";Math||_();const f={__name:"userRating",setup(g){const s=a.ref({username:"",avatar:"",school:""}),r=a.ref([{name:"技术能力",value:4.5,color:"#FF6B6B"},{name:"合作能力",value:4.2,color:"#4ECDC4"},{name:"交流能力",value:3.8,color:"#FFD166"},{name:"责任心",value:4.7,color:"#6A0572"},{name:"满意度",value:4.3,color:"#1A936F"}]),m=a.computed(()=>r.value.reduce((o,t)=>o+t.value,0)/r.value.length);a.ref({padding:[15,15,0,15],legend:{show:!0,position:"bottom"},dataLabel:!1,dataPointShape:!0,radarAxis:{gridType:"radar",gridColor:"#CCCCCC",gridCount:5,labelColor:"#666666",max:5},extra:{radar:{gridType:"radar",gridColor:"#CCCCCC",gridCount:5,opacity:.2,border:!0}}}),a.ref({categories:r.value.map(e=>e.name),series:[{name:"个人评分",data:r.value.map(e=>e.value),color:"#AC33C1"},{name:"平均水平",data:[3.5,3.5,3.5,3.5,3.5],color:"#4ECDC4"}]});const u=a.ref([{rating:5,content:"非常优秀的队友，技术能力强，沟通顺畅，合作愉快！",date:"2023-05-15",tags:["技术过硬","沟通顺畅","有责任心"]},{rating:4,content:"很好的合作伙伴，能够按时完成任务，积极参与讨论。",date:"2023-04-28",tags:["按时交付","积极参与"]},{rating:5,content:"技术能力很强，解决问题迅速，是团队的中流砥柱。",date:"2023-03-10",tags:["解决问题快","技术过硬"]}]),i=async()=>{try{const e=await p.getUserInfoAPI();e.data&&(s.value={username:e.data.username||"用户名",avatar:e.data.avatar||"../../static/images/avatar.png",school:e.data.school||"未知学校"})}catch(e){console.error("获取用户信息失败：",e)}};a.onMounted(()=>{i()});function v(){const e=a.index.createCanvasContext("radarChart",this);new a.uCharts({type:"radar",context:e,width:360,height:360,categories:r.value.map(o=>o.name),series:[{name:"个人评分",data:r.value.map(o=>o.value),color:"#AC33C1"}],radar:{max:5,labelColor:"#666",gridColor:"#ccc",gridCount:5,radius:120},dataLabel:!0,legend:{show:!0,position:"bottom"},extra:{radar:{gridType:"radar",gridColor:"#CCCCCC",gridCount:5,opacity:.2,border:!0}}})}return a.onMounted(()=>{i(),setTimeout(()=>{v()},300)}),(e,o)=>({a:s.value.avatar||"../../static/images/avatar.png",b:a.t(s.value.username||"用户名"),c:a.t(s.value.school||"学校"),d:a.t(m.value.toFixed(1)),e:a.f(r.value,(t,c,l)=>({a:a.t(t.name),b:t.value/5*100+"%",c:t.color,d:a.t(t.value.toFixed(1)),e:c})),f:a.t(u.value.length),g:a.f(u.value,(t,c,l)=>({a:a.t(t.date),b:a.f(5,(n,d,C)=>({a:n,b:"9b35427c-0-"+l+"-"+C,c:a.p({type:n<=t.rating?"star-filled":"star",size:"18",color:n<=t.rating?"#FFCC00":"#CCCCCC"})})),c:a.t(t.rating),d:a.t(t.content),e:a.f(t.tags,(n,d,C)=>({a:a.t(n),b:d})),f:c}))})}},h=a._export_sfc(f,[["__scopeId","data-v-9b35427c"]]);wx.createPage(h);
